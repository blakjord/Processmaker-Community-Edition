<!DOCTYPE html>
<head>
<meta charset="utf-8" />
<meta name="keywords" content="BPM, business process management, workflow, processmaker, business, BPM Windows, BPM Linux, wiki, BPM documentation, BPM FAQ, task documentation, BPM PHP, BPM Open Source, BPM Variables, BPM Installation, BPM Programming, BPM Elements, BPM Concepts, BPM Frequently Asked Questions, BPM 3.0, BPM News, Release notes, DynaForms, BPM Community, BPM Enterprise, BPM Mobile, BPM Responsive Web Design, User Manual, BPM Resources" />
<link rel="alternate" hreflang="en" href="../index.html" />
<link rel="shortcut icon" href="https://wiki.processmaker.com/themes/thecompany_responsive_theme/favicon.ico" type="image/vnd.microsoft.icon" />
<meta name="description" content="ProcessMaker is commercial open source workflow and business process management software." />
<meta name="viewport" content="width=device-width" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="PM_Tables.html" />
<link rel="shortlink" href="../node/459.html" />
<title>3.0 - PM Tables | Documentation@ProcessMaker</title>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/modules/system/system.base.css?s743n7");
@import url("https://wiki.processmaker.com/modules/system/system.menus.css?s743n7");
@import url("https://wiki.processmaker.com/modules/system/system.messages.css?s743n7");
@import url("https://wiki.processmaker.com/modules/system/system.theme.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/modules/aggregator/aggregator.css?s743n7");
@import url("https://wiki.processmaker.com/modules/comment/comment.css?s743n7");
@import url("https://wiki.processmaker.com/modules/field/theme/field.css?s743n7");
@import url("https://wiki.processmaker.com/modules/node/node.css?s743n7");
@import url("https://wiki.processmaker.com/modules/search/search.css?s743n7");
@import url("https://wiki.processmaker.com/modules/toc_filter/toc_filter.css?s743n7");
@import url("https://wiki.processmaker.com/modules/user/user.css?s743n7");
@import url("https://wiki.processmaker.com/modules/views/css/views.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/sites/all/modules/colorbox/styles/default/colorbox_style.css?s743n7");
@import url("https://wiki.processmaker.com/modules/ctools/css/ctools.css?s743n7");
@import url("https://wiki.processmaker.com/sites/all/modules/geshifilter/geshifilter.css?s743n7");
@import url("https://wiki.processmaker.com/modules/panels/css/panels.css?s743n7");
@import url("https://wiki.processmaker.com/modules/nice_menus/css/nice_menus.css?s743n7");
@import url("https://wiki.processmaker.com/modules/nice_menus/css/nice_menus_default.css?s743n7");
@import url("https://wiki.processmaker.com/modules/fivestar/css/fivestar.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/themes/thecompany_responsive_theme/css/style.css?s743n7");
@import url("https://wiki.processmaker.com/themes/thecompany_responsive_theme/css/media.css?s743n7");
</style>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/replace/jquery/1.9/jquery.min.js?v=1.9.1"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/jquery.once.js?v=1.2"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/drupal.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/jquery.bgiframe.js?v=2.1"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/jquery.hoverIntent.js?v=0.5"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/superfish.js?v=1.4.8"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/nice_menus.js?v=1.0"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/replace/ui/external/jquery.cookie.js?v=67fb34f6a866c40d0570"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/replace/misc/jquery.form.min.js?v=2.69"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/ajax.js?v=7.34"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/js/jquery_update.js?v=0.0.1"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/toc_filter/toc_filter.js?s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/colorbox/js/colorbox.js@s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/colorbox/styles/default/colorbox_style.js@s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/google_analytics/googleanalytics.js@s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create", "UA-3380652-1", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");
//--><!]]>
</script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/progress.js?v=7.34"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/fivestar/js/fivestar.ajax.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/fivestar/js/fivestar.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/jquery-1.10.2.min.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/jquery-ui.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/jquery-ui.min.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/custom.js?s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"thecompany_responsive_theme","theme_token":"bJyxdAbxCIHfmeZLDX_viwYPEhYtToY5XKTsYL37uH0","jquery_version":"1.9","js":{"modules\/jquery_update\/replace\/jquery\/1.9\/jquery.min.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"modules\/nice_menus\/js\/jquery.bgiframe.js":1,"modules\/nice_menus\/js\/jquery.hoverIntent.js":1,"modules\/nice_menus\/js\/superfish.js":1,"modules\/nice_menus\/js\/nice_menus.js":1,"modules\/jquery_update\/replace\/ui\/external\/jquery.cookie.js":1,"modules\/jquery_update\/replace\/misc\/jquery.form.min.js":1,"misc\/ajax.js":1,"modules\/jquery_update\/js\/jquery_update.js":1,"modules\/toc_filter\/toc_filter.js":1,"sites\/all\/modules\/colorbox\/js\/colorbox.js":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.js":1,"sites\/all\/modules\/google_analytics\/googleanalytics.js":1,"0":1,"misc\/progress.js":1,"modules\/fivestar\/js\/fivestar.ajax.js":1,"modules\/fivestar\/js\/fivestar.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-1.10.2.min.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.min.js":1,"themes\/thecompany_responsive_theme\/js\/custom.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/aggregator\/aggregator.css":1,"modules\/comment\/comment.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/toc_filter\/toc_filter.css":1,"modules\/user\/user.css":1,"modules\/views\/css\/views.css":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.css":1,"modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/geshifilter\/geshifilter.css":1,"modules\/panels\/css\/panels.css":1,"modules\/nice_menus\/css\/nice_menus.css":1,"modules\/nice_menus\/css\/nice_menus_default.css":1,"modules\/fivestar\/css\/fivestar.css":1,"themes\/thecompany_responsive_theme\/css\/style.css":1,"themes\/thecompany_responsive_theme\/css\/media.css":1}},"colorbox":{"opacity":"0.85","current":"{current} of {total}","previous":"\u00ab Prev","next":"Next \u00bb","close":"Close","maxWidth":"98%","maxHeight":"98%","fixed":true,"mobiledetect":true,"mobiledevicewidth":"480px","specificPagesDefaultValue":"admin*\nimagebrowser*\nimg_assist*\nimce*\nnode\/add\/*\nnode\/*\/edit\nprint\/*\nprintpdf\/*\nsystem\/ajax\nsystem\/ajax\/*"},"toc_filter_smooth_scroll_duration":"","googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip","trackColorbox":1},"nice_menus_options":{"delay":"800","speed":"slow"},"ajax":{"edit-vote--2":{"callback":"fivestar_ajax_submit","event":"change","url":"\/system\/ajax","submit":{"_triggering_element_name":"vote"}}}});
//--><!]]>
</script>
<!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

<!-- Facebook Pixel Code -->
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','//connect.facebook.net/en_US/fbevents.js');
// Insert Your Facebook Pixel ID below.
fbq('init', '735235999992228');
fbq('track', 'PageView');
</script>
<!-- Insert Your Facebook Pixel ID below. -->
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=735235999992228&amp;ev=PageView&amp;noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->

</head>
<body class="html not-front not-logged-in no-sidebars page-node page-node- page-node-459 node-type-processmakerbpm">
    
<div class="wrap">

<div id="header_wrapper">
  <div id="inner_header_wrapper">

    <header id="header" role="banner">
      
      <div class="header_inner_wrapper">
        <div class="header_left">
                      <div id="logo">
              <a href="../index.html" title="Home"><img src="../sites/default/files/full-logo.png"/></a>
            </div>
                            <!--  <h1 id="site-title">
            <a href="/" title="Home">Documentation@ProcessMaker</a>
            <div id="site-description"></div>
          </h1> -->
            
        </div>
      </div>
      <div class="header_right">
          <div class="region region-search">
  <div id="block-search-form" class="block block-search">

        <h2 >_</h2>
    
  <div class="content">
    <form action="PM_Tables.html" method="post" id="search-block-form" accept-charset="UTF-8"><div><div class="container-inline">
    <div class="form-item form-type-textfield form-item-search-block-form">
  <label class="element-invisible" for="edit-search-block-form--2">Search </label>
 <input title="Enter the terms you wish to search for." placeholder="Search" type="text" id="edit-search-block-form--2" name="search_block_form" value="" size="15" maxlength="128" class="form-text" />
</div>
<div class="form-actions form-wrapper" id="edit-actions"><input type="submit" id="edit-submit" name="op" value="Search" class="form-submit" /></div><input type="hidden" name="form_build_id" value="form-ZhI8nsCezj0mNcNJuHTqVIAeCYWSxtCy-VqugNHzNww" />
<input type="hidden" name="form_id" value="search_block_form" />
</div>
</div></form>  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
                  <h1 class="page-title">3.0 - PM Tables</h1>                <p class="page-title-suffix"></p>
                 <div style="margin-top: 5px;"></div>
      </div>
    </header>
    <div class="region-version">
      <span>Version: </span><ul><li><a href="../3.2/PM_Tables.html" class="">3.8</a></li><li><a href="../3.2/PM_Tables.html" class="">3.7</a></li><li><a href="../3.2/PM_Tables.html" class="">3.6</a></li><li><a href="../3.2/PM_Tables.html" class="">3.5</a></li><li><a href="../3.2/PM_Tables.html" class="">3.4</a></li><li><a href="../3.2/PM_Tables.html" class="">3.3</a></li><li><a href="../3.2/PM_Tables.html" class="">3.2</a></li><li><a href="../3.1/PM_Tables.html" class="">3.1</a></li><li><a  class="active-version">3.0</a></li><li><a href="../index.php/PM_Tables.html" class="">2.x</a></li></ul>    </div>
  </div>
</div>
<!-- <ul class="nice-menu nice-menu-down nice-menu-main-menu" id="nice-menu-0"><li class="menu-506 menu-path-node-1078 first odd "><a href="/PM_Classic" title="Learn how to develop business solutions in ProcessMaker Platform while maintaining your existing ProcessMaker 3 solutions in PM Classic: the perfect bridge between your new and existing solutions with a state-of--the-art BPM platform.">PM Classic</a></li>
<li class="menu-319 menu-path-processmakercom-tutorials  even "><a href="http://www.processmaker.com/tutorials" title="">Tutorials</a></li>
<li class="menu-320 menu-path-node-571  odd "><a href="/3.1/user_guide">User Guide</a></li>
<li class="menu-1138 menu-path-node-572  even "><a href="/3.1/developer_info">Developer Info</a></li>
<li class="menu-1197 menu-path-node-876  odd "><a href="/3.2/sys_administration">Sys Administration</a></li>
<li class="menu-1140 menu-path-node-236  even "><a href="/3.1/resources">Helpful Resources</a></li>
<li class="menu-1141 menu-path-node-554  odd "><a href="/Sitemap">Sitemap</a></li>
<li class="menu-1213 menu-path-sprocessmakergitbookio-processmaker-  even last"><a href="https://processmaker.gitbook.io/processmaker/" title="Read ProcessMaker Platform Spring 2023 documentation to learn more about the next generation of BPM.">ProcessMaker Platform</a></li>
</ul>
-->
  
  <div id="container">
    
    <div class="content-sidebar-wrap">

    <div id="content">

              <!-- <div id="breadcrumbs">
        <h2 class="element-invisible">You are here</h2><div class="breadcrumb"><a href="/">Home</a></div></div> -->
      
      <section id="post-content" role="main">
                                        <div class="region region-content">
  <div id="block-system-main" class="block block-system">

      
  <div class="content">
                          <span property="dc:title" content="3.0 - PM Tables" class="rdf-meta element-hidden"></span>  
      
    
  <div class="content node-processmakerbpm">
    <div class="field field-name-field-how-useful-did-you-find-th field-type-fivestar field-label-above"><div class="field-label">Please rate how useful you found this document:&nbsp;</div><div class="field-items"><div class="field-item even"><form class="fivestar-widget" action="PM_Tables.html" method="post" id="fivestar-custom-widget" accept-charset="UTF-8"><div><div  class="clearfix fivestar-average-text fivestar-average-stars fivestar-form-item fivestar-default"><div class="form-item form-type-fivestar form-item-vote">
 <div class="form-item form-type-select form-item-vote">
 <select id="edit-vote--2" name="vote" class="form-select"><option value="-">Select rating</option><option value="20">Give 3.0 - PM Tables 1/5</option><option value="40">Give 3.0 - PM Tables 2/5</option><option value="60" selected="selected">Give 3.0 - PM Tables 3/5</option><option value="80">Give 3.0 - PM Tables 4/5</option><option value="100">Give 3.0 - PM Tables 5/5</option></select>
<div class="description"><div class="fivestar-summary fivestar-summary-average-count"><span class="average-rating">Average: <span >3</span></span> <span class="total-votes">(<span >7</span> votes)</span></div></div>
</div>

</div>
</div><input class="fivestar-submit form-submit" type="submit" id="edit-fivestar-submit" name="op" value="Rate" /><input type="hidden" name="form_build_id" value="form-Sl1IPW22AS8tEhNGZKmoUAnTFK4E_Toanl_5sRc_lco" />
<input type="hidden" name="form_id" value="fivestar_custom_widget" />
</div></form></div></div></div><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><div style="float: right; margin-left: 5px; background-color: #f9f9f9; border: 1px solid #aaaaaa; padding: 5px;"><center><strong>Contents:</strong> [<a href="PM_Tables.html#" onclick="var el = document.getElementById('toc');
        var txt = ('innerText' in el)? 'innerText' : 'textContent';
        if (el.style.display=='none') { 
           el.style.display = '';
           document.getElementById('hideLabel')[txt] = 'hide';
        }
        else {
	        el.style.display = 'none';
           document.getElementById('hideLabel')[txt] = 'show';
        }"><span id="hideLabel">hide</span></a>]</b></center><div id="toc" ><ol class="toc">
<li class="toc"><a href="PM_Tables.html#Overview">Overview</a></li>
<li class="toc"><a href="PM_Tables.html#Creating_PM_Tables">Creating PM Tables</a></li>
<ol class="toc">
<li class="toc"><a href="PM_Tables.html#Adding_Fields">Adding Fields </a></li>
<li class="toc"><a href="PM_Tables.html#Editing_Fields">Editing Fields </a></li>
<li class="toc"><a href="PM_Tables.html#Removing_Fields">Removing Fields </a></li>
</ol>
<li class="toc"><a href="PM_Tables.html#List_of_PM_Tables">List of PM Tables</a></li>
<ol class="toc">
<li class="toc"><a href="PM_Tables.html#Editing_Pm_Table_Data">Editing PM Table Data</a></li>
<li class="toc"><a href="PM_Tables.html#Deleting_Pm_Table_Data">Deleting PM Table Data</a></li>
<li class="toc"><a href="PM_Tables.html#Viewing_and_Editing_PM_Table_Data">Viewing and Editing PM Table Data</a></li>
<ol class="toc">
<li class="toc"><a href="PM_Tables.html#Searching_Data_inside_a_PmTable">Searching Data Inside a PM Table</a></li>
</ol>
<li class="toc"><a href="PM_Tables.html#Header_Properties_from_the_Table_List">Header Properties from the Table List </a></li>
<li class="toc"><a href="PM_Tables.html#Importing_CSV_Tables_into_PMTables">Importing CSV Files into PM Tables</a></li>
<ol class="toc">
<li class="toc"><a href="PM_Tables.html#Save_Spreadsheet_As_a_CSV_Files">Save Spreadsheet as a CSV File</a></li>
<li class="toc"><a href="PM_Tables.html#Format_of_CSV_Files">Format of CSV Files</a></li>
<li class="toc"><a href="PM_Tables.html#Importing_the_CSV_File">Importing the CSV File</a></li>
</ol>
<li class="toc"><a href="PM_Tables.html#Exporting_PM_Table_data_as_CSV_file">Exporting PM Table Data as a CSV File</a></li>
</ol>
<li class="toc"><a href="PM_Tables.html#Exporting_PM_Tables">Exporting PM Tables</a></li>
<li class="toc"><a href="PM_Tables.html#Importing_PM_Tables">Importing PM Tables</a></li>
<li class="toc"><a href="PM_Tables.html#Reserved_Words_in_PM_Tables">Reserved Words in PM Tables</a></li>
<li class="toc"><a href="PM_Tables.html#Accessing_PM_Tables_from_Triggers">Accessing PM Tables from Triggers</a></li>
<ol class="toc">
<li class="toc"><a href="PM_Tables.html#Downloading_CVS_Files_Generated_from_PM_Tables">Downloading CVS Files Generated from PM Tables</a></li>
</ol>
<li class="toc"><a href="PM_Tables.html#Accessing_PM_Tables_in_DynaForms">Accessing PM Tables in Dynaforms</a></li>
<ol class="toc">
<li class="toc"><a href="PM_Tables.html#Querying_PM_Tables_in_DynaForm_Fields">Querying PM Tables in Dynaform Fields</a></li>
<ol class="toc">
<li class="toc"><a href="PM_Tables.html#Populating_ordinary_fields">Populating Ordinary Fields</a></li>
<li class="toc"><a href="PM_Tables.html#Using_Variables_in_SQL_Queries">Using Variables in SQL Queries</a></li>
<ol class="toc">
<li class="toc"><a href="PM_Tables.html#System_or_Case_Variables_in_SQL_Queries">System or Case Variables in SQL Queries</a></li>
<li class="toc"><a href="PM_Tables.html#SQL_Queries_with_Dependent_Fields">SQL Queries with Dependent Fields</a></li>
</ol>
<li class="toc"><a href="PM_Tables.html#Populating_DynaForm_Grids">Populating Dynaform Grids</a></li>
</ol>
</div></div>

<h2><span id="Overview">Overview</span></h2>
<p>PM tables are designed for users who do not wish to go through the hassle of maintaining an external database. Even users who have external databases may find PM tables handy for managing data that will be used in Dynaforms or Output Documents. The data in PM tables is stored in the MySQL database <strong><tt>wf_<i>&lt;workspace&gt;</i></tt></strong> (which by default is named <strong><tt>wf_workflow</tt></strong>), so the data can also be accessed by an external program.</p>

<h2><span id="Creating_PM_Tables">Creating PM Tables</span></h2>
<p>To create a PM table, go to <strong>Admin</strong> &gt; <strong>Settings</strong> &gt; <strong>PM Tables</strong></p>
<p style="margin-left:25px"><font color=green><b>Note:</b></font> <font color=dimgrey>From version 3.0.1.8 on, users must have the <a href="Roles.html#PM_SETUP_PM_TABLES">PM_SETUP_PM_TABLES</a> permission assigned to their role to access the <strong>Admin &gt; Settings &gt; PM Tables</strong> option. This permission is not needed to use the <a href="../3.1/ProcessMaker_Functions.html#executeQuery.28.29">executeQuery()</a> function in a trigger to access PM Tables, but access can be restricted by editing the <a href="Consulting_the_ProcessMaker_databases.html#Protecting_PM_Core_Tables">execute-query-blacklist.ini</a> file.</font></p>

<p><img alt="" src="../sites/default/files/ProcessMaker3_PMTablesOption.png"></p>
<p>Click on <strong>New</strong> and two options will display, choose <strong>New PM Table.</strong></p>
<p><img alt="" src="../sites/default/files/NewPmTable.png"></p>
<p>Enter all the information about the new PM table into the fields:</p>
<ul>
    <li><strong>Table Name:</strong> Enter the name of the new table, which will be converted into uppercase.
<p>PM tables are created with the prefix <tt>PMT_</tt>,  so they won't be confused with other tables in the <strong><tt>wf_<i>&lt;workspace&gt;</i></tt></strong> database.</p>
<p><img alt="" src="../sites/default/files/PMTABLE_PrefixPMT.png"></p>

<p>For example:</p>
<p>If a PM table named "COUNTRY" is created, the actual name of the newly created table will be: "PMT_COUNTRY", as shown in the image below:</p>
<p><img alt="" src="../sites/default/files/CreatedTablePrefixPMT.png"></p>
<p style="margin-left:25px"><strong><font color="green">Note:</font></strong> <font color="dimgray">When querying a PM table with SQL, remember to include the "PMT_" prefix in the table name.</font></p>
</li>
    <li><strong>Description:</strong> A description or any additional information about the table.</li>
</ul>

<h3><span id="Adding_Fields">Adding Fields </span></h3>
<p>To add fields to the PM table, click on the <img alt="" src="../sites/default/files/AddField.png" height="25" width="67"> icon. Enter the following information about the new field:</p>
<p><img alt="" src="../sites/default/files/PMTableAddField.png" height="172" width="851"></p>
<p><strong>Fields:</strong></p>
<ul>
    <li><strong>Field Name:</strong> A unique case-insensitive name to identify the field. Names can only contain letters, numbers and <code>_</code> (underscores) and can be up to 64 characters long. They cannot begin with a number. Spaces, symbols and non-ASCII letters such as Ä and Ñ are not permitted. ProcessMaker will also check that the field names are not one of the <a href="PM_Tables.html#Reserved_Words_in_PM_Tables">reserved words</a> in MySQL and PHP.</li>
    <li><strong>Field Label:</strong> The displayed label for the field, which the user will see when editing data in the table.</li>
    <li><strong>Type:</strong> Fields can be one following data types:
<ul>
<li><strong>BIGINT</strong> is an integer of 8 Bytes storage capacity that can have a value between -9223372036854775808 and 9223372036854775807.</li>
    <li><strong>BOOLEAN</strong> is a field where <code>0</code> is considered <i>false</i> and a non-zero value is considered <i>true</i>. Note: In reality, this is an integer, so it can accept any value between -2147483648 and 2147483647.</li>
    <li><strong>CHAR</strong> is field with a string of 255 or fewer characters. It is like a VARCHAR, but it stores the full number of characters in the database. Note: There is no performance advantage in MySQL databases to using CHAR instead of VARCHAR, so it is recommended to use VARCHAR since it occupies less space in the database.</li>
    <li><strong>DATE</strong> is a date that is stored in the format <code>YYYY-MM-DD</code>, such as <code>2010-07-25</code>.</li>
    <li><strong>DATETIME</strong> is the date and its time, which is stored in the format <code>YYYY-MM-DD HH:MM:SS</code>, such as <code>1999-12-31 08:52:04</code>, where <code>YYYY</code> is the year, <code>MM</code> is the month between 01 and 12 and <code>DD</code> is the day between 01 and 31, <code>HH</code> is the hour between 00 and 23, <code>MM</code> are the minutes between 00 and 59 and <code>SS</code> are the seconds between 00 and 59.</li></li>
    <li><strong>DECIMAL</strong> is a floating-point number that allows the size to be set. If no <b>size</b> is specified, it will be 10 digits long with no decimal digits by default. If the <b>size</b> is specified, then it sets the maximum number of digits before the decimal point, and the precision is two decimal digits. It is recommended to use this data type for money, since it has exactly two decimal digits.</li>
    <li><strong>DOUBLE</strong> is a 8 byte floating-point number between -1.7976931348623157E+308 and 1.7976931348623157E+308.</tt>
<li><strong>FLOAT</strong> is a 4 byte floating point number between -3.402823466E+38 and 3.402823466E+38.</li>
    <li><strong>INTEGER</strong> is an 4 byte integer between -2147483648 and 2147483647.</li>
    <li><strong>LONGVARCHAR</strong> is a string of characters up to 16,777,215 bytes long.</li>
    <li><strong>TEXT</strong> is a string of characters less than 65,536 bytes long.</li>
    <li><strong>REAL</strong> is a synonym for DOUBLE.</li>
    <li><strong>SMALLINT</strong> is a 2 byte integer between -32768 and 32767.</li>
    <li><strong>TIME</strong> is the time in <code>HH:MM:SS</code> format, where <code>HH</code> (hour) is between 00 and 23, <code>MM</code> (minutes) is between 00 and 59 and <code>SS</code> (seconds) is between 00 and 59.</li>
    <li><strong>TIMESTAMP</strong> is the same as DATETIME. Take into consideration that when storing a value in a TIMESTAMP field, the value will be automatically converted to the DATETIME type, because of restrictions in the ProcessMaker ORM.</li>
    <li><strong>TINYINT</strong> is a 1 byte integer between -128 and 127.</li>
    <li><strong>VARCHAR</strong> is a string up to 999 bytes long. It only uses as much space in the database as is needed.</li>

    <p>See the <a href="http://dev.mysql.com/doc/refman/5.0/en/data-types.html">MySQL manual</a> for more information on these data types.</p></li>
</ul>
</li>
<li><strong>Size:</strong> For CHAR and VARCHAR fields, the maximum number of bytes of storage between 0 and 999 bytes. The database uses the UTF-8 character set, so it uses 1 byte to store an ASCII character, but between 2 and 4 bytes to store international characters like Ñ or عَ. For integers, the size is the maximum number of digits of precision, so it cannot be larger than 3 for TINYINT, 5 for SMALLINT, 10 for INTEGER and 19 for BIGINT. For DECIMAL, the size is the number of digits of precision before the decimal point, along with 2 decimal digits. The number of decimal digits cannot be set in the graphical interface. The size is not applicable for FLOAT, REAL, DOUBLE, BOOLEAN, DATETIME, DATE, TIME, TIMESTAMP and LONGVARCHAR fields. Note that the size can be specified for LONGVARCHAR and FLOAT, but it is not used.</li>
<li><strong>Null:</strong> Select if the field is a <a class="external text" href="http://dev.mysql.com/doc/refman/5.1/en/null-values.html" rel="nofollow">NULL</a> value, i.e. "no data".</li>
<li><strong>Primary Key:</strong> Select if the field (or a combination of fields) will hold a unique, unalterable value that is used to index the table. All PM tables must contain at least one primary key.</li>
<li><strong>Auto increment:</strong> Select if the field will be automatically increased.</li>
<li><strong>Index:</strong> If marked, the field is indexed, which allows it to be searched more quickly. This option is disabled for all data types that aren't integers (TINYINT, SMALLINT, INTEGER, BIGINT).

<p>To view indexes created in PM table fields, access ProcessMaker's database and check the indexes of pmt_namePMTable:</p>
<p><img alt="" src="../sites/default/files/IndexesPMTablesDatabaseCheck.png"></p>
<p><span style="color: green;"><strong>Note:</strong></span> <span style="color: dimgrey;">Only one index can be created per PM table, but this index can comprise multiple fields.</span></p>
</li></ul>
<p>After defining each field click on <strong>Update</strong>, and when all the fields are added, click on <strong>Create</strong> to store the structure of the table.</p>

<h3><span id="Editing_Fields">Editing Fields </span></h3>
<p>To edit a field, select the field to edit and click on <img alt="" src="../sites/default/files/EditField.png"> or just  double click on it:</p>
<p><img alt="" src="../sites/default/files/EditField1.png"></p>

<h3><span id="Removing_Fields">Removing Fields </span></h3>
<p>To remove a field, select it and click on <img alt="" src="../sites/default/files/RemoveField.png" height="18" width="81">:</p>
<p><img alt="" src="../sites/default/files/RemoveField1.png"></p>

<h2><span id="List_of_PM_Tables">List of PM Tables</span></h2>
<p>After creating a PM table, it will be displayed in the list of available tables under <strong>Admin &gt; Settings &gt; PM Tables</strong>.</p>
<p><img alt="" src="../sites/default/files/ListPMTables.png"></p>

<h3><span id="Editing_Pm_Table_Data">Editing PM Table Data</span></h3>
<p>Choose one table and click on <strong>Edit</strong> to alter its field structure, or change the table's description. All properties can be edited except the name of the table, which can only be edited using a DBMS (Data Base Management System).</p>
<p><img alt="" src="../sites/default/files/EditPMTable.png"></p>
<p>Fields can be added, edited and removed. Take into account that if the structure of the table is edited all data will be lost.</p>
<p><img alt="" src="../sites/default/files/EditPMTableListWarning.png"></p>

<h3><span id="Deleting_Pm_Table_Data">Deleting PM Table Data</span></h3>
<p>One or more tables can be deleted at the same time by selecting (checking), then and clicking on <strong>Delete</strong>:</p>
<p><img alt="" src="../sites/default/files/DeletePMTable1.png"></p>

<h3><span id="Viewing_and_Editing_PM_Table_Data">Viewing and Editing PM Table Data</span></h3>
<p>To view the data stored in a PM table, select the table to view and edit, then click on <strong>Data</strong>:</p>
<p><img alt="" src="../sites/default/files/PMTableData.png"></p>
<p>To add a new row to a PM table, click on the <strong>Add Row</strong> link at the top of the table. Click on the <strong>Edit</strong> and <strong>Delete</strong> links to edit or delete a record in the PM table. Fields can also be edited or deleted by clicking over the field:</p>
<p><img alt="" src="../sites/default/files/PMTableeditDelete.png"></p>

<h4><span id="Searching_Data_inside_a_PmTable">Searching Data Inside a PM Table</span></h4>
<p>In previous versions of ProcessMaker, if you needed to search some information
inside a data table, you had to search manually. This was tiresome work, especially if you needed to search information inside of a table with plenty of data.</p>

<p>Now you can search for specific values when displaying PM tables through the search box added inside of the Data window. You can search any kind of text but it is not possible to use search criteria like <tt>&lt;, &gt;, between, like</tt>, etc</p>
<p>Go to <strong>Admin &gt; Settings &gt; PM Table</strong>, select a table and choose <strong>Data</strong> from the Menu. On the upper right side of the window you will find the search text:</p>
<p><img alt="" src="../sites/default/files/SearchBoxPmTable.png" height="395" width="699">
</p>

<p>In the example below we will search the item Gasoline. Write the text and then press <b>Enter</b>:</p><p><img alt="" src="../sites/default/files/SearchingAnItem.png" height="143" width="719"></p><p>If you want to list the complete data, leave the search box blank and press Enter.</p>


<h3><span id="Header_Properties_from_the_Table_List">Header Properties from the Table List </span></h3>
<p>When accessing  the main list of tables 5 rows (Name, Description, Table Type, Record and Process) will be displayed. A down-arrow appears when mousing over any of them:</p>
<p><img alt="" src="../sites/default/files/HeaderPmTables.png" height="97" width="313"></p><p>Click on the arrow to display the available options. Note that all rows have the same options:</p><p><img alt="" src="../sites/default/files/HeaderPmTablesOption.png" height="177" width="465"></p><p>Where:</p>
<ul>
    <li><strong>Sort Ascending:</strong> Will sort table names in alphabetical order from <strong>A-Z</strong>.</li>
    <li><strong>Sort Descending:</strong> Will sort table names in alphabetically order from <strong>Z-A</strong>.</li>
    <li><strong>Columns:</strong> To prevent users from accidentally editing or deleting a record, or seeing a particular column of data, select the columns that will be displayed.</li></ul>

<dl>
    <dd>
        <dl>
            <dd><img alt="" src="../sites/default/files/PMTableextraColumns.png" height="204" width="403"></dd>
        </dl>
    </dd>
</dl>
<ul>
    <li><strong>Group by this field:</strong> Groups fields depending on the row selected. For instance, if this option is selected from the <strong>Name</strong> row, the order will be:</li></ul>
<dl>
    <dd>
        <dl>
            <dd><img alt="" src="../sites/default/files/GroupBythisField.png" height="264" width="476"></dd>
        </dl>
    </dd>
</dl>
<ul>
    <li><strong>Show in groups:</strong> This option is automatically checked when working with  the "Group by this Field" option:</li></ul>

<dl>
    <dd>
        <dl>
            <dd><img alt="" src="../sites/default/files/OptionChecked.png" height="184" width="191"></dd>
        </dl>
    </dd>
</dl>
<dl>
    <dd>
        <dl>
            <dd>If you want to restore the list to its original view, uncheck this option.</dd>
        </dl>
    </dd>
</dl>

<h3><span id="Importing_CSV_Tables_into_PMTables">Importing CSV Files into PM Tables</span></h3>
<p>Data can be imported into a PM table from a CSV (<i>comma separated values</i>) file.</p>

<h4><span id="Save_Spreadsheet_As_a_CSV_Files">Save Spreadsheet as a CSV File</span></h4>

<p>Most spreadsheet programs have the option to export spreadsheets in the CSV format used by PM tables.</p>

<p>For example, if using LibreOffice or OpenOffice, go to <b>File > Save As</b> and select the option <b>Text CSV (.csv)</b> in the Format dropdown box. Also mark the <b>Edit filter settings</b> checkbox and then click on <b>Save</b>.</p>

<img src="../sites/default/files/SaveFileAsLibreOffice.png">

<p>An Export Text File dialog box will appear to select options for exporting the CSV file. Set the <b>Character set</b> to "Unicode (UTF-8)", the <b>Field delimiter</b> to <code><b>,</b></code> or <code><b>;</b></code> and the <b>Text delimiter</b> to <code><b>"</b></code>. Finally, mark the <b>Save cell content as shown</b> checkbox and click on <b>OK</b> to save the CSV file.</p>

<img src="../sites/default/files/CVSFileOptionsLibreOffice.png">

<p>
In LibreOffice or OpenOffice, if the PM table contains a date field, the cells containing dates should be set to use the custom <code>YYYY-MM-DD</code> format. Likewise, cells containing datetimes should be set to use the custom <code>YYYY-MM-DD HH:MM:SS</code> format.</p>

<img src="../sites/default/files/DateTimeFormatLibreOffice.png">

<h4><span id="Format_of_CSV_Files">Format of CSV Files</span></h4>

<p>If manually creating the CSV file, then create a plain text file where each line is a row in the table and the field values are separated by <code><b>,</b></code> (commas) or <code><b>;</b></code> (semicolons). List the field values in the same order as they appear in the PM table, so the first comma separated value will go into the first field, the second value in the second field, and so on. The first line of text in the CSV file will be ignored, because it is assumed to contain the column headers. All text should be in the UTF-8 character set.</p>

<p>Each record in the CSV file should be on a new line. If a field contains a new line, or if it contains spaces at the beginning or the end of the text, it should be enclosed in " " (double quotation marks). If a field contains a <code><b>"</b></code>, then is should be doubled as <code><b>""</b></code> and the whole field enclosed in <code><b>" "</b></code> (double quotation marks). If using <code><b>,</b></code> (commas) to separate fields, then all fields containing <code><b>,</b></code> should also be enclosed in <code><b>" "</b></code> (double quotation marks). For example, <code>Say "hello," and go</code> should be: <code>"Say ""hello,"" and go"</code>. Likewise, If using <code><b>;</b></code> (semicolons) to separate fields, then all fields containing <code><b>;</b></code> should also be enclosed in <code><b>" "</b></code> (double quotation marks).</p>

<p>Date fields should use the format <code>YYYY-MM-DD</code>, such as <code>1999-01-01</code> or <code>2020-12-31</code>. Make sure to include leading zeros if the month or day is 9 or less. Datetime fields should use the format <code>YYYY-MM-DD HH:MM:SS</code>, such as <code>1999-01-01 01:01:01</code> or <code>2020-12-31 23:59:59</code>. Make sure to include leading zeros if the hour, minutes or seconds is 9 or less. If a date or datetime field is empty, it will be inserted into the PM table as <code>0000-00-00</code> or <code>0000-00-00 00:00:00</code>. If a datetime field lacks the hour, minutes or seconds, they will automatically be inserted as <code>00</code>.

<p>Decimal numbers should use a <code><b>.</b></code> (dot) to separate decimal digits and should have no thousands separator, such as <code>73642632.89</code> and <code>-99372.7634</code>. Boolean fields should use <code>1</code> for <i>true</i> and <code>0</code> for <i>false</i>. An empty field or text will be interpreted as <code>0</code>.</p>
<p style="margin-left:25px;"><font color=green><b>Note:</b></font> <font color=dimgrey>Boolean fields are actually integer fields in PM tables, so any integer value is allowed in boolean fields.</font></p>
<p>For example, if importing the following spreadsheet into a PM table:</p>

<img src="../sites/default/files/PMTableDataInSpreadsheet.png">

<p>The CSV file should have the following content:
<div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">ID;Name;Address;Has Contract;Contract Due;Contract Paid<br />
1;Lawn Care, Inc.;&quot;232 W. 4th St.<br />
Alandia, FL 34528&quot;;1;2015-10-31;2015-11-03 12:14:00<br />
2;&quot;E-Z Catering; Good Eats&quot;;&quot;1877 Oak Boulevard<br />
Greenfield, FL 28873 &quot;;0;;<br />
3;&quot;&quot;&quot;Right On!&quot;&quot; Cleaners&quot;;&quot;4523 Main St.<br />
Palmares, FL 38734&quot;;1;2016-01-31;2016-03-08 12:14:00</div></div>

<p>Notice that the new lines in the Address field are enclosed in double quotation marks, as well as the <code>"</code> and <code>;</code> in the Name field. Note that new lines in fields in PM tables appear as normal spaces when viewed in the ProcessMaker interface, but the new lines still exist in the database. Also note that the only way to include new lines in the fields in PM tables is to import them in CSV files, because they can not be inserted using the graphical data editor in the ProcessMaker interface.</p>

<p>The CSV file can not have fewer fields than the PM table or an error will occur while importing. Autoincrement fields should also be included in the CSV file. Any additional fields in the CSV file will be ignored. Even if a field is empty, it should have a comma or semicolon to indicate that there is an empty value, as shown in record 2 in the example above. </p>

<h4><span id="Importing_the_CSV_File">Importing the CSV File</span></h4>

<p>After creating a CSV file, it can be imported into a PM table by going to <strong>Admin &gt; Settings &gt; PM Tables</strong>. Find the desired table in the list and click on its <strong>Data</strong> button. At the top of the table, click on the <strong>CSV Import</strong> button.</p>
<p><img src="../sites/default/files/SelectCSVFileForPMTableImport.png"></p>

<p>Then select the CSV file and click the <strong>Upload</strong> button.</p>

<p>A message should display indicating that the CSV file was imported correctly and the contents of the PM table will be reloaded with the new data in it.</p>
<p><img src="../sites/default/files/ImportedDataInPMTable.png">

<p>Records can be appended to an existing PM table, so it is not necessary to overwrite the entire PM table when importing a CSV file. If the primary key for a record in the CSV file does not already exist in the PM table, that record will be appended to the PM table. However, a <a href="http://bugs.processmaker.com/view.php?id=19880">bug</a> currently prevents a CSV file from being imported if the file contains a primary key that already exists in the PM table. The only way to update an existing record is to first manually delete the record in the PM table, and then import the CSV file with a new version of that record. For example, in the image above the ID field is the primary key. If the PM table already contains a record with an ID of 2, then that record will have to deleted before importing the above CSV file.</p>

<h3><span id="Exporting_PM_Table_data_as_CSV_file">Exporting PM Table Data as a CSV File</span></h3>
<p>To export the data of a PM table as a CVS file, go to <strong>Admin &gt; Settings &gt; PM Tables</strong>. Find the desired table in the list and click on its <strong>Data</strong> link. In the window displaying the PM table's data, click on the <strong>CSV Export</strong> button. Then, in the dialog box, choose whether the values will be separated by commas or semicolons, and click on <strong>Export</strong>:</p>
<p><img alt="" src="../sites/default/files/ExportPMTableCSV.png"></p>
<p>The CSV file will download on the user's computer.</p>

<h2><span id="Exporting_PM_Tables">Exporting PM Tables</span></h2>
<p style="margin-left:25px"><strong><font color="green">Note:</font></strong> <font color="dimgray">It is recommended to export PM tables and report tables separately.</font></p>
<p>To export a PM table from inside the ProcessMaker interface, go to <strong>Admin &gt; Settings &gt;PM Tables</strong> and select the desired table, then click on the <strong>Export</strong> link at the top of the list. Select whether to export the table's <strong>Schema</strong> (structure), the <strong>Data</strong>, or both.</p>

<p>Finally, click on the <strong>Export</strong> link at the bottom to generate a .pmt file, which can be downloaded and saved.</p>
<p>If planning on exporting PM table(s) and all their data to another installation of ProcessMaker, select both the schema and data. If planning on exporting the data to an external spreadsheet or database, then only select a <i>single</i> PM table and only export its data (not it's schema).</p>
<p><img alt="" src="../sites/default/files/ExportPMTable.png"></p>
<p><span style="color: green;"><strong>Note:</strong></span> <span style="color: dimgrey;">More than one PM table can be exported at the same time.</span></p>

<h2><span id="Importing_PM_Tables">Importing PM Tables</span></h2>
<p>To import a PM table from inside the ProcessMaker interface, go to <strong>Admin &gt; Settings &gt; PM Tables</strong> and click on the <strong>Import</strong> link at the top of the list, then select a <strong><tt>.pmt</tt></strong> file. Finally click on the <strong>Upload</strong> button.</p>
<p><img alt="" src="../sites/default/files/ImportReportTable.png"></p>
<p>If the PM table will be replaced with another mark the <i>Overwrite if exists?</i> checkbox.</p>

<div style="margin-left:25px">
    <p><strong><font color="#009688">From Version:</font></strong> <font color="dimgray"> 3.0.1.8 on. </font> The "Overwrite if exists?" checkbox is no longer available and the import procedure is the following:</p>
    <p><img alt="" src="../sites/default/files/PM3_PMTableImport.png"></p>

    <p>When importing, if the PM table(s) already exists, a window will show the following options for each conflicting PM table:
<p><img alt="" src="../sites/default/files/PM3_PMTableImportOptions.png"></p>
    <ul>
        <li><b>Create a new copy of the Table:</b> The PM table will be imported with a name composed of the original name plus the current datetime.
<p><img alt="" src="../sites/default/files/PM3_PMTableImportAlternativeName.png"></p>
</li>
        <li><b>Overwrite the existing Table:</b> The existing PM table will be overwritten by the imported one.</li>
        <li>Do not import the Table.</li></ul>
    </p>
</div>

<h2><span id="Reserved_Words_in_PM_Tables">Reserved Words in PM Tables</span></h2>
<p>ProcessMaker checks that reserved words are not used in the name of PM tables and their fields, since these words may cause conflicts with database queries.

<p>Do NOT use the following MySQL reserved words as field names for PM tables:</p>
<div>

    <div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">ACCESSIBLE, ACTION, ADD, ALL, ALTER, ANALYZE, AND, ANY, AS, ASC, ASENSITIVE, AUTHORIZATION, BACKUP, BEFORE, BEGIN, BETWEEN, BIGINT, BINARY, BIT, BLOB, BOTH, BREAK, BROWSE, BULK, BY, CALL, CASCADE, CASE, CHANGE, CHAR, CHARACTER, CHECK, CHECKPOINT, CLOSE, CLUSTERED, COALESCE, COLLATE, COLUMN, COMMIT, COMPUTE, CONDITION, CONSTRAINT, CONTAINS, CONTAINSTABLE, CONTINUE, CONVERT, CREATE, CROSS, CURRENT, CURRENT_DATE, CURRENT_TIME, CURRENT_TIMESTAMP, CURRENT_USER, CURSOR, DATABASE, DATABASES, DATE, DAY_HOUR, DAY_MICROSECOND, DAY_MINUTE, DAY_SECOND, DBCC, DEALLOCATE, DEC, DECIMAL, DECLARE, DEFAULT, DELAYED, DELETE, DENY, DESC, DESCRIBE, DETERMINISTIC, DISK, DISTINCT, DISTINCTROW, DISTRIBUTED, DIV, DOUBLE, DROP, DUAL, DUMMY, DUMP, EACH, ELSE, ELSEIF, ENCLOSED, END, ENUM, ERRLVL, ESCAPE, ESCAPED, EXCEPT, EXEC, EXECUTE, EXISTS, EXIT, EXPLAIN, FALSE, FETCH, FILE, FILLFACTOR, FLOAT, FLOAT4, FLOAT8, FOR, FORCE, FOREIGN, FREETEXT, FREETEXTTABLE, FROM, FULL, FULLTEXT, FUNCTION, GENERAL, GOTO, GRANT, GROUP, HAVING, HIGH_PRIORITY, HOLDLOCK, HOUR_MICROSECOND, HOUR_MINUTE, HOUR_SECOND, IDENTITY, IDENTITYCOL, IDENTITY_INSERT, IF, IGNORE, IGNORE_SERVER_IDS, IN, INDEX, INFILE, INNER, INOUT, INSENSITIVE, INSERT, INT, INT1, INT2, INT3, INT4, INT8, INTEGER, INTERSECT, INTERVAL, INTO, IS, ITERATE, JOIN, KEY, KEYS, KILL, LEADING, LEAVE, LEFT, LIKE, LIMIT, LINEAR, LINENO, LINES, LOAD, LOCALTIME, LOCALTIMESTAMP, LOCK, LONG, LONGBLOB, LONGTEXT, LOOP, LOW_PRIORITY, MASTER_HEARTBEAT_PERIOD, MASTER_SSL_VERIFY_SERVER_CERT, MATCH, MAXVALUE, MEDIUMBLOB, MEDIUMINT, MEDIUMTEXT, MIDDLEINT, MINUTE_MICROSECOND, MINUTE_SECOND, MOD, MODIFIES, NATIONAL, NATURAL, NO, NOCHECK, NONCLUSTERED, NOT, NO_WRITE_TO_BINLOG, NULL, NULLIF, NUMERIC, OF, OFF, OFFSETS, ON, OPEN, OPENDATASOURCE, OPENQUERY, OPENROWSET, OPENXML, OPTIMIZE, OPTION, OPTIONALLY, OR, ORDER, OUT, OUTER, OUTFILE, OVER, PERCENT, PLAN, PRECISION, PRIMARY, PRINT, PROC, PROCEDURE, PUBLIC, PURGE, RAISERROR, RANGE, READ, READS, READTEXT, READ_WRITE, REAL, RECONFIGURE, REFERENCES, REGEXP, RELEASE, RENAME, REPEAT, REPLACE, REPLICATION, REQUIRE, RESIGNAL, RESTORE, RESTRICT, RETURN, REVOKE, RIGHT, RLIKE, ROLLBACK, ROWCOUNT, ROWGUIDCOL, RULE, SAVE, SCHEMA, SCHEMAS, SECOND_MICROSECOND, SELECT, SENSITIVE, SEPARATOR, SESSION_USER, SET, SETUSER, SHOW, SHUTDOWN, SIGNAL, SLOW, SMALLINT, SOME, SPATIAL, SPECIFIC, SQL, SQLEXCEPTION, SQLSTATE, SQLWARNING, SQL_BIG_RESULT, SQL_CALC_FOUND_ROWS, SQL_SMALL_RESULT, SSL, STARTING, STATISTICS, STRAIGHT_JOIN, SYSTEM_USER, TABLE, TERMINATED, TEXT, TEXTSIZE, THEN, TIME, TIMESTAMP, TINYBLOB, TINYINT, TINYTEXT, TO, TOP, TRAILING, TRAN, TRANSACTION, TRIGGER, TRUE, TRUNCATE, TSEQUAL, UNDO, UNION, UNIQUE, UNLOCK, UNSIGNED, UPDATE, UPDATETEXT, USAGE, USE, USER, USING, UTC_DATE, UTC_TIME, UTC_TIMESTAMP, VALUES, VARBINARY, VARCHAR, VARCHARACTER, VARYING, VIEW, WAITFOR, WHEN, WHERE, WHILE, WITH, WRITE, WRITETEXT, XOR, YEAR_MONTH, ZEROFILL</div></div>
</div>

<p>For more information about reserved words please check <a href="http://dev.mysql.com/doc/refman/5.5/en/keywords.html" target="_blank">this documentation</a>. Also do NOT use the following PHP reserved words as field names for PM tables:</p>

<div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">case, catch, cfunction, class, clone, const, continue, declare, default, do, else, elseif, enddeclare, endfor, endforeach, endif, endswitch, endwhile, extends, final, for, foreach, function, global, goto, if, implements, interface, instanceof, private, namespace, new, old_function, or, throw, protected, public, static, switch, xor, try, use, var, while</div></div>


<p>Also do NOT use the following reserved words in ProcessMaker:</span>

<div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">SYNONYM, APP_UID, APP_NUMBER, ROW, PMTABLE</div></div>

<h2><span id="Accessing_PM_Tables_from_Triggers">Accessing PM Tables from Triggers</span></h2>
<p>It is possible to use PHP code in triggers to read and manipulate the information in PM tables. Either use the <a href="../index.php/ProcessMaker_Functions.html#executeQuery.28.29PHP" title="ProcessMaker Functions">executeQuery()</a> function or Propel classes to access PM tables.</p>
<p>For example, a PM table called "CONTACTS", which contains the fields "ID", "FIRSTNAME", "LASTNAME" and "BIRTHDAY", can be accessed with <a href="../index.php/ProcessMaker_Functions.html#executeQuery.28.29" title="ProcessMaker Functions">executeQuery()</a>.</p>
<p>To read a single row from the "PMT_CONTACTS" table:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;SELECT * FROM PMT_CONTACTS WHERE ID=23&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #339933;">@@</span>firstname <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'FIRSTNAME'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #339933;">@@</span>lastname &nbsp;<span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'LASTNAME'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #339933;">@@</span>birthday &nbsp;<span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'BIRTHDAY'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>
<p>To insert a new row into the "CONTACTS" table:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;INSERT PMT_CONTACTS (ID, FIRSTNAME, LASTNAME, BIRTHDAY) VALUES (24, 'Jane', 'Doe', '1969-03-24'&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> G<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">SendMessageText</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Could not insert new record in CONTACTS PM table.&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;ERROR&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<div style="margin-left: 25px"><font color=green><b>Note:</b></font> <font color=dimgrey><a href="Internal_Functions_and_Classes.html#G::SendMessageText.28.29">G::SendMessageText()</a> doesn't display if executed <i>after routing</i>. It needing to preserve the error message, it is recommended to use an <code>Exception</code> and examine the <code>@@__ERROR__</code> variable in the <a href="Triggers.html#Debugging_Triggers">Debugger</a>.</font>
    <div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #b1b100;">throw</span> <span style="color: #000000; font-weight: bold;">new</span> Exception<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Could not insert a new record in the CONTACTS PM table.&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>
</div>

<p>To insert a new row into the "CONTACTS" PM table using data from Dynaform fields named "id", "firstName", "lastName", "birthday", create a trigger that fires <i>after</i> the Dynaform with the following code:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">//assign case variables to normal PHP variables for insertion in string</span><br />
<span style="color: #000088;">$id</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@%</span>id<span style="color: #339933;">;</span><br />
<span style="color: #000088;">$firstName</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>firstName<span style="color: #339933;">;</span><br />
<span style="color: #000088;">$lastName</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>firstName<span style="color: #339933;">;</span><br />
<span style="color: #000088;">$birthday</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>birthday<span style="color: #339933;">;</span><br />
<span style="color: #000088;">$insert</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;INSERT INTO PMT_CONTACTS (ID, FIRSTNAME, LASTNAME, BIRTHDAY) VALUES (<span style="color: #006699; font-weight: bold;">$id</span>, '<span style="color: #006699; font-weight: bold;">$firstName</span>', '<span style="color: #006699; font-weight: bold;">$lastName</span>', '<span style="color: #006699; font-weight: bold;">$birthday</span>')&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span>executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$insert</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> G<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">SendMessageText</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Could not insert new record in CONTACTS PM table.&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;ERROR&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>
<p>To update an existing row in the "CONTACTS" table:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;UPDATE CONTACTS SET FIRSTNAME='Buster', LASTNAME='Brown' WHERE ID='0020'&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> G<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">SendMessageText</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Did not update any record in the CONTACTS PM table.&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;ERROR&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>
<p>To delete a row from the "CONTACTS" table:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;DELETE FROM PMT_CONTACTS WHERE ID='0020'&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> G<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">SendMessageText</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Did not delete any records in the CONTACTS PM table.&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;ERROR&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>
<p><span style="color: green"><strong>Note:</strong></span> <span style="color: dimgrey;">It is not necessary to specify the database, since executeQuery() uses the <strong><tt>wf_&lt;workspace&gt;</tt></strong> database where PM tables are stored by default.</span></p>

<p>PM tables can also be accessed through Propel classes in triggers. For instance, the same table can be accessed through its PHP class name e.g. "Contacts". (Remember that class names are case sensitive). This example inserts a new record into the "Contacts" PM table:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$oContacts</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Contacts<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$oContacts</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">setId</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'0023'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$oContacts</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">setFirstname</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'John'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$oContacts</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">setLastname</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Doe'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$oContacts</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">setBirthday</span><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>field1<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$oContacts</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">save</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
<p>See the <a class="external text" href="http://propelorm.org/documentation/" rel="nofollow" target="_blank">Propel documentation</a> for more information on how to access tables through Propel classes.</p>
<h3><span id="Downloading_CVS_Files_Generated_from_PM_Tables">Downloading CVS Files Generated from PM Tables</span></h3>
<p>Users who have the <a href="Roles.html#PM_SETUP" title="3.0/Roles"><tt>PM_SETUP</tt></a> permission in their role can easily obtain a CSV (<i>comma-separated-value</i>) file for a PM table by going to <strong>Admin &gt; Settings &gt; PM Tables</strong>. Nonetheless, normal production users with a role like <tt>PROCESSMAKER_OPERATOR</tt> can't access the Admin panel.</p>
<p>To work around this problem, a <a href="Triggers.html" title="Triggers">trigger</a> can be used to generate a CSV file from a PM table and store that CSV file in the <a href="Public_Files.html" title="Process Files Manager">Publick Files</a> directory, where it can be accessed through a <a href="Links.html" title="3.0/Links">link</a> in a Dynaform.</p>
<p>Create a trigger with the following code to query the PM table and create a CSV file in the <strong><tt>public</tt></strong> directory:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$tableName</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'PM-TABLE-NAME'</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//change for your PM table</span><br />
<span style="color: #000088;">$path</span> <span style="color: #339933;">=</span> PATH_DATA_PUBLIC <span style="color: #339933;">.</span> <span style="color: #339933;">@@</span>PROCESS <span style="color: #339933;">.</span> PATH_SEP<span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">!</span><a href="http://php.net/is_dir"><span style="color: #990000;">is_dir</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$path</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<a href="http://php.net/mkdir"><span style="color: #990000;">mkdir</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$path</span><span style="color: #339933;">,</span> <span style="color: #208080;">0770</span><span style="color: #009900;">&#41;</span> or <a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Error creating directory '<span style="color: #006699; font-weight: bold;">$path</span>'&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #000088;">$sFile</span> <span style="color: #339933;">=</span> <a href="http://php.net/tempnam"><span style="color: #990000;">tempnam</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$path</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'PMT_'</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$tableName</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">'.csv'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$fFile</span> <span style="color: #339933;">=</span> <a href="http://php.net/fopen"><span style="color: #990000;">fopen</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$sFile</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'w+'</span><span style="color: #009900;">&#41;</span> or <a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Error opening file '<span style="color: #006699; font-weight: bold;">$sFile</span>' for writing!&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;SELECT * FROM <span style="color: #006699; font-weight: bold;">$tableName</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$table</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$table</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$record</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> &nbsp; &nbsp;<br />
&nbsp; &nbsp;<span style="color: #000088;">$line</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$record</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$field</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$value</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$line</span> <span style="color: #339933;">.=</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$line</span><span style="color: #339933;">==</span><span style="color: #0000ff;">''</span> ? <span style="color: #0000ff;">''</span> <span style="color: #339933;">:</span> <span style="color: #0000ff;">', '</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">'&quot;'</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$value</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">'&quot;'</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp;<a href="http://php.net/fwrite"><span style="color: #990000;">fwrite</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$fFile</span><span style="color: #339933;">,</span> <span style="color: #000088;">$line</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<a href="http://php.net/fclose"><span style="color: #990000;">fclose</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$fFile</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$filename</span> <span style="color: #339933;">=</span> <a href="http://php.net/pathinfo"><span style="color: #990000;">pathinfo</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$sFile</span><span style="color: #339933;">,</span> PATHINFO_BASENAME<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>linkUrl <span style="color: #339933;">=</span> <span style="color: #0000ff;">'../'</span> <span style="color: #339933;">.</span> <span style="color: #339933;">@@</span>PROCESS <span style="color: #339933;">.</span> <span style="color: #0000ff;">'/'</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$filename</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>linkLabel <span style="color: #339933;">=</span> <span style="color: #000088;">$filename</span><span style="color: #339933;">;</span></div></div>
<p>Then, create a <a href="Dynaforms.html" title="3.0/DynaForms">Dynaform</a> with a <a href="Links.html" title="3.0/Links">link</a> field named "linkFile" and two <a href="Hidden_Control.html" title="3.0/Hidden Fields">hidden</a> fields named "linkUrl" and "linkLabel". Add the following JavaScript to the DynaForm to set the URL and label for the link field:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;">getField<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;linkFile&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">.</span>href <span style="color: #339933;">=</span> getField<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;linkUrl&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">.</span>value<span style="color: #339933;">;</span><br />
getField<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;linkFile&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">.</span>innerHTML <span style="color: #339933;">=</span> getField<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;linkLabel&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">.</span>value<span style="color: #339933;">;</span></div></div>
<p>Set the trigger to fire BEFORE the Dynaform, so the file will be ready for download and the case variables <tt>@@linkUrl</tt> and <tt>@@linkLabel</tt> will already be set when the Dynaform is displayed. Then, the user can click on "linkFile" and download the CSV file.</p>

<h2><span id="Accessing_PM_Tables_in_DynaForms">Accessing PM Tables in Dynaforms</span></h2>

<p>PM tables can be integrated into Dynaforms in the following way:</p>
<p>
<ol><li><a href="PM_Tables.html#Querying_PM_Tables_in_DynaForm_Fields">Using SQL SELECT queries in individual Dynaform fields</a></li></ol></p>

<p><span style="color: green;"><strong>Note:</strong></span> <span style="color: dimgrey;">If a querying to a PM table to populate any field of a Dynaform is required, the table must be written with the PMT prefix, otherwise queries won't work.</span></p>

<h3><span id="Querying_PM_Tables_in_DynaForm_Fields">Querying PM Tables in Dynaform Fields</span></h3>

<p>Dynaform fields can obtain <i>read-only</i> access to PM tables with a standard <a href="DynaForm_Field_Properties.html#SQL" title="3.0/DynaForm_Field_Properties#SQL">SQL SELECT</a> statement. Since PM tables are stored in the <tt>wf_&lt;workspace&gt;</tt> database, the SQL Connection property can be left blank, since it will select that database by default if blank. In the SQL property, put the <tt>SELECT</tt> statement.</p>

<h4><span id="Populating_ordinary_fields">Populating Ordinary Fields</span></h4>
<p>To query a PM table in order to populate the value of a textbox, currency box, percentage box, textarea, or hidden field, use an SQL <tt>SELECT</tt> statement that only returns one field from one record. If more than one record is returned, only the first record will be used.</p>
<p>For instance, to select the contact whose ID is 907:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> CONCAT<span style="color: #66cc66;">&#40;</span>FIRSTNAME<span style="color: #66cc66;">,</span> <span style="color: #ff0000;">' '</span><span style="color: #66cc66;">,</span> LASTNAME<span style="color: #66cc66;">&#41;</span> <span style="color: #993333; font-weight: bold;">FROM</span> PMT_CONTACTS <span style="color: #993333; font-weight: bold;">WHERE</span> ID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'907'</span></div></div>
<h4><span id="Using_Variables_in_SQL_Queries">Using Variables in SQL Queries</span></h4>
<p>There are two ways to use variables in a query to a PM table.Either use a system or case variable that has been passed to the Dynaform as a hidden field, or reference another field in the Dynaform that has a dependent field relationship with the current field.</p>
<h5><span id="System_or_Case_Variables_in_SQL_Queries">System or Case Variables in SQL Queries</span></h5>
<p>A system or case variable can be used in an SQL query to a PM table. System variables are created automatically by ProcessMaker, but case variables either have to be created in a field in a previously submitted Dynaform in the case or defined in a previous trigger in the case. System and case variables can be passed to the current Dynaform by creating a hidden field with the same name as the case variable.</p>
<p>To use the case variable @@ContactId in an SQL query to a PM table, first create a hidden field named "ContactId" in the Dynaform. Remember the field names are case sensitive, so the field name has to be spelled exactly like the case variable.</p>
<p>Then, add an SQL query to a field that references the case variable. To enclose the value of the variable inside quotation marks, reference it as <strong><tt>@@ContactId</tt></strong>.</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> CONCAT<span style="color: #66cc66;">&#40;</span>FIRSTNAME<span style="color: #66cc66;">,</span> <span style="color: #ff0000;">' '</span><span style="color: #66cc66;">,</span> LASTNAME<span style="color: #66cc66;">&#41;</span> <span style="color: #993333; font-weight: bold;">FROM</span> PMT_CONTACTS <span style="color: #993333; font-weight: bold;">WHERE</span> ID<span style="color: #66cc66;">=</span>@@ContactId</div></div>
<p>If the variable is a number, then reference it as <strong><tt>@#ContactId</tt></strong> to not enclose it in inside quotation marks:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> CONCAT<span style="color: #66cc66;">&#40;</span>FIRSTNAME<span style="color: #66cc66;">,</span> <span style="color: #ff0000;">' '</span><span style="color: #66cc66;">,</span> LASTNAME<span style="color: #66cc66;">&#41;</span> <span style="color: #993333; font-weight: bold;">FROM</span> PMT_CONTACTS <span style="color: #993333; font-weight: bold;">WHERE</span> ID<span style="color: #66cc66;">=</span>@#ContactId</div></div>
<h5><span id="SQL_Queries_with_Dependent_Fields">SQL Queries with Dependent Fields</span></h5>
<p>If a <a href="Dependent_Fields.html">dependent field relationship</a> has been established with another field, then the value of the independent field can be referenced as a variable in the SQL query. Whenever the value of the independent field changes in the Dynaform, the query will be reexecuted and the dependent field will be repopulated.</p>
<p>In this example, the value in the "ContactId" field will determine which contact's full name is displayed in a textbox:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> CONCAT<span style="color: #66cc66;">&#40;</span>FIRSTNAME<span style="color: #66cc66;">,</span> <span style="color: #ff0000;">' '</span><span style="color: #66cc66;">,</span> LASTNAME<span style="color: #66cc66;">&#41;</span> <span style="color: #993333; font-weight: bold;">FROM</span> PMT_CONTACTS <span style="color: #993333; font-weight: bold;">WHERE</span> ID<span style="color: #66cc66;">=</span>@@ContactId</div></div>
<p>Or if the ID is a number:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> CONCAT<span style="color: #66cc66;">&#40;</span>FIRSTNAME<span style="color: #66cc66;">,</span> <span style="color: #ff0000;">' '</span><span style="color: #66cc66;">,</span> LASTNAME<span style="color: #66cc66;">&#41;</span> <span style="color: #993333; font-weight: bold;">FROM</span> PMT_CONTACTS <span style="color: #993333; font-weight: bold;">WHERE</span> ID<span style="color: #66cc66;">=</span>@#ContactId</div></div>
<h4><span id="Populating_DynaForm_Grids">Populating Dynaform Grids</span></h4>
<p>To display a PM table in a Dynaform grid, first create a grid form that has the same field names as those found in the PM table. Then, embed that grid form in a master form.  Finally, create a trigger that will use executeQuery("SELECT ...") to return an array of records from the PM table. Assign that array of records to a case variable that has the same names as the <a href="Grid_Control.html" title="3.0/Grids">grid object</a> in the master Dynaform. Set the trigger to fire before the master Dynaform is displayed.</p>
<p>For example, the following trigger code will populate a grid object named "ContactsGrid":</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@@</span>ContactsGrid <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;SELECT ID, FIRSTNAME, LASTNAME, BIRTHDAY FROM PMT_CONTACTS&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
<p>If the field names in the grid form are not named "ID", "FIRSTNAME", "LASTNAME" and "BIRTHDAY", then use <tt>AS</tt> to rename the returned fields from the PM table to the names used in the grid form. For example, the fields from the "CONTACTS" table can be renamed as "ContactID", "ContactFName", "ContactLName" and "ContactBirthday", respectively:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@=</span>ContactsGrid <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;SELECT ID AS ContactID, FIRSTNAME AS ContactFName, &quot;</span> <span style="color: #339933;">.</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">&quot;LASTNAME AS ContactLName, BIRTHDAY AS ContactBirthday FROM PMT_CONTACTS&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
<p>To write the changes in a Dynaform grid to a PM table, set a trigger to fire AFTER the Dynaform with code to delete all the contents of the old PM table. Then write each row from the grid into the new PM table. For example:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;">executeQuery<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;DELETE FROM PMT_CONTACTS&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//delete all rows in table</span><br />
<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>ContactsGrid <span style="color: #b1b100;">as</span> <span style="color: #000088;">$row</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; executeQuery<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;INSERT INTO PMT_CONTACTS (ID, FIRSTNAME, LASTNAME, BIRTHDAY) VALUES &quot;</span> <span style="color: #339933;">.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #0000ff;">&quot;('<span style="color: #006699; font-weight: bold;">{$row['ContactID']}</span>', '<span style="color: #006699; font-weight: bold;">{$row['ContactFName']}</span>', '<span style="color: #006699; font-weight: bold;">{$row['ContactLName']}</span>', '<span style="color: #006699; font-weight: bold;">{$row['ContactBirthday']}</span>')&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>
<p>When inserting PHP variables into double quoted strings (as in the example above), remember to enclose the variable names inside curly braces <tt>{}</tt> to access elements inside associative arrays.</p>
</div></div></div>  </div>

      <footer>
          </footer>
  
    </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
      </section>
    </div>
  
      
    </div>

      
</div>

 <!---add diego--->
  <div id="download-app-section" class="download-app mobile-none">
			<div class="row">
				<div class="col-md-12">
					<div class="text_app">Download our app</div>
							<a href="https://itunes.apple.com/us/app/processmaker/id992576284?ls=1&mt=8" target="_blank">
								<img src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/images/appstore.png">
							<a href="https://play.google.com/store/apps/details?id=com.colosa.processmaker" target="_blank">
								<img src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/images/playstore.png">				
				</div>
			</div>
  </div>
  <!---end diego--->
<!----add diego----->    
		<div class="logo_processmaker"><a href="http://www.processmaker.com">
		<img src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/images/logo_processmaker.png"></div>
<!----end diego----->
<div id="footer">
  <div id="footer_wrapper">
      </div>

  <div class="social-media-wrapper">
         <div id="social-media-icons">
       <ul>
       	<div class="text_contact">Contact us</div>
				<div class="text_number">+1-617-340-3377</div>
        <!--<li><a class="rss" href="/rss.xml">rss</a></li> <!--edit diego-->
        <li><a class="facebook" href="http://facebook.com/processmaker/" target="_blank" rel="me">facebook</a></li>
        <li><a class="twitter" href="https://twitter.com/processmaker" target="_blank" rel="me">twitter</a></li>
        <li><a class="gplus" href="https://www.google.com/+ProcessMakerOpenSource" target="_blank" rel="me">Gplus</a></li>
        <li><a class="linkedin" href="https://www.linkedin.com/groups?mostRecent=&gid=3970335&trk=my_groups-tile-flipgrp" target="_blank" rel="me">Linked in</a></li>
        <!--<li><a class="dribbble" href="http://dribbble.com" target="_blank" rel="me">Dribbble</a></li>
        <li><a class="vimeo" href="http://vimeo.com" target="_blank" rel="me">Vimeo</a></li>-->
        <li><a class="youtube" href="https://www.youtube.com/user/processmaker" target="_blank" rel="me">Youtube</a></li>
       </ul>
      </div>
      </div>
  
  <div class="footer_credit">
    <div class="footer_inner_credit">
           <div id="foot"><div class="region region-footer">
  <div id="block-block-2" class="block block-block">

      
  <div class="content">
    <p><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF">Automate your Workflow with Business Process Management<br>Software licensed under the <a 1px="" class="external text" href="http://www.gnu.org/licenses/agpl.html" rel="nofollow" style="padding-right: 13px; color:white;">GNU Affero General Public License version 3</a><br>Contact us:&nbsp;<a class="external free" href="mailto:community@processmaker.com" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">community@processmaker.com</a><br><a class="external free" href="https://www.processmaker.com/privacy-statement" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">Privacy Statement</a></font><br><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF">© Copyright 2000-2024 ProcessMaker Inc. All rights reserved.</font></p>
  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
</div>
         
   <!-- <div id="copyright">
      <p class="copyright">Copyright &copy; 2024, Documentation@ProcessMaker </p>
      <!--<p class="credits"> Developed by  <a href="http://www.zymphonies.com">Zymphonies</a></p>
      <div class="clear"></div>
    </div>-->
  </div>
  
  </div>
</div>

</div>

<script type="text/javascript">
  /* <![CDATA[ */
  document.write (
    '<img src="https://marketing.processmaker.com/acton/bn/3812/visitor.gif?ts='+ new Date().getTime()+ '&ref='+escape(document.referrer) + '">'
  );
  /* ]]> */
</script>
  
</div>
    <style>
    .center-div{
        width: 100%;        
        margin: 0 auto;
        z-index:10000;
        position:fixed;
        bottom: 0px;
        cursor:pointer;
    }
    .round-popup{
        margin:0 auto;
        font-family: 'Montserrat', sans-serif;
        font-size: 15px;
        font-weight: lighter;
        width: 412px;
        height: 50px;
        padding-top: 7px;
        text-align: center;
        position:relative;
    }
    .round-popup-button{
        position:absolute;
        top: 11px;
        right: 15px;
        background: transparent;
        border:none;
        font-size:15px;
        font-weight:normal;
        line-height:20px;
        width:20px;
        height:20px;
        padding:0;
    }
    .round-background-blue{
        background: url('http://www.processmaker.com/uploads/blue.png')no-repeat;
        color:white;
        
    }
    #box-pm31-button-blue{
        color: rgba(255, 255, 255, 0.5);
    }
    
    #box-pm31-button-blue:active,#box-pm31-button-blue:focus{
        border:none;
        outline:none;
    }
    .round-background-blue a{
        color: white!important;
        text-decoration: none;
        font-size: 15px;
        line-height:45px;
        font-family:Montserrat, sans-serif;
    }
    .round-background-blue span{
        font-weight: bold;
    }
    /*WHITE background*/
    .round-background-white{
        background: url('http://www.processmaker.com/uploads/white.png')no-repeat;
        background-position-x: -9px;        
        color: #3397E1;
    }
    .round-background-white a:hover{
        color: #3397E1!important;
        text-decoration: none;
        font-size: 15px;
    }
    #box-pm31-button-white{
        color: rgba(51, 151, 225, 0.7);
    }
</style>
    <div id="box-pm31" class="center-div" style="display:none;">
        <div class="round-popup round-background-blue">
            <a onclick="ga('send', 'event', 'WikiBlueBanner','click','PM31Release');" href="http://www.processmaker.com/download-processmaker-landing-page">
                <span>ProcessMaker 3.1</span> is Here! Download Now <span style="font-size:20px;font-weigth:normal;">»</span>
            </a>
            <button id="box-pm31-button-blue" class="round-popup-button">&times;</button>
        </div>
    </div>
    <script>

function pmCreateCookie(name,value,days) {
    if (days) {
        var date = new Date();
        date.setTime(date.getTime()+(days*24*60*60*1000));
        var expires = "; expires="+date.toGMTString();
    }
    else var expires = "";
    document.cookie = name+"="+value+expires+"; path=/";
}

function pmReadCookie(name) {
    var nameEQ = name + "=";
    var ca = document.cookie.split(';');
    for(var i=0;i < ca.length;i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
    }
    return null;
}

function pmEraseCookie(name) {
    createCookie(name,"",-1);
}



     jQuery(document).ready(function( $ ) {
        $('#box-pm31-button-blue').click(function(e){
                e.stopPropagation();
                $('#box-pm31').slideUp('fast');
                pmCreateCookie('ppcookie','val',10);
            });
        });
        jQuery(window).load(function() {
            if(pmReadCookie('ppcookie') !== 'val'){
                //jQuery('#box-pm31').delay( 2000 ).slideDown('slow');
            }
        });
    </script>
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">

<script type="text/javascript">
  (function() {
    window._pa = window._pa || {};
    // _pa.orderId = "myOrderId"; // OPTIONAL: attach unique conversion identifier to conversions
    // _pa.revenue = "19.99"; // OPTIONAL: attach dynamic purchase values to conversions
    // _pa.productId = "myProductId"; // OPTIONAL: Include product ID for use with dynamic ads
    var pa = document.createElement('script'); pa.type = 'text/javascript'; pa.async = true;
    pa.src = ('https:' == document.location.protocol ? 'https:' : 'http:') + "//tag.marinsm.com/serve/586a7ec3a2ae6b728400003d.js";
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(pa, s);
  })();
</script>

</body>
</html>
