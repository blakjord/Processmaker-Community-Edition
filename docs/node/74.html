<!DOCTYPE html>
<head>
<meta charset="utf-8" />
<meta name="keywords" content="BPM, business process management, workflow, processmaker, business, BPM Windows, BPM Linux, wiki, BPM documentation, BPM FAQ, task documentation, BPM PHP, BPM Open Source, BPM Variables, BPM Installation, BPM Programming, BPM Elements, BPM Concepts, BPM Frequently Asked Questions, BPM 3.0, BPM News, Release notes, DynaForms, BPM Community, BPM Enterprise, BPM Mobile, BPM Responsive Web Design, User Manual, BPM Resources" />
<link rel="alternate" hreflang="en" href="../index.html" />
<link rel="shortcut icon" href="https://wiki.processmaker.com/themes/thecompany_responsive_theme/favicon.ico" type="image/vnd.microsoft.icon" />
<meta name="description" content="ProcessMaker is commercial open source workflow and business process management software." />
<meta name="viewport" content="width=device-width" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="../index.php/2.0/Dropdown_Boxes_and_Listboxes.html" />
<link rel="shortlink" href="74.html" />
<title>2.0 - Dropdown Boxes and Listboxes | Documentation@ProcessMaker</title>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/modules/system/system.base.css?s743n7");
@import url("https://wiki.processmaker.com/modules/system/system.menus.css?s743n7");
@import url("https://wiki.processmaker.com/modules/system/system.messages.css?s743n7");
@import url("https://wiki.processmaker.com/modules/system/system.theme.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/modules/aggregator/aggregator.css?s743n7");
@import url("https://wiki.processmaker.com/modules/comment/comment.css?s743n7");
@import url("https://wiki.processmaker.com/modules/field/theme/field.css?s743n7");
@import url("https://wiki.processmaker.com/modules/node/node.css?s743n7");
@import url("https://wiki.processmaker.com/modules/search/search.css?s743n7");
@import url("https://wiki.processmaker.com/modules/toc_filter/toc_filter.css?s743n7");
@import url("https://wiki.processmaker.com/modules/user/user.css?s743n7");
@import url("https://wiki.processmaker.com/modules/views/css/views.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/sites/all/modules/colorbox/styles/default/colorbox_style.css?s743n7");
@import url("https://wiki.processmaker.com/modules/ctools/css/ctools.css?s743n7");
@import url("https://wiki.processmaker.com/sites/all/modules/geshifilter/geshifilter.css?s743n7");
@import url("https://wiki.processmaker.com/modules/panels/css/panels.css?s743n7");
@import url("https://wiki.processmaker.com/modules/nice_menus/css/nice_menus.css?s743n7");
@import url("https://wiki.processmaker.com/modules/nice_menus/css/nice_menus_default.css?s743n7");
@import url("https://wiki.processmaker.com/modules/fivestar/css/fivestar.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/themes/thecompany_responsive_theme/css/style.css?s743n7");
@import url("https://wiki.processmaker.com/themes/thecompany_responsive_theme/css/media.css?s743n7");
</style>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/replace/jquery/1.9/jquery.min.js?v=1.9.1"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/jquery.once.js?v=1.2"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/drupal.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/jquery.bgiframe.js?v=2.1"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/jquery.hoverIntent.js?v=0.5"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/superfish.js?v=1.4.8"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/nice_menus.js?v=1.0"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/replace/ui/external/jquery.cookie.js?v=67fb34f6a866c40d0570"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/replace/misc/jquery.form.min.js?v=2.69"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/ajax.js?v=7.34"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/js/jquery_update.js?v=0.0.1"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/toc_filter/toc_filter.js?s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/colorbox/js/colorbox.js@s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/colorbox/styles/default/colorbox_style.js@s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/google_analytics/googleanalytics.js@s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create", "UA-3380652-1", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");
//--><!]]>
</script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/progress.js?v=7.34"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/fivestar/js/fivestar.ajax.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/fivestar/js/fivestar.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/jquery-1.10.2.min.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/jquery-ui.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/jquery-ui.min.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/custom.js?s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"thecompany_responsive_theme","theme_token":"jnXfl_aGmplRi0EDiT1qqhplRSKF3SO9diolqBRbTkg","jquery_version":"1.9","js":{"modules\/jquery_update\/replace\/jquery\/1.9\/jquery.min.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"modules\/nice_menus\/js\/jquery.bgiframe.js":1,"modules\/nice_menus\/js\/jquery.hoverIntent.js":1,"modules\/nice_menus\/js\/superfish.js":1,"modules\/nice_menus\/js\/nice_menus.js":1,"modules\/jquery_update\/replace\/ui\/external\/jquery.cookie.js":1,"modules\/jquery_update\/replace\/misc\/jquery.form.min.js":1,"misc\/ajax.js":1,"modules\/jquery_update\/js\/jquery_update.js":1,"modules\/toc_filter\/toc_filter.js":1,"sites\/all\/modules\/colorbox\/js\/colorbox.js":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.js":1,"sites\/all\/modules\/google_analytics\/googleanalytics.js":1,"0":1,"misc\/progress.js":1,"modules\/fivestar\/js\/fivestar.ajax.js":1,"modules\/fivestar\/js\/fivestar.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-1.10.2.min.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.min.js":1,"themes\/thecompany_responsive_theme\/js\/custom.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/aggregator\/aggregator.css":1,"modules\/comment\/comment.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/toc_filter\/toc_filter.css":1,"modules\/user\/user.css":1,"modules\/views\/css\/views.css":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.css":1,"modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/geshifilter\/geshifilter.css":1,"modules\/panels\/css\/panels.css":1,"modules\/nice_menus\/css\/nice_menus.css":1,"modules\/nice_menus\/css\/nice_menus_default.css":1,"modules\/fivestar\/css\/fivestar.css":1,"themes\/thecompany_responsive_theme\/css\/style.css":1,"themes\/thecompany_responsive_theme\/css\/media.css":1}},"colorbox":{"opacity":"0.85","current":"{current} of {total}","previous":"\u00ab Prev","next":"Next \u00bb","close":"Close","maxWidth":"98%","maxHeight":"98%","fixed":true,"mobiledetect":true,"mobiledevicewidth":"480px","specificPagesDefaultValue":"admin*\nimagebrowser*\nimg_assist*\nimce*\nnode\/add\/*\nnode\/*\/edit\nprint\/*\nprintpdf\/*\nsystem\/ajax\nsystem\/ajax\/*"},"toc_filter_smooth_scroll_duration":"","googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip","trackColorbox":1},"nice_menus_options":{"delay":"800","speed":"slow"},"ajax":{"edit-vote--2":{"callback":"fivestar_ajax_submit","event":"change","url":"\/system\/ajax","submit":{"_triggering_element_name":"vote"}}}});
//--><!]]>
</script>
<!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

<!-- Facebook Pixel Code -->
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','//connect.facebook.net/en_US/fbevents.js');
// Insert Your Facebook Pixel ID below.
fbq('init', '735235999992228');
fbq('track', 'PageView');
</script>
<!-- Insert Your Facebook Pixel ID below. -->
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=735235999992228&amp;ev=PageView&amp;noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->

</head>
<body class="html not-front not-logged-in no-sidebars page-node page-node- page-node-74 node-type-community-edition">
    
<div class="wrap">

<div id="header_wrapper">
  <div id="inner_header_wrapper">

    <header id="header" role="banner">
      
      <div class="header_inner_wrapper">
        <div class="header_left">
                      <div id="logo">
              <a href="../index.html" title="Home"><img src="../sites/default/files/full-logo.png"/></a>
            </div>
                            <!--  <h1 id="site-title">
            <a href="/" title="Home">Documentation@ProcessMaker</a>
            <div id="site-description"></div>
          </h1> -->
            
        </div>
      </div>
      <div class="header_right">
          <div class="region region-search">
  <div id="block-search-form" class="block block-search">

        <h2 >_</h2>
    
  <div class="content">
    <form action="74.html" method="post" id="search-block-form" accept-charset="UTF-8"><div><div class="container-inline">
    <div class="form-item form-type-textfield form-item-search-block-form">
  <label class="element-invisible" for="edit-search-block-form--2">Search </label>
 <input title="Enter the terms you wish to search for." placeholder="Search" type="text" id="edit-search-block-form--2" name="search_block_form" value="" size="15" maxlength="128" class="form-text" />
</div>
<div class="form-actions form-wrapper" id="edit-actions"><input type="submit" id="edit-submit" name="op" value="Search" class="form-submit" /></div><input type="hidden" name="form_build_id" value="form-m03f4dgG5jOZmYpqotYvFyinYq6S-4xOl4zrCix_Kx8" />
<input type="hidden" name="form_id" value="search_block_form" />
</div>
</div></form>  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
                  <h1 class="page-title">2.0 - Dropdown Boxes and Listboxes</h1>                <p class="page-title-suffix"></p>
                 <div style="margin-top: 5px;"></div>
      </div>
    </header>
    <div class="region-version">
      <span>Version: </span><ul><li><a href="../3.1/Dropdown_Control.html" class="">3.8</a></li><li><a href="../3.1/Dropdown_Control.html" class="">3.7</a></li><li><a href="../3.1/Dropdown_Control.html" class="">3.6</a></li><li><a href="../3.1/Dropdown_Control.html" class="">3.5</a></li><li><a href="../3.1/Dropdown_Control.html" class="">3.4</a></li><li><a href="../3.1/Dropdown_Control.html" class="">3.3</a></li><li><a href="../3.1/Dropdown_Control.html" class="">3.2</a></li><li><a href="../3.1/Dropdown_Control.html" class="">3.1</a></li><li><a href="../3.0/Dropdown_Control.html" class="">3.0</a></li><li><a  class="active-version">2.x</a></li></ul>    </div>
  </div>
</div>
<!-- <ul class="nice-menu nice-menu-down nice-menu-main-menu" id="nice-menu-0"><li class="menu-506 menu-path-node-1078 first odd "><a href="/PM_Classic" title="Learn how to develop business solutions in ProcessMaker Platform while maintaining your existing ProcessMaker 3 solutions in PM Classic: the perfect bridge between your new and existing solutions with a state-of--the-art BPM platform.">PM Classic</a></li>
<li class="menu-319 menu-path-processmakercom-tutorials  even "><a href="http://www.processmaker.com/tutorials" title="">Tutorials</a></li>
<li class="menu-320 menu-path-node-571  odd "><a href="/3.1/user_guide">User Guide</a></li>
<li class="menu-1138 menu-path-node-572  even "><a href="/3.1/developer_info">Developer Info</a></li>
<li class="menu-1197 menu-path-node-876  odd "><a href="/3.2/sys_administration">Sys Administration</a></li>
<li class="menu-1140 menu-path-node-236  even "><a href="/3.1/resources">Helpful Resources</a></li>
<li class="menu-1141 menu-path-node-554  odd "><a href="/Sitemap">Sitemap</a></li>
<li class="menu-1213 menu-path-sprocessmakergitbookio-processmaker-  even last"><a href="https://processmaker.gitbook.io/processmaker/" title="Read ProcessMaker Platform Spring 2023 documentation to learn more about the next generation of BPM.">ProcessMaker Platform</a></li>
</ul>
-->
  
  <div id="container">
    
    <div class="content-sidebar-wrap">

    <div id="content">

              <!-- <div id="breadcrumbs">
        <h2 class="element-invisible">You are here</h2><div class="breadcrumb"><a href="/">Home</a></div></div> -->
      
      <section id="post-content" role="main">
                                        <div class="region region-content">
  <div id="block-system-main" class="block block-system">

      
  <div class="content">
                          <span property="dc:title" content="2.0 - Dropdown Boxes and Listboxes" class="rdf-meta element-hidden"></span>  
      
    
  <div class="content node-community-edition">
    <div class="field field-name-field-how-useful field-type-fivestar field-label-above"><div class="field-label">Please rate how useful you found this document:&nbsp;</div><div class="field-items"><div class="field-item even"><form class="fivestar-widget" action="74.html" method="post" id="fivestar-custom-widget" accept-charset="UTF-8"><div><div  class="clearfix fivestar-average-text fivestar-average-stars fivestar-form-item fivestar-default"><div class="form-item form-type-fivestar form-item-vote">
 <div class="form-item form-type-select form-item-vote">
 <select id="edit-vote--2" name="vote" class="form-select"><option value="-">Select rating</option><option value="20">Give 2.0 - Dropdown Boxes and Listboxes 1/5</option><option value="40">Give 2.0 - Dropdown Boxes and Listboxes 2/5</option><option value="60" selected="selected">Give 2.0 - Dropdown Boxes and Listboxes 3/5</option><option value="80">Give 2.0 - Dropdown Boxes and Listboxes 4/5</option><option value="100">Give 2.0 - Dropdown Boxes and Listboxes 5/5</option></select>
<div class="description"><div class="fivestar-summary fivestar-summary-average-count"><span class="average-rating">Average: <span >2.3</span></span> <span class="total-votes">(<span >6</span> votes)</span></div></div>
</div>

</div>
</div><input class="fivestar-submit form-submit" type="submit" id="edit-fivestar-submit" name="op" value="Rate" /><input type="hidden" name="form_build_id" value="form-DsnpfciASahRMMgOshUIuwzocSr3z4v3v_5SkFQhktA" />
<input type="hidden" name="form_id" value="fivestar_custom_widget" />
</div></form></div></div></div><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><div style="float: right; margin-left: 5px; background-color: #f9f9f9; border: 1px solid #aaaaaa; padding: 5px;"><center><strong>Contents:</strong> [<a href="74.html#" onclick="var el = document.getElementById('toc');
        var txt = ('innerText' in el)? 'innerText' : 'textContent';
        if (el.style.display=='none') { 
           el.style.display = '';
           document.getElementById('hideLabel')[txt] = 'hide';
        }
        else {
	        el.style.display = 'none';
           document.getElementById('hideLabel')[txt] = 'show';
        }"><span id="hideLabel">hide</span></a>]</b></center><div id="toc" ><ol class="toc">
<li class="toc"><a href="74.html#Overview">Overview</a></li>
<li class="toc"><a href="74.html#Dropdown">Dropdown</a></li>
<ol class="toc">
<li class="toc"><a href="74.html#Save_label_of_selected_value_in_variable">Save label of selected value in variable</a></li>
<li class="toc"><a href="74.html#Adding_subtitles_inside_a_dropdown">Adding subtitles inside a dropdown</a></li>
<li class="toc"><a href="74.html#Accessing_Dropdowns_with_JavaScript">Accessing Dropdowns with JavaScript</a></li>
<ol class="toc">
<li class="toc"><a href="74.html#The_options_Array">The <strong><code>options</code></strong> Array</a></li>
<li class="toc"><a href="74.html#Looping_through_the_options_Array">Looping through the <strong>options</strong> Array</a></li>
<li class="toc"><a href="74.html#Adding_Options">Adding Options</a></li>
<li class="toc"><a href="74.html#Removing_Options">Removing Options</a></li>
<li class="toc"><a href="74.html#Changing_a_Textbox_depending_on_a_dropdowns_selection">Changing a textbox depending on a dropdown's selection</a></li>
</ol>
<li class="toc"><a href="74.html#Accessing_Dropdowns_with_PHP">Accessing Dropdowns with PHP</a></li>
<ol class="toc">
<li class="toc"><a href="74.html#Manually_Populating_Dropdowns">Manually Populating Dropdowns</a></li>
<li class="toc"><a href="74.html#Querying_the_.24_DBArray">Querying the <strong>$_DBArray</strong></a></li>
<li class="toc"><a href="74.html#Populate_a_Dropdown_with_a_Database_Query">Populate a Dropdown with a Database Query</a></li>
<li class="toc"><a href="74.html#Populate_a_Dropdown_from_a_Grid">Populate a Dropdown from a Grid</a></li>
<li class="toc"><a href="74.html#Passing_JSON_Strings_of_Options">Passing JSON Strings of Options</a></li>
<li class="toc"><a href="74.html#Passing_Database_Queries_To_Dropdowns">Passing Database Queries To Dropdowns</a></li>
</ol>
<li class="toc"><a href="74.html#Saving_Lists_of_Dropdown_Options">Saving Lists of Dropdown Options</a></li>
<ol class="toc">
<li class="toc"><a href="74.html#Saving_Dropdown_options_as_a_JSON_string">Saving Dropdown options as a JSON string</a></li>
<li class="toc"><a href="74.html#Saving_Dropdown_Options_as_a_serialize.28.29_string">Saving Dropdown Options as a serialize() string</a></li>
</ol>
</ol>
<li class="toc"><a href="74.html#YesNo">YesNo</a></li>
<ol class="toc">
<li class="toc"><a href="74.html#Accessing_Yes.2FNo_Boxes_with_JavaScript">Accessing Yes/No Boxes with JavaScript</a></li>
<li class="toc"><a href="74.html#Accessing_Yes.2FNo_Boxes_with_PHP">Accessing Yes/No Boxes with PHP</a></li>
</ol>
<li class="toc"><a href="74.html#Listbox">Listbox</a></li>
<ol class="toc">
<li class="toc"><a href="74.html#Accessing_Listboxes_with_JavaScript">Accessing Listboxes with JavaScript</a></li>
<li class="toc"><a href="74.html#Accessing_Listboxes_with_PHP">Accessing Listboxes with PHP</a></li>
<ol class="toc">
<li class="toc"><a href="74.html#Manually_Populating_Listboxes">Manually Populating Listboxes</a></li>
<li class="toc"><a href="74.html#Preselecting_Options_in_Listboxes">Preselecting Options in Listboxes</a></li>
</ol>
</div></div>


<h2><span id="Overview">Overview</span></h2>

<p><a href="74.html#Dropdown">Dropdown boxes</a>, <a href="74.html#YesNo">yes/no boxes</a> and <a href="74.html#Listbox">listboxes</a> allow a user to select option(s) from a list of predefined options.</p>

<h2><img alt="" height="23" src="../sites/default/files/DynaFormDropdown.gif"><span id="Dropdown">Dropdown</span></h2>

<p>Dropdown boxes allow the user to select a single option from a list of predetermined options which drop down.</p><p><strong>Properties</strong></p><ul><li><a href="../index.php/2.0/Common_Field_Properties.html#Field_Name" title="2.0/Common Field Properties">Field Name</a><font color="red"> *Required</font></li><li><a href="../index.php/2.0/Common_Field_Properties.html#Label" title="2.0/Common Field Properties">Label</a></li></ul><p><strong>Behavior</strong></p><ul><li><a href="../index.php/2.0/Common_Field_Properties.html#Required" title="2.0/Common Field Properties">Required</a></li><li><a href="../index.php/2.0/Common_Field_Properties.html#Read_Only" title="2.0/Common Field Properties">Read Only</a></li><li><a href="../index.php/2.0/Common_Field_Properties.html#Dependent_Fields" title="2.0/Common Field Properties">Dependent Fields</a></li><li><a href="../index.php/2.0/Common_Field_Properties.html#Default_Value" title="2.0/Common Field Properties">Default Value</a></li><li><a href="74.html#Save_label_of_selected_value_in_variable">Save label of selected value in variable</a></li></ul><p><strong>Appearance</strong></p><ul><li><a href="../index.php/2.0/Common_Field_Properties.html#Mode" title="2.0/Common Field Properties">Mode</a></li></ul><p><strong>Data</strong></p><ul><li><a href="../index.php/2.0/Common_Field_Properties.html#Sql_Connection" title="2.0/Common Field Properties">Sql Connection</a></li><li><a href="../index.php/2.0/Common_Field_Properties.html#Sql" title="2.0/Common Field Properties">Sql</a></li></ul><p><strong><a href="../index.php/2.0/Common_Field_Properties.html#Option" title="2.0/Common Field Properties">Options</a></strong></p><p>Dropdown boxes are used because they save space compared to listboxes, but dropdown boxes do not allow multiple selections and the user is forced to use the mouse to display the list of available options.</p><p>An option can be selected by clicking once on the dropdown box to display the list of options and then clicking a second time on the option to be selected. Alternatively, an option can be selected by holding down on the right mouse button to display the list and then moving the mouse cursor to an option and releasing the mouse mouse.</p><p>To select an option with the keyboard, use the TAB or SHIFT+TAB to bring the focus to the dropdown box. Press the UP or LEFT arrow key to select the previous option in the list. Press the DOWN or RIGHT arrow key to select the next option in the list. Press HOME to select the first option in the list and END to select the last option. Pressing a letter or number key will move the selection to the first option whose label starts with that letter or number. Pressing the same letter or number again moves to subsequent options starting with that letter or number. There is no way to display the list of options with the keyboard, but once the list is displayed with a single click, the keyboard can be used to move the selection. To select the current option and hide the list, press ENTER or TAB.</p><p>Each option in dropdown boxes have both a value, which is what is stored when a user selects an option and the label, which is the text displayed to the user. A dropdown box has have its list of options defined in its XML definition. In addition, it can append extra options to the list with an SQL SELECT statement.</p>

<h3><span id="Save_label_of_selected_value_in_variable">Save label of selected value in variable</span></h3>

<p>Activate this option to save the label of the selected option for a dropdown box. The label will be saved as a case variable with the same name as the dropdown box, but with "_label" appended at the end. For instance, if a dropdown box is named "MyDropdown", then the value of the selected option would be stored in the case variable <code>@@MyDropdown</code> and the label of the selected option would be stored in the case variable <code>@@MyDropdown_label</code>.</p>

<p><strong>XML Definition:</strong></p>
<dl><dd><tt>&lt;<i>NAME</i> ... <strong>savelabel="0|1"</strong> ...&gt;...<!--<i-->&lt;/NAME&gt;</tt></dd></dl>

<p style="margin-left:25px"><strong><font color="green">Note:</font></strong><font color="dimgray"> In version 2.0 and later, the <strong><code>savelabel="0|1"</code></strong> property has been eliminated because the case variables <code>@@<i><font color=blue>field-name</font></i>_label</code> are automatically created to save the label of the selected option.</font></p>

<p><strong>Example:</strong></p>
<p>If there is a dropdown named "Country", then its case variable holding the label of the selected option will be <code>@@Country_label</code>. This is also applied for radiogroups and listboxes.</p>

<h3><span id="Adding_subtitles_inside_a_dropdown">Adding subtitles inside a dropdown</span></h3>
<p style="margin-left:25px"><strong><font color="#009688">Available Version:</font></strong><font color="dimgray"> From 2.5.1 on.</font></p>
<p>The addition of subtitles will help users to categorize and group a list of values extracted from queries, specially if they have to insert more than one query inside a dropdown. To enable subtitles inside a dropdown a <tt>optgroup</tt> attribute inside the XML must be added with a value of <tt>1</tt>. The example below will guide you in the creation of subtitles:</p><p>Create a dropdown field with the following structure:</p><p><img alt="" height="253" src="../sites/default/files/DropdownFieldCreationSubt.png" width="577"></p><p>As you can see, there is a new attribute named "Include option group", by clicking on that option, the use of subtitles will be available, by adding an option next to each dropdown value:</p>

<p><img src="https://wiki.processmaker.com/sites/default/files/Option_Dropdown.png"></p>

<p>Inside the XML, the attribute added will be:</p>

<div class="geshifilter"><div class="xml geshifilter-xml" style="font-family:monospace;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;Users_Countries</span> <span style="color: #000066;">type</span>=<span style="color: #ff0000;">&quot;dropdown&quot;</span> <span style="color: #000066;">optgroup</span>=<span style="color: #ff0000;">&quot;1&quot;</span> <span style="color: #000066;">mode</span>=<span style="color: #ff0000;">&quot;edit&quot;</span><span style="color: #000000; font-weight: bold;">&gt;</span></span><br />
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/Users_Countries<span style="color: #000000; font-weight: bold;">&gt;</span></span></span></div></div>

<p>Then create queries to be displayed in the dropdown, for this example, let's create two queries, to list users and to list countries:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #66cc66;">&#40;</span><span style="color: #993333; font-weight: bold;">SELECT</span> <span style="color: #ff0000;">'optgroup1'</span> <span style="color: #993333; font-weight: bold;">AS</span> UID<span style="color: #66cc66;">,</span> <span style="color: #ff0000;">'Users'</span> <span style="color: #993333; font-weight: bold;">AS</span> NAME<span style="color: #66cc66;">&#41;</span><br />
<span style="color: #993333; font-weight: bold;">UNION</span><br />
<span style="color: #66cc66;">&#40;</span><span style="color: #993333; font-weight: bold;">SELECT</span> USR<span style="color: #66cc66;">.</span>USR_UID <span style="color: #993333; font-weight: bold;">AS</span> UID<span style="color: #66cc66;">,</span> USR<span style="color: #66cc66;">.</span>USR_USERNAME <span style="color: #993333; font-weight: bold;">AS</span> NAME<br />
&nbsp; &nbsp;<span style="color: #993333; font-weight: bold;">FROM</span> USERS <span style="color: #993333; font-weight: bold;">AS</span> USR<br />
&nbsp; &nbsp;<span style="color: #993333; font-weight: bold;">WHERE</span> USR<span style="color: #66cc66;">.</span>USR_USERNAME <span style="color: #66cc66;">&lt;&gt;</span> <span style="color: #ff0000;">''</span> <span style="color: #993333; font-weight: bold;">AND</span> USR<span style="color: #66cc66;">.</span>USR_USERNAME <span style="color: #993333; font-weight: bold;">LIKE</span> <span style="color: #ff0000;">'%a%'</span><br />
<span style="color: #66cc66;">&#41;</span><br />
<span style="color: #993333; font-weight: bold;">UNION</span><br />
<span style="color: #66cc66;">&#40;</span><span style="color: #993333; font-weight: bold;">SELECT</span> <span style="color: #ff0000;">'optgroup2'</span> <span style="color: #993333; font-weight: bold;">AS</span> UID<span style="color: #66cc66;">,</span> <span style="color: #ff0000;">'Countries'</span> <span style="color: #993333; font-weight: bold;">AS</span> NAME<span style="color: #66cc66;">&#41;</span><br />
<span style="color: #993333; font-weight: bold;">UNION</span><br />
<span style="color: #66cc66;">&#40;</span><span style="color: #993333; font-weight: bold;">SELECT</span> COUNTRY<span style="color: #66cc66;">.</span>IC_UID <span style="color: #993333; font-weight: bold;">AS</span> UID<span style="color: #66cc66;">,</span> COUNTRY<span style="color: #66cc66;">.</span>IC_NAME <span style="color: #993333; font-weight: bold;">AS</span> NAME<br />
&nbsp; &nbsp;<span style="color: #993333; font-weight: bold;">FROM</span> ISO_COUNTRY <span style="color: #993333; font-weight: bold;">AS</span> COUNTRY<br />
&nbsp; &nbsp;<span style="color: #993333; font-weight: bold;">WHERE</span> COUNTRY<span style="color: #66cc66;">.</span>IC_NAME <span style="color: #993333; font-weight: bold;">LIKE</span> <span style="color: #ff0000;">'b%'</span><br />
<span style="color: #66cc66;">&#41;</span></div></div>
	
<p>In both cases it is required to have optgroup inside the query, this will work as the ID of the subtitle, and two, one for <i>Users</i> subtitle and the other for <i>Countries</i> subtitle. Then use <tt>UNION</tt> to join both queries and to be displayed on the same dropdown.</p>
<p>Save your dynaform and the final XML will be:</p>

<div class="geshifilter"><div class="xml geshifilter-xml" style="font-family:monospace;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;Users_Countries</span> <span style="color: #000066;">type</span>=<span style="color: #ff0000;">&quot;dropdown&quot;</span> <span style="color: #000066;">optgroup</span>=<span style="color: #ff0000;">&quot;1&quot;</span> <span style="color: #000066;">mode</span>=<span style="color: #ff0000;">&quot;edit&quot;</span><span style="color: #000000; font-weight: bold;">&gt;</span></span><br />
<span style="color: #339933;">&lt;![CDATA[ (SELECT 'optgroup1' AS UID, 'Users' AS NAME)</span><br />
<span style="color: #339933;"> &nbsp; &nbsp;UNION</span><br />
<span style="color: #339933;"> &nbsp; &nbsp;(SELECT USR.USR_UID AS UID, USR.USR_USERNAME AS NAME</span><br />
<span style="color: #339933;"> &nbsp; &nbsp; FROM USERS AS USR</span><br />
<span style="color: #339933;"> &nbsp; &nbsp; WHERE USR.USR_USERNAME &lt;&gt; '' AND USR.USR_USERNAME LIKE '%a%'</span><br />
<span style="color: #339933;"> &nbsp; &nbsp;)</span><br />
<span style="color: #339933;"> &nbsp; &nbsp;UNION</span><br />
<span style="color: #339933;"> &nbsp; &nbsp;(SELECT 'optgroup2' AS UID, 'Countries' AS NAME)</span><br />
<span style="color: #339933;"> &nbsp; &nbsp;UNION</span><br />
<span style="color: #339933;"> &nbsp; &nbsp;(SELECT COUNTRY.IC_UID AS UID, COUNTRY.IC_NAME AS NAME</span><br />
<span style="color: #339933;"> &nbsp; &nbsp; FROM ISO_COUNTRY AS COUNTRY</span><br />
<span style="color: #339933;"> &nbsp; &nbsp; WHERE COUNTRY.IC_NAME LIKE 'b%'</span><br />
<span style="color: #339933;"> &nbsp; &nbsp;) &nbsp; &nbsp;]]&gt;</span><br />
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;en<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>Choose a user or a Country<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;option</span> <span style="color: #000066;">name</span>=<span style="color: #ff0000;">&quot;optgroup1&quot;</span><span style="color: #000000; font-weight: bold;">/&gt;</span><span style="color: #000000; font-weight: bold;">&lt;/en<span style="color: #000000; font-weight: bold;">&gt;</span></span></span><br />
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/Users_Countries<span style="color: #000000; font-weight: bold;">&gt;</span></span></span></div></div>

<p>Save your dynaform and then go to preview tab, select the dropdown, the final result will be:</p>
<p><img alt="" height="353" src="../sites/default/files/SubtitlesinDropdown.png" width="513"></p>

<h3><span id="Accessing_Dropdowns_with_JavaScript">Accessing Dropdowns with JavaScript</span></h3>
<p>The value (not the label) of the selected option in a listbox is stored in:<br>
<code>getField("<i><font color=blue>dropdown-name</font></i>").value</code></p>
<p>For instance, if a DynaForm contains the dropdown box named "MyDropdown", the value of its selected option can be read:</p>
<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">var</span> x <span style="color: #339933;">=</span> getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;MyDropdown&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span><span style="color: #339933;">;</span></div></div>

<p>and it can be changed:</p>
<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;">getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;MyDropdown&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">'valueX'</span><span style="color: #339933;">;</span></div></div>

<p>If there is no option in the dropdown box with a value of 'valueX', then the selected option in the dropdown box will not change.</p>
<h4><span id="The_options_Array">The <strong><code>options</code></strong> Array</span></h4>
<p>A particular option in a dropdown box can be accessed by using its <strong><code>options</code></strong> array, which counts the options beginning with the number <code>0</code>.<br>
<code>getField("<i><font color=blue>dropdown-name</font></i>").options[<i>index</i>].selected</code> is a boolean value indicating whether a particular option in the dropdown box or listbox is selected.<br>
<code>getField("<i><font color=blue>dropdown-name</font></i>").options[<i>index</i>].value</code> is the value for an option and <code>getField("<i><font color=blue>dropdown-name</font></i>").options[<i>index</i>].text</code> is its label. The <code>selected</code> and <code>text</code> properties may be both read and changed, but <code>value</code> is read-only.</p>
<p><code>getField("<i><font color=blue>dropdown-name</font></i>").selectedIndex</code> is the index number of the selected option in a dropdown box. This index number can be used to get the value and label of the selected option, which is stored in the <code>options</code> array:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">var</span> idx <span style="color: #339933;">=</span> getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;MyDropdown&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">selectedIndex</span><span style="color: #339933;">;</span><br />
<span style="color: #000066; font-weight: bold;">var</span> selectedValue <span style="color: #339933;">=</span> getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;MyDropdown&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">options</span><span style="color: #009900;">&#91;</span>idx<span style="color: #009900;">&#93;</span>.<span style="color: #660066;">value</span><span style="color: #339933;">;</span><br />
<span style="color: #000066; font-weight: bold;">var</span> selectedLabel <span style="color: #339933;">=</span> getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;MyDropdown&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">options</span><span style="color: #009900;">&#91;</span>idx<span style="color: #009900;">&#93;</span>.<span style="color: #660066;">text</span><span style="color: #339933;">;</span></div></div>
 
<p>To select the second option in MyDropdown and change its label to "Foo Bar":</p>
<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;">getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;MyDropdown&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">options</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #009900;">&#93;</span>.<span style="color: #660066;">selected</span> <span style="color: #339933;">=</span> <span style="color: #003366; font-weight: bold;">true</span><span style="color: #339933;">;</span><br />
getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;MyDropdown&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">options</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #009900;">&#93;</span>.<span style="color: #660066;">text</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">&quot;Foo Bar&quot;</span><span style="color: #339933;">;</span></div></div>

<h4><span id="Looping_through_the_options_Array">Looping through the <strong>options</strong> Array</span></h4>
<p>The number of available options in a dropdown box is stored in <code>getField("<i><strong>dropdown-name</strong></i>").length</code>. This number can be used when looping through the <code><strong>options</strong></code> array. For instance, to capitalize every option in a dropdown box named "MyDropdown":</p>
<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">var</span> nOpts <span style="color: #339933;">=</span> getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'MyDropdown'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">length</span><span style="color: #339933;">;</span> <br />
<span style="color: #000066; font-weight: bold;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">var</span> i <span style="color: #339933;">=</span> <span style="color: #CC0000;">0</span><span style="color: #339933;">;</span> i <span style="color: #339933;">&lt;</span> nOpts<span style="color: #339933;">;</span> i<span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'MyDropdown'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">options</span><span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span>.<span style="color: #660066;">text</span> <span style="color: #339933;">=</span> getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'MyDropdown'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">options</span><span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span>.<span style="color: #660066;">text</span>.<span style="color: #660066;">toUpperCase</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>
  
<h4><span id="Adding_Options">Adding Options</span></h4>
<p>The <code>createElement()</code> and <code>add()</code> methods can be used to append an option to a dropdown box. For instance, to add the option "Contact by Phone" to "MyDropdown":</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">var</span> opt <span style="color: #339933;">=</span> document.<span style="color: #660066;">createElement</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;OPTION&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
opt.<span style="color: #660066;">text</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">&quot;Contact by Phone&quot;</span><span style="color: #339933;">;</span><br />
opt.<span style="color: #660066;">value</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">&quot;phone&quot;</span><span style="color: #339933;">;</span><br />
getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;MyDropdown&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">options</span>.<span style="color: #660066;">add</span><span style="color: #009900;">&#40;</span>opt<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
 
<h4><span id="Removing_Options">Removing Options</span></h4>
<p>Similarly the <code>remove(<font color=blue><i>index</i></font>)</code> method can be used to remove an option. For instance, to remove the "Contact by Phone" option from "MyDropdown":</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">var</span> nOpts <span style="color: #339933;">=</span> getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'MyDropdown'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">length</span><span style="color: #339933;">;</span> <br />
<span style="color: #000066; font-weight: bold;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">var</span> i <span style="color: #339933;">=</span> <span style="color: #CC0000;">0</span><span style="color: #339933;">;</span> i <span style="color: #339933;">&lt;</span> nOpts<span style="color: #339933;">;</span> i<span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'MyDropdown'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">options</span><span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span>.<span style="color: #660066;">value</span> <span style="color: #339933;">==</span> <span style="color: #3366CC;">&quot;phone&quot;</span><span style="color: #009900;">&#41;</span> <br />
&nbsp; &nbsp; &nbsp; getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'MyDropdown'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">options</span>.<span style="color: #660066;">remove</span><span style="color: #009900;">&#40;</span>i<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>
 
<p>To remove all the options from a dropdown box or listbox, set its <strong>length</strong> property to <strong>0</strong>:</p>
<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;">getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'MyDropdown'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">length</span> <span style="color: #339933;">=</span> <span style="color: #CC0000;">0</span><span style="color: #339933;">;</span></div></div>

<h4><span id="Changing_a_Textbox_depending_on_a_dropdowns_selection">Changing a textbox depending on a dropdown's selection</span></h4>
<p>The following example changes the value of a textbox depending on what option is selected in a dropdown. For instance, if a loan needs to be approved or rejected depending on the amount selected, the code will be:</p>
<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">var</span> changeDrop <span style="color: #339933;">=</span> <span style="color: #000066; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">var</span> idx <span style="color: #339933;">=</span> getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;Loan&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">selectedIndex</span><span style="color: #339933;">;</span><span style="color: #006600; font-style: italic;">// name of the dropdown</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">var</span> selectedValue <span style="color: #339933;">=</span> getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;Loan&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">options</span><span style="color: #009900;">&#91;</span>idx<span style="color: #009900;">&#93;</span>.<span style="color: #660066;">value</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #006600; font-style: italic;">// use the option defined on the dropdown</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>selectedValue <span style="color: #339933;">==</span> <span style="color: #3366CC;">'Op1'</span><span style="color: #009900;">&#41;</span> &nbsp;<span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'TxtLoan'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span><span style="color: #339933;">=</span><span style="color: #3366CC;">'Rejected'</span><span style="color: #339933;">;</span><span style="color: #006600; font-style: italic;">// changing the value of the textbox</span><br />
&nbsp; &nbsp; &nbsp; getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;TxtLoan&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">style</span>.<span style="color: #660066;">background</span><span style="color: #339933;">=</span> <span style="color: #3366CC;">&quot;red&quot;</span><span style="color: #339933;">;</span><span style="color: #006600; font-style: italic;">// changing the background of the textbox</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'TxtLoan'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span><span style="color: #339933;">=</span><span style="color: #3366CC;">'Approved'</span><span style="color: #339933;">;</span> <span style="color: #006600; font-style: italic;">//// changing the value of the textbox</span><br />
&nbsp; &nbsp; &nbsp; getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;TxtLoan&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">style</span>.<span style="color: #660066;">background</span><span style="color: #339933;">=</span> <span style="color: #3366CC;">&quot;green&quot;</span><span style="color: #339933;">;</span><span style="color: #006600; font-style: italic;">// changing the background of the textbox</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span><span style="color: #339933;">;</span><br />
<span style="color: #000066; font-weight: bold;">var</span> dynaformOnload <span style="color: #339933;">=</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> <span style="color: #006600; font-style: italic;">// calling the function</span><br />
&nbsp; &nbsp;leimnud.<span style="color: #660066;">event</span>.<span style="color: #660066;">add</span><span style="color: #009900;">&#40;</span>getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'Loan'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">'change'</span><span style="color: #339933;">,</span> changeDrop <span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;changeDrop<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><span style="color: #339933;">;</span></div></div>

<p>The result will be:</p>
<p><img alt="" height="108" src="../sites/default/files/JSDrodpwonChange.png" width="1012"></p>

<h3><span id="Accessing_Dropdowns_with_PHP">Accessing Dropdowns with PHP</span></h3>
<p>When a DynaForm is submitted, the value of the selected option in a dropdown box is saved to a case variable with the name of the dropdown box. For example, a dropdown box named "ContactType" has the following options:</p>

<codeblock>Values:  Labels:    
1        Telephone 
2        Email
3        Fax</codeblock>

<p>A trigger which is fired after the DynaForm is submitted could be used to check for the selected value in the dropdown box. For instance the following code would send out an email informing an employee how to contact the client:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>ContactType <span style="color: #339933;">==</span> <span style="color: #0000ff;">'1'</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$template</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'TelephoneClient.html'</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$subject</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'Reminder to telephone client'</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">elseif</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>ContactType <span style="color: #339933;">==</span> <span style="color: #0000ff;">'2'</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$template</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'EmailClient.html'</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$subject</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'Reminder to email client'</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$template</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'FaxClient.html'</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$subject</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'Reminder to fax client'</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
PMFSendMessage<span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;admin@acme.com&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;employee@acme.com&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;&quot;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$subject</span><span style="color: #339933;">,</span> <span style="color: #000088;">$template</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>To set the option selected in a dropdown box, set its value in the trigger fired directly before the DynaForm is displayed. For example, to select the option "Email" in the above example, set its value to "2" in the trigger code:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@@</span>ContactType <span style="color: #339933;">=</span> <span style="color: #0000ff;">'2'</span><span style="color: #339933;">;</span></div></div>

<h4><span id="Manually_Populating_Dropdowns">Manually Populating Dropdowns</span></h4>
<p>There are two ways to manually populate the list of options in a dropdown box:</p>
<ol><li><a href="74.html#Querying_the_DBArray">Adding an associative array of associative arrays to <strong>$_DBArray</strong></a> and then querying that array with SQL.</li><li><a href="74.html#Passing_JSON_Strings_of_Options">Serializing an array of arrays as a JSON string</a> and then using JavaScript to add the options to the dropdown box.</li></ol>
<p>The first method is simpler and doesn't require writing any JavaScript code, but the second method is more flexible because it allows additional options to be added to an existing list of options.</p>

<h4><span id="Querying_the_.24_DBArray">Querying the <strong>$_DBArray</strong></span></h4>
<p>To populate the list of options in a dropdown box with a trigger, first create an associative array of associative arrays, which is how ProcessMaker internally stores grids and the results of databases queries. This associative array of associative arrays can be queried like a normal table with an SQL <tt>SELECT</tt> statement.</p>
<p>For example, to manually populate a dropdown box named "contactMethod", create the following trigger which fires <i>before</i> the DynaForm:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$contactOptions</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">'1'</span> <span style="color: #339933;">=&gt;</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'CODE'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'1'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'TYPE'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'Telephone'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">'2'</span> <span style="color: #339933;">=&gt;</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'CODE'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'2'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'TYPE'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'Email'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">'3'</span> <span style="color: #339933;">=&gt;</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'CODE'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'3'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'TYPE'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'Fax'</span><span style="color: #009900;">&#41;</span><br />
<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;"># Then make $contactOptions available to be queried &nbsp;<br />
</span><span style="color: #666666; font-style: italic;"># in the DynaForm like a table from a database:<br />
</span><span style="color: #000000; font-weight: bold;">global</span> <span style="color: #000088;">$_DBArray</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$_DBArray</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'CONTACT_OPTIONS'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$contactOptions</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$_SESSION</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'_DBArray'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$_DBArray</span><span style="color: #339933;">;</span></div></div>
 
<p>Then, in the DynaForm create dropdown box named "contactMethod" with <strong>sqlconnection="dbarray"</strong> in its XML definition and an SQL query to access the <strong>CONTACT_TYPE</strong> array. For example:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> CODE<span style="color: #66cc66;">,</span> <span style="color: #993333; font-weight: bold;">TYPE</span> <span style="color: #993333; font-weight: bold;">FROM</span> CONTACT_OPTIONS</div></div>

<p>Where <tt>CODE</tt> will become the "value" for each option and <tt>TYPE</tt> will become the "label" for each option. The complete XML definition for the dropdown box would be:</p>

<div class="geshifilter"><div class="xml geshifilter-xml" style="font-family:monospace;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;contactMethod</span> <span style="color: #000066;">type</span>=<span style="color: #ff0000;">&quot;dropdown&quot;</span> <span style="color: #000066;">required</span>=<span style="color: #ff0000;">&quot;0&quot;</span> <span style="color: #000066;">readonly</span>=<span style="color: #ff0000;">&quot;0&quot;</span> <span style="color: #000066;">savelabel</span>=<span style="color: #ff0000;">&quot;0&quot;</span> </span><br />
<span style="color: #009900;"> &nbsp; <span style="color: #000066;">mode</span>=<span style="color: #ff0000;">&quot;edit&quot;</span> <span style="color: #000066;">options</span>=<span style="color: #ff0000;">&quot;Array&quot;</span> <span style="color: #000066;">sqlconnection</span>=<span style="color: #ff0000;">&quot;dbarray&quot;</span><span style="color: #000000; font-weight: bold;">&gt;</span></span><br />
&nbsp; &nbsp;SELECT CODE, TYPE FROM CONTACT_OPTIONS<br />
&nbsp; &nbsp;<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;en<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>Contact Type<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/en<span style="color: #000000; font-weight: bold;">&gt;</span></span></span><br />
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/contactMethod<span style="color: #000000; font-weight: bold;">&gt;</span></span></span></div></div>
 
<h4><span id="Populate_a_Dropdown_with_a_Database_Query">Populate a Dropdown with a Database Query</span></h4>
<p>To populate the list of options in a dropdown box with a database query, fire a trigger <i>before</i> the DynaForm is displayed which uses <a href="../index.php/ProcessMaker_Functions.html#executeQuery.28.29" title="ProcessMaker Functions">executeQuery()</a> to query the database for the <i>value</i> and the <i>label</i> fields used in the dropdown box. Then, assign the results of that query to the <strong>$_DBArray</strong> as shown in the previous example:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$db</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'XXXXXXXXXXXXXXXXXXXXXXXX'</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//set to the unique ID of the database connection</span><br />
<span style="color: #000088;">$contacts</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;SELECT CONTACT_ID, CONTACT_NAME FROM CONTACTS&quot;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$db</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;">//error check that it returned at least one record</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$contacts</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$contacts</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #666666; font-style: italic;"># Then make $contacts available to be queried &nbsp;<br />
</span> &nbsp; &nbsp;<span style="color: #666666; font-style: italic;"># in the DynaForm like a table from a database:<br />
</span> &nbsp; &nbsp;<span style="color: #000000; font-weight: bold;">global</span> <span style="color: #000088;">$_DBArray</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #000088;">$_DBArray</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'CONTACTS'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$contacts</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #000088;">$_SESSION</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'_DBArray'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$_DBArray</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>
 
<p>Then, in the DynaForm create a dropdown box which queries the <tt>CONTACTS</tt> array like a normal database table: For example:</p>
<div class="geshifilter"><div class="xml geshifilter-xml" style="font-family:monospace;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;MyDropdown</span> <span style="color: #000066;">type</span>=<span style="color: #ff0000;">&quot;dropdown&quot;</span> <span style="color: #000066;">required</span>=<span style="color: #ff0000;">&quot;0&quot;</span> <span style="color: #000066;">readonly</span>=<span style="color: #ff0000;">&quot;0&quot;</span> <span style="color: #000066;">savelabel</span>=<span style="color: #ff0000;">&quot;0&quot;</span> </span><br />
<span style="color: #009900;"> &nbsp; <span style="color: #000066;">mode</span>=<span style="color: #ff0000;">&quot;edit&quot;</span> <span style="color: #000066;">options</span>=<span style="color: #ff0000;">&quot;Array&quot;</span> <span style="color: #000066;">sqlconnection</span>=<span style="color: #ff0000;">&quot;dbarray&quot;</span><span style="color: #000000; font-weight: bold;">&gt;</span></span><br />
&nbsp; &nbsp;SELECT CONTACT_ID, CONTACT_NAME FROM CONTACTS<br />
&nbsp; &nbsp;<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;en<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>Select Contact<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/en<span style="color: #000000; font-weight: bold;">&gt;</span></span></span><br />
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/MyDropdown<span style="color: #000000; font-weight: bold;">&gt;</span></span></span></div></div>
 
<h4><span id="Populate_a_Dropdown_from_a_Grid">Populate a Dropdown from a Grid</span></h4>
<p>Populating a dropdown box from a grid is very similar to populating from a database query, since both are internally stored as an associative array of associative arrays.</p>
<p>In the following example, a grid named "contactsGrid" has the fields "id", "firstName" "lastName", "address", and "telephone". The "id" field will become the <i>value</i> and the "firstname" and "lastname" will be concatenated to become the <i>label</i> for each option in a dropdown box named "selectContact":</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">//error check that the grid exists and has at least one row</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">!</span><a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>contactsGrid<span style="color: #009900;">&#41;</span> or <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>contactsGrid<span style="color: #009900;">&#41;</span> <span style="color: #339933;">&lt;</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span> <br />
&nbsp; &nbsp; <span style="color: #000088;">$aContacts</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp; <span style="color: #000088;">$aContacts</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@=</span>contactsGrid<span style="color: #339933;">;</span><br />
&nbsp;<br />
<span style="color: #000000; font-weight: bold;">global</span> <span style="color: #000088;">$_DBArray</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$_DBArray</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'CONTACTS'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$aContacts</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$_SESSION</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'_DBArray'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$_DBArray</span><span style="color: #339933;">;</span></div></div>
 
<p>Then, in the DynaForm create a dropdown box which queries the <tt>CONTACTS</tt> array like a normal database table:</p>
<div class="geshifilter"><div class="xml geshifilter-xml" style="font-family:monospace;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;MyDropdown</span> <span style="color: #000066;">type</span>=<span style="color: #ff0000;">&quot;dropdown&quot;</span> <span style="color: #000066;">required</span>=<span style="color: #ff0000;">&quot;0&quot;</span> <span style="color: #000066;">readonly</span>=<span style="color: #ff0000;">&quot;0&quot;</span> <span style="color: #000066;">savelabel</span>=<span style="color: #ff0000;">&quot;0&quot;</span> </span><br />
<span style="color: #009900;"> &nbsp; <span style="color: #000066;">mode</span>=<span style="color: #ff0000;">&quot;edit&quot;</span> <span style="color: #000066;">options</span>=<span style="color: #ff0000;">&quot;Array&quot;</span> <span style="color: #000066;">sqlconnection</span>=<span style="color: #ff0000;">&quot;dbarray&quot;</span><span style="color: #000000; font-weight: bold;">&gt;</span></span><br />
&nbsp; &nbsp;SELECT id, CONCAT(lastname, ' ', firstname) FROM CONTACTS<br />
&nbsp; &nbsp;<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;en<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>Select Contact<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/en<span style="color: #000000; font-weight: bold;">&gt;</span></span></span><br />
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/MyDropdown<span style="color: #000000; font-weight: bold;">&gt;</span></span></span></div></div>
 
<h4><span id="Passing_JSON_Strings_of_Options">Passing JSON Strings of Options</span></h4>
<p>Another way to populate the list of options is to fire a trigger beforehand which uses the <a  href="http://php.net/manual/en/function.json-encode.php">json_encode()</a> function to create a serialized <a href="http://www.json.org/">JSON</a> string of options and then pass that serialized string to a hidden field in the DynaForm. When the DynaForm loads, use JavaScript to unserialize the JSON string as an array of options. Then, use the <a  href="http://developer.mozilla.org/en/document.createElement">document.createElement()</a> and <a  href="http://developer.mozilla.org/en/DOM/HTMLSelectElement#add%28%29">dropdown.options[<i>X</i>].add()</a> methods to dynamically construct the list of options. This method can be used to add additional options to the list of existing options in a dropdown box.</p>
<p>For example, the following trigger is used to construct a list of products for a dropdown box named "selectProduct". The list of products is serialized and passed to a hidden field in the DynaForm named "sProducts":</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$aProducts</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><br />
&nbsp; &nbsp; <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;ARM-100&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;Air Mattress Twin Bed 100&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;ARM-200&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;Air Mattress Queen Bed 200&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;ARM-300&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;Air Mattress King Bed 300&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;ARM-350&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;Air Mattress King Bed Deluxe 350&quot;</span><span style="color: #009900;">&#41;</span><br />
<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>sProducts <span style="color: #339933;">=</span> <a href="http://php.net/json_encode"><span style="color: #990000;">json_encode</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aProducts</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
 
<p>When the DynaForm loads, the following JavaScript code is used to unserialize the "sProducts" hidden field as an array of arrays. Then, the code adds each element in the array to the "selectProduct" dropdown using its <a  href="http://developer.mozilla.org/en/DOM/HTMLSelectElement#add%28%29">add()</a> method:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">var</span> aProducts <span style="color: #339933;">=</span> eval<span style="color: #009900;">&#40;</span>getValueById<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;sProducts&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">typeof</span><span style="color: #009900;">&#40;</span>aProducts<span style="color: #009900;">&#41;</span> <span style="color: #339933;">==</span> <span style="color: #3366CC;">'object'</span> <span style="color: #339933;">&amp;&amp;</span> aProducts.<span style="color: #660066;">length</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> &nbsp; &nbsp; <span style="color: #006600; font-style: italic;">//if an array</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">var</span> i<span style="color: #339933;">=</span><span style="color: #CC0000;">0</span><span style="color: #339933;">;</span> i <span style="color: #339933;">&lt;</span> aProducts.<span style="color: #660066;">length</span><span style="color: #339933;">;</span> i<span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">var</span> opt <span style="color: #339933;">=</span> document.<span style="color: #660066;">createElement</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;OPTION&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; opt.<span style="color: #660066;">value</span> <span style="color: #339933;">=</span> aProducts<span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">0</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; opt.<span style="color: #660066;">text</span> <span style="color: #339933;">=</span> aProducts<span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;selectProducts&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">options</span>.<span style="color: #660066;">add</span><span style="color: #009900;">&#40;</span>opt<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h4><span id="Passing_Database_Queries_To_Dropdowns">Passing Database Queries To Dropdowns</span></h4>
<p>Similar to the previous example, the results of a database query can be serialized as a JSON string and passed to a hidden field in a DynaForm. The results of a database query are stored as an associative array of associative arrays, which is more difficult to deal with since JSON converts associative arrays into objects. In the trigger, transform the associative array of associative arrays into a simple array of arrays before serializing with <strong>json_encode()</strong>.</p>
<p>For example, if the products list from the |example above comes from a database query, then use the following trigger code:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$aProducts</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$db</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;XXXXXXXXXXXXXXXXXXXXXX&quot;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//database connection unique ID</span><br />
<span style="color: #000088;">$products</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;SELECT PRODUCT_NO, PRODUCT_NAME FROM PRODUCTS&quot;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$db</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$products</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$products</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #b1b100;">foreach</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$products</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$product</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #000088;">$aProducts</span><span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$product</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'PRODUCT_NO'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$product</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'PRODUCT_NAME'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #339933;">@@</span>sProducts <span style="color: #339933;">=</span> <a href="http://php.net/json_encode"><span style="color: #990000;">json_encode</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aProducts</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
 
<p>Then use the same JavaScript code as above, to unserialize the JSON string and populate the "selectProduct" dropdown box.</p>
<div id="Passing_Grids_To_Dropdowns" style="font-family: sans-serif; font-size: 13px; line-height: 19.0499992370605px;"><strong>Passing Grids To Dropdowns</strong></div>
<p>For a grid, the trigger code would be basically the same. For example, if a grid named "productsGrid" has the fields "productNo" and "productName":</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$aProducts</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>productsGrid<span style="color: #009900;">&#41;</span> and <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>productsGrid<span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">foreach</span><span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>productsGrid <span style="color: #b1b100;">as</span> <span style="color: #000088;">$product</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$aProducts</span><span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$product</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'productNo'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$product</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'productName'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #339933;">@@</span>sProducts <span style="color: #339933;">=</span> <a href="http://php.net/json_encode"><span style="color: #990000;">json_encode</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aProducts</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
 
<p>Then use the same JavaScript code as above, to unserialize the JSON string and populate the "selectProduct" dropdown box.</p>
<h3><span id="Saving_Lists_of_Dropdown_Options">Saving Lists of Dropdown Options</span></h3>
<p>If using a SQL query to populate the list of options in a dropdown box, keep in mind that the options will change as the contents of the database changes. Likewise, dropdown boxes which are dynamically populated with JavaScript based upon users' input will also change their contents. If a subsequent DynaForm or trigger will need to have access to exactly the same list of options, then use JavaScript to store the list of options to a hidden field which will be saved as a case variable when the DynaForm is submitted. The list of options can either be saved as a serialized <a  href="http://www.json.org/">JSON</a> string or as a string formatted like PHP's <a  href="http://php.net/manual/en/function.serialize.php">serialize()</a> function.</p>
<h4><span id="Saving_Dropdown_options_as_a_JSON_string">Saving Dropdown options as a JSON string</span></h4>
<p>When the DynaForm is submitted, the following JavaScript code converts the dropdown's <tt>options</tt> array into a JSON string and stores it in a hidden field named "sOptions":</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">function</span> saveDropdownOptions<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'sOptions'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span> <span style="color: #339933;">=</span> JSON.<span style="color: #660066;">stringify</span><span style="color: #009900;">&#40;</span>getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'MyDropdown'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">options</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'MySubmitButton'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">form</span>.<span style="color: #660066;">onsubmit</span> <span style="color: #339933;">=</span> saveDropdownOptions<span style="color: #339933;">;</span></div></div>
 
<p style="margin-left:25px"><strong><font color="green">Note:</font></strong><font color="dimgray"> The <tt>JSON.stringify()</tt> function is available in FireFox 3.5+ and Internet Explorer 8+, but the <a  href="http://github.com/douglascrockford/JSON-js/blob/master/json2.js">json2.js</a> code file will have to be <a href="../index.php/JavaScript_in_DynaForms.html#Importing_external_JavaScript_files" title="JavaScript in DynaForms">imported</a> if using older web browsers.</font></p>
<p>Then, the following trigger is fired later in the process to convert the JSON string back into an array of objects. Then, loop through the array and construct an associative array of associative arrays, which can queried with an SQL SELECT statement to populate a subsequent dropdown box:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$aOptions</span> <span style="color: #339933;">=</span> <a href="http://php.net/json_decode"><span style="color: #990000;">json_decode</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>sOptions<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aNewOptions</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aOptions</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$total</span> <span style="color: #339933;">=</span> <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$i</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">0</span><span style="color: #339933;">;</span> <span style="color: #000088;">$i</span> <span style="color: #339933;">&lt;</span> <span style="color: #000088;">$total</span><span style="color: #339933;">;</span> <span style="color: #000088;">$i</span><span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$aNewOptions</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$i</span> <span style="color: #339933;">+</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'VALUE'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$aOptions</span><span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span><span style="color: #339933;">.</span>value<span style="color: #339933;">,</span> <span style="color: #0000ff;">'LABEL'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$aOptions</span><span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span><span style="color: #339933;">.</span>text<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #000000; font-weight: bold;">global</span> <span style="color: #000088;">$_DBArray</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$_DBArray</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'OPTIONS_LIST'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$aNewOptions</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$_SESSION</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'_DBArray'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$_DBArray</span><span style="color: #339933;">;</span></div></div>
 
<p>Finally, a subsequent DynaForm uses the following SQL query to populate its list of options in a dropdown box:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> <span style="color: #993333; font-weight: bold;">VALUE</span><span style="color: #66cc66;">,</span> LABEL <span style="color: #993333; font-weight: bold;">FROM</span> OPTIONS_LIST</div></div>

<h4><span id="Saving_Dropdown_Options_as_a_serialize.28.29_string">Saving Dropdown Options as a serialize() string</span></h4>
<p>The following JavaScript code saves the list of options as a serialized 2 dimensional array which can be decoded with PHP's <a  href="http://php.net/manual/en/function.unserialize.php">unserialize()</a> function. The serialized string is stored in a hidden field when the DynaForm is submitted. The code loops through the options and saves each option in a serialized inner array with the <i>value</i> and <i>label</i> and then sticks that array inside a serialized outer array:</p>
<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #006600; font-style: italic;">// function to create serialized two dimensional array in following format:</span><br />
<span style="color: #006600; font-style: italic;">// a:2:{i:0;a:2:{i:0;s:6:&quot;value0&quot;;i:1;s:6:&quot;label0&quot;;}i:1;a:2:{i:0;s:6:&quot;value1&quot;;s:6:&quot;label1&quot;;}}</span><br />
<span style="color: #000066; font-weight: bold;">function</span> saveDropdownOptions<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">var</span> nOpts <span style="color: #339933;">=</span> getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'MyDropdown'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">length</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">var</span> sOpts <span style="color: #339933;">=</span> <span style="color: #3366CC;">&quot;a:&quot;</span> <span style="color: #339933;">+</span> nOpts <span style="color: #339933;">+</span> <span style="color: #3366CC;">&quot;:{&quot;</span><span style="color: #339933;">;</span> &nbsp;<span style="color: #006600; font-style: italic;">//start a serialized 2 dimensional array </span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">var</span> i <span style="color: #339933;">=</span> <span style="color: #CC0000;">0</span><span style="color: #339933;">,</span> <span style="color: #000066; font-weight: bold;">var</span> value<span style="color: #339933;">,</span> <span style="color: #000066; font-weight: bold;">var</span> label<span style="color: #339933;">;</span> i <span style="color: #339933;">&lt;</span> nOpts<span style="color: #339933;">;</span> i<span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; value <span style="color: #339933;">=</span> getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'MyDropdown'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">options</span><span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span>.<span style="color: #660066;">value</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; label <span style="color: #339933;">=</span> getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;MyDropdown&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">options</span><span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span>.<span style="color: #660066;">text</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; sOpts <span style="color: #339933;">+=</span> <span style="color: #3366CC;">&quot;i:&quot;</span> <span style="color: #339933;">+</span> i <span style="color: #339933;">+</span> <span style="color: #3366CC;">&quot;;a:2:{&quot;</span><span style="color: #339933;">;</span> &nbsp;<span style="color: #006600; font-style: italic;">//start inner array of two elements</span><br />
&nbsp; &nbsp; &nbsp; sOpts <span style="color: #339933;">+=</span> <span style="color: #3366CC;">&quot;i:0;s:&quot;</span> <span style="color: #339933;">+</span> value.<span style="color: #660066;">length</span> <span style="color: #339933;">+</span> <span style="color: #3366CC;">':&quot;'</span> <span style="color: #339933;">+</span> value <span style="color: #339933;">+</span> <span style="color: #3366CC;">'&quot;;&quot;'</span><span style="color: #339933;">;</span> <span style="color: #006600; font-style: italic;">//add value element</span><br />
&nbsp; &nbsp; &nbsp; sOpts <span style="color: #339933;">+=</span> <span style="color: #3366CC;">&quot;i:1;s:&quot;</span> <span style="color: #339933;">+</span> value.<span style="color: #660066;">length</span> <span style="color: #339933;">+</span> <span style="color: #3366CC;">':&quot;'</span> <span style="color: #339933;">+</span> value <span style="color: #339933;">+</span> <span style="color: #3366CC;">'&quot;;&quot;'</span><span style="color: #339933;">;</span> <span style="color: #006600; font-style: italic;">//add label element</span><br />
&nbsp; &nbsp; &nbsp; sOpts <span style="color: #339933;">+=</span> <span style="color: #3366CC;">&quot;}&quot;</span><span style="color: #339933;">;</span> &nbsp;<span style="color: #006600; font-style: italic;">//close array inner array</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp;sOpts <span style="color: #339933;">+=</span> <span style="color: #3366CC;">&quot;}&quot;</span><span style="color: #339933;">;</span> <span style="color: #006600; font-style: italic;">//close outer array</span><br />
&nbsp; &nbsp;getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'MyHidden'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span> <span style="color: #339933;">=</span> aOpts<span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'MySubmitButton'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">onclick</span> <span style="color: #339933;">=</span> saveDropdownOptions<span style="color: #339933;">;</span></div></div>
 
<p>A subsequent trigger will be able to access the list of options by <a  href="http://php.net/manual/en/function.unserialize.php">unserializing</a> it. For example, the following trigger code would place the options in a case variable named @@MyTextArea so it can be displayed in a textarea field a subsequent DynaForm:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$arrayOptions</span> <span style="color: #339933;">=</span> <a href="http://php.net/unserialize"><span style="color: #990000;">unserialize</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>MyHidden<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>MyTextArea <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;&quot;</span><span style="color: #339933;">;</span> <br />
<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$arrayOptions</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$option</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$value</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$option</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$label</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$option</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #339933;">@@</span>MyTextArea <span style="color: #339933;">.=</span> &nbsp;<span style="color: #0000ff;">&quot;<span style="color: #006699; font-weight: bold;">$value</span>: <span style="color: #006699; font-weight: bold;">$label</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>
 
<h2><img src="../sites/default/files/DynaFormYesno.gif"><span id="YesNo">YesNo</span></h2>
<p>Yes/No dropdown boxes are designed to present a binary option to the user. Unlike a checkbox, the values in a Yes/No dropdown box can not be customized and are always "Yes" or "No. Checkboxes are more convenient for the user, since they involve a simple click, rather than a click and hold, select and release action. However, Yes/No dropdown boxes can be useful when the words "Yes" or "No" need to be displayed or when presenting a binary option in grid forms, where checkboxes do not function.</p>
<p><strong>Properties</strong></p>
<ul>
<li><a href="../index.php/2.0/Common_Field_Properties.html#Field_Name" title="2.0/Common Field Properties">Field Name</a><font color="red"> *Required</font></li><li><a href="../index.php/2.0/Common_Field_Properties.html#Label" title="2.0/Common Field Properties">Label</a></li>
</ul>
<p><strong>Behavior</strong></p>
<ul>
<li><a href="../index.php/2.0/Common_Field_Properties.html#Required" title="2.0/Common Field Properties">Required</a></li>
<li><a href="../index.php/2.0/Common_Field_Properties.html#Read_Only" title="2.0/Common Field Properties">Read Only</a></li>
<li><a href="../index.php/2.0/Common_Field_Properties.html#Default_Value" title="2.0/Common Field Properties">Default Value</a></li>
</ul>
<p><strong>Appearance</strong></p>
<ul><li><a href="../index.php/2.0/Common_Field_Properties.html#Mode" title="2.0/Common Field Properties">Mode</a></li></ul>
<h3><span id="Accessing_Yes.2FNo_Boxes_with_JavaScript">Accessing Yes/No Boxes with JavaScript</span></h3>
<p>Yes/No boxes can be accessed with JavaScript <a href="74.html#Accessing_Dropdowns_with_JavaScript">just like dropdown boxes</a>. They have just two options:</p>
<dl><dd><i>value</i>: <strong>"0"</strong> <i>label</i>: <strong>"NO"</strong></dd><dd><i>value</i>: <strong>"1"</strong> <i>label</i>: <strong>"YES"</strong></dd></dl>
<p>To set a Yes/No box to "YES":</p>
<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;">getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;myYesNo&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span> <span style="color: #339933;">==</span> <span style="color: #3366CC;">&quot;1&quot;</span><span style="color: #009900;">&#41;</span></div></div>

<p>To set a Yes/No box to "NO":</p>
<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #009900;">&#40;</span>getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;myYesNo&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span> <span style="color: #339933;">==</span> <span style="color: #3366CC;">&quot;0&quot;</span><span style="color: #009900;">&#41;</span></div></div>

<p>To check if a Yes/No box has selected the "YES" option:</p>
<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;myYesNo&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span> <span style="color: #339933;">==</span> <span style="color: #3366CC;">&quot;1&quot;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #006600; font-style: italic;">//do something</span></div></div>

<p>To check if a Yes/No box has selected the "NO" option:</p>
<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;myYesNo&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span> <span style="color: #339933;">==</span> <span style="color: #3366CC;">&quot;0&quot;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #006600; font-style: italic;">//do something</span></div></div>
	
<p>To change the label of the "YES" option in a Yes/No box to "Approved":</p>
<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;">getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;myYesNo&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">options</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #009900;">&#93;</span>.<span style="color: #660066;">text</span> <span style="color: #339933;">==</span> <span style="color: #3366CC;">&quot;Approved&quot;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="Accessing_Yes.2FNo_Boxes_with_PHP">Accessing Yes/No Boxes with PHP</span></h3>
<p>The value of Yes/No boxes is stored as 1 for "Yes" and 0 for "No". If using a Yes/No as a case variable in a condition, check for "Yes" with:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@@</span>MyYesNo <span style="color: #339933;">==</span> <span style="color: #0000ff;">'1'</span></div></div>

<p>Or:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@%</span>MyYesNo <span style="color: #339933;">==</span> <span style="color: #cc66cc;">1</span></div></div>

<p>And check for "No" with:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@@</span>MyYesNo <span style="color: #339933;">==</span> <span style="color: #0000ff;">'0'</span></div></div>

<p>Or:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@%</span>MyYesNo <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span></div></div>

<h2><img alt="" height="23" src="../sites/default/files/DynaFormListbox.gif"><span id="Listbox">Listbox</span></h2>
<p>Listboxes allow one or more options to be selected from a list of options.</p>
<p>Listboxes are more convenient to use than dropdown boxes, since they do not require clicking and holding down on the mouse to see the list of available options. Their disadvantage is that listboxes occupy more space than dropdown boxes and can not be included in grid forms, since they do not fit well in rows in a table.</p>
<p><strong>Properties</strong></p>
<ul><li><a href="../index.php/2.0/Common_Field_Properties.html#Field_Name" title="2.0/Common Field Properties">Field Name</a><font color="red"> *Required</font></li><li><a href="../index.php/2.0/Common_Field_Properties.html#Label" title="2.0/Common Field Properties">Label</a></li></ul>
<p><strong>Behavior</strong></p>
<ul><li><a href="../index.php/2.0/Common_Field_Properties.html#Required" title="2.0/Common Field Properties">Required</a></li><li><a href="../index.php/2.0/Common_Field_Properties.html#Default_Value" title="2.0/Common Field Properties">Default Value</a></li></ul>
<p><strong>Appearance</strong></p>
<ul><li><a href="../index.php/2.0/Common_Field_Properties.html#Size" title="2.0/Common Field Properties">Size</a></li><li><a href="../index.php/2.0/Common_Field_Properties.html#Mode" title="2.0/Common Field Properties">Mode</a></li></ul>
<p><strong>Data</strong></p>
<ul>
<li><a href="../index.php/2.0/Common_Field_Properties.html#Sql_Connection" title="2.0/Common Field Properties">Sql Connection</a></li><li><a href="../index.php/2.0/Common_Field_Properties.html#Sql" title="2.0/Common Field Properties">Sql</a></li>
</ul>
<p><strong><a href="../index.php/2.0/Common_Field_Properties.html#Option" title="2.0/Common Field Properties">Options</a></strong></p>
<p>Unlike dropdown boxes, listboxes allow for a variable number of options to be selected. If there are more options than can be displayed at a time, vertical scrollbars will automatically appear to allow the user to scroll to the other options. To select an option, click on it with the mouse. Use the UP and LEFT arrow keys to select the previous option in the list or the DOWN and RIGHT arrow key to select the next option in the list. PAGEUP and PAGEDOWN will select an option which is located one screen up or down in the list. CTRL+HOME will select the first option in the list, while CTRL+END will select the last option.</p>

<p>Multiple options can be selected by holding down on the CONTROL key while clicking options with the mouse or pressing one of the keys listed above. Likewise, hold down on the CONTROL key while clicking the mouse or pressing a key to unselect a previously selected option. To select all the options between the previously selected option and current option, hold down on the SHIFT key while clicking the mouse or pressing a key.</p>
<p>The <strong>Size</strong> property in listboxes determines their height in lines, which is set to 4 by default. Their width is automatically set to the widest option in the list.</p>
<p>Like dropdown boxes, each option in listboxes have both a <i>value</i>, which is what is stored when a user selects an option and the label, which is the text displayed to the user. Listboxes can have its list of options defined in its XML definition. In addition, it can append extra options to the list with an SQL SELECT statement.</p>

<h3><span id="Accessing_Listboxes_with_JavaScript">Accessing Listboxes with JavaScript</span></h3>
<p>Listboxes can be accessed through JavaScript in the same way that <a href="74.html#Accessing_Dropdowns_with_JavaScript">dropdown boxes are accessed</a>. <strong>getField("<i><strong>listbox-name</strong></i>").value</strong> only stores the <i>first</i> selected option in a listbox. Therefore it is necessary to loop through all the options to find <i>all</i> the selected options for a listbox. For instance, to create an array of all the selected options in MyListbox:</p>
<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">var</span> nOpts <span style="color: #339933;">=</span> getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'MyListbox'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">options</span>.<span style="color: #660066;">length</span><span style="color: #339933;">;</span><br />
<span style="color: #000066; font-weight: bold;">var</span> selectedOpts <span style="color: #339933;">=</span> <span style="color: #000066; font-weight: bold;">new</span> <span style="">Array</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <br />
<span style="color: #000066; font-weight: bold;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">var</span> i <span style="color: #339933;">=</span> <span style="color: #CC0000;">0</span><span style="color: #339933;">;</span> i <span style="color: #339933;">&lt;</span> nOpts<span style="color: #339933;">;</span> i<span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'MyListbox'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">options</span><span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span>.<span style="color: #660066;">selected</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; selectedOpts.<span style="color: #660066;">push</span><span style="color: #009900;">&#40;</span>getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'MyListbox'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">options</span><span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span>.<span style="color: #660066;">value</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>
 
<h3><span id="Accessing_Listboxes_with_PHP">Accessing Listboxes with PHP</span></h3>
<p>When a DynaForm is submitted, the values of the option(s) selected in a listbox are stored in a string in a case variable with the same name as the listbox. If multiple options are selected, the values are separated by '|' (pipes). To find out whether a particular option was selected, break the string of selected values into an array with the <a  href="http://php.net/manual/en/function.explode.php">explode()</a> function, then use the <a  href="http://php.net/manual/en/function.array-search.php">array_search()</a> or <a  href="http://php.net/manual/en/function.in-array.php">in_array()</a> functions to check if the option's value is in the array. If no option is selected in a listbox, the case variable will not be created.</p>
<p>For example, the "selectManagers" listbox is used to select which managers should review a report. The following trigger code sets the <strong>@@districtManagerReview</strong> and <strong>@@ceoReview</strong> cases variables which are used in subsequent conditions in a parallel fork routing rule. Here is how to check for the values selected in a listbox named "MyList" with trigger code:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@@</span>districtManagerReview <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;no&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>ceoReview <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;no&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;"># Check if something was selected in the listbox:<br />
</span><span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>selectManagers<span style="color: #009900;">&#41;</span> and <a href="http://php.net/is_string"><span style="color: #990000;">is_string</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>selectMangers<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> &nbsp; <br />
&nbsp; &nbsp;<span style="color: #666666; font-style: italic;"># break the string into an array, each element containing a selected option: <br />
</span> &nbsp; <span style="color: #000088;">$aManagers</span> <span style="color: #339933;">=</span> <a href="http://php.net/explode"><span style="color: #990000;">explode</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'|'</span><span style="color: #339933;">,</span> <span style="color: #339933;">@@</span>selectManagers<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> &nbsp; &nbsp; <br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/in_array"><span style="color: #990000;">in_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;district_manager&quot;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aManagers</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #339933;">@@</span>districtManagerReview <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;yes&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/in_array"><span style="color: #990000;">in_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;ceo&quot;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aManagers</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #339933;">@@</span>ceoReview <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;yes&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h4><span id="Manually_Populating_Listboxes">Manually Populating Listboxes</span></h4>
<p>The options in a listbox can be populated in the <a href="74.html#Manually_Populating_Dropdowns">same way as dropdown boxes</a> by either adding an associative array of associative arrays to <strong>$_DBArray</strong> and then querying that array with SQL or by passing a JSON string of options to the DynaForm and using JavaScript to add the options to the listbox.</p>

<h4><span id="Preselecting_Options_in_Listboxes">Preselecting Options in Listboxes</span></h4>
<p>To set which options will be selected in a listbox, fire a trigger beforehand which will create a string with each option's <i>value</i> separated by '|' (pipes). If only one option is selected, then no '|' (pipes) are needed.</p>
<p>For example, to preselect the options "ceo", "district_manager" and "local_manager" in the "selectManagers" listbox:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@@</span>selectManagers <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;ceo|district_manager|local_manager&quot;</span><span style="color: #339933;">;</span></div></div>

<p>The list of options in a listbox can be populated with a database query defined in the <a href="74.html#Sql_Connection">Sql Connection</a> and <a href="74.html#Sql">Sql</a> properties for the listbox, however these properties do not allow for the preselection of options in the listbox. To use a database query to preselect options in a listbox, create a trigger which fires before the DynaForm to set the value of the case variable for the listbox.</p>
<p>For example, the "selectTeamMembers" listbox has its list of employees populated with the following SQL query in the <strong><tt>wf_<workspace>.USERS</workspace></tt></strong> table:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> USR_UID<span style="color: #66cc66;">,</span> CONCAT<span style="color: #66cc66;">&#40;</span>USR_FIRSTNAME<span style="color: #66cc66;">,</span> <span style="color: #ff0000;">' '</span><span style="color: #66cc66;">,</span> USR_LASTNAME<span style="color: #66cc66;">,</span> <span style="color: #ff0000;">' ('</span><span style="color: #66cc66;">,</span> USR_USERNAME<span style="color: #66cc66;">,</span> <span style="color: #ff0000;">')'</span><span style="color: #66cc66;">&#41;</span> <span style="color: #993333; font-weight: bold;">FROM</span> USERS</div></div>

<p>The following trigger preselects the 3 users with the fewest cases with "TO_DO" status to automatically be in the team:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@@</span>selectTeamMembers <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;SELECT AD.USR_UID, COUNT(AD.USR_UID) AS NUM_CASES <br />
&nbsp; &nbsp;FROM APP_DELEGATION AD, APPLICATION A <br />
&nbsp; &nbsp;WHERE A.APP_STATUS = 'TO_DO' AND A.APP_UID = AD.APP_UID<br />
&nbsp; &nbsp;ORDER BY NUM_CASES&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$users</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$users</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$users</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$i</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">;</span> <span style="color: #000088;">$i</span> <span style="color: #339933;">&lt;=</span> <span style="color: #cc66cc;">3</span> and <span style="color: #000088;">$cnt</span> <span style="color: #339933;">&lt;=</span> <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$users</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #000088;">$i</span><span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #339933;">@@</span>selectTeamMembers <span style="color: #339933;">+=</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/empty"><span style="color: #990000;">empty</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>selectTeamMembers<span style="color: #009900;">&#41;</span> ? <span style="color: #0000ff;">''</span> <span style="color: #339933;">:</span> <span style="color: #0000ff;">'|'</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$users</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$i</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'USR_UID'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span></div></div></div></div></div>  </div>

      <footer>
          </footer>
  
    </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
      </section>
    </div>
  
      
    </div>

      
</div>

 <!---add diego--->
  <div id="download-app-section" class="download-app mobile-none">
			<div class="row">
				<div class="col-md-12">
					<div class="text_app">Download our app</div>
							<a href="https://itunes.apple.com/us/app/processmaker/id992576284?ls=1&mt=8" target="_blank">
								<img src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/images/appstore.png">
							<a href="https://play.google.com/store/apps/details?id=com.colosa.processmaker" target="_blank">
								<img src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/images/playstore.png">				
				</div>
			</div>
  </div>
  <!---end diego--->
<!----add diego----->    
		<div class="logo_processmaker"><a href="http://www.processmaker.com">
		<img src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/images/logo_processmaker.png"></div>
<!----end diego----->
<div id="footer">
  <div id="footer_wrapper">
      </div>

  <div class="social-media-wrapper">
         <div id="social-media-icons">
       <ul>
       	<div class="text_contact">Contact us</div>
				<div class="text_number">+1-617-340-3377</div>
        <!--<li><a class="rss" href="/rss.xml">rss</a></li> <!--edit diego-->
        <li><a class="facebook" href="http://facebook.com/processmaker/" target="_blank" rel="me">facebook</a></li>
        <li><a class="twitter" href="https://twitter.com/processmaker" target="_blank" rel="me">twitter</a></li>
        <li><a class="gplus" href="https://www.google.com/+ProcessMakerOpenSource" target="_blank" rel="me">Gplus</a></li>
        <li><a class="linkedin" href="https://www.linkedin.com/groups?mostRecent=&gid=3970335&trk=my_groups-tile-flipgrp" target="_blank" rel="me">Linked in</a></li>
        <!--<li><a class="dribbble" href="http://dribbble.com" target="_blank" rel="me">Dribbble</a></li>
        <li><a class="vimeo" href="http://vimeo.com" target="_blank" rel="me">Vimeo</a></li>-->
        <li><a class="youtube" href="https://www.youtube.com/user/processmaker" target="_blank" rel="me">Youtube</a></li>
       </ul>
      </div>
      </div>
  
  <div class="footer_credit">
    <div class="footer_inner_credit">
           <div id="foot"><div class="region region-footer">
  <div id="block-block-2" class="block block-block">

      
  <div class="content">
    <p><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF">Automate your Workflow with Business Process Management<br>Software licensed under the <a 1px="" class="external text" href="http://www.gnu.org/licenses/agpl.html" rel="nofollow" style="padding-right: 13px; color:white;">GNU Affero General Public License version 3</a><br>Contact us:&nbsp;<a class="external free" href="mailto:community@processmaker.com" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">community@processmaker.com</a><br><a class="external free" href="https://www.processmaker.com/privacy-statement" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">Privacy Statement</a></font><br><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF"> Copyright 2000-2024 ProcessMaker Inc. All rights reserved.</font></p>
  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
</div>
         
   <!-- <div id="copyright">
      <p class="copyright">Copyright &copy; 2024, Documentation@ProcessMaker </p>
      <!--<p class="credits"> Developed by  <a href="http://www.zymphonies.com">Zymphonies</a></p>
      <div class="clear"></div>
    </div>-->
  </div>
  
  </div>
</div>

</div>

<script type="text/javascript">
  /* <![CDATA[ */
  document.write (
    '<img src="https://marketing.processmaker.com/acton/bn/3812/visitor.gif?ts='+ new Date().getTime()+ '&ref='+escape(document.referrer) + '">'
  );
  /* ]]> */
</script>
  
</div>
    <style>
    .center-div{
        width: 100%;        
        margin: 0 auto;
        z-index:10000;
        position:fixed;
        bottom: 0px;
        cursor:pointer;
    }
    .round-popup{
        margin:0 auto;
        font-family: 'Montserrat', sans-serif;
        font-size: 15px;
        font-weight: lighter;
        width: 412px;
        height: 50px;
        padding-top: 7px;
        text-align: center;
        position:relative;
    }
    .round-popup-button{
        position:absolute;
        top: 11px;
        right: 15px;
        background: transparent;
        border:none;
        font-size:15px;
        font-weight:normal;
        line-height:20px;
        width:20px;
        height:20px;
        padding:0;
    }
    .round-background-blue{
        background: url('http://www.processmaker.com/uploads/blue.png')no-repeat;
        color:white;
        
    }
    #box-pm31-button-blue{
        color: rgba(255, 255, 255, 0.5);
    }
    
    #box-pm31-button-blue:active,#box-pm31-button-blue:focus{
        border:none;
        outline:none;
    }
    .round-background-blue a{
        color: white!important;
        text-decoration: none;
        font-size: 15px;
        line-height:45px;
        font-family:Montserrat, sans-serif;
    }
    .round-background-blue span{
        font-weight: bold;
    }
    /*WHITE background*/
    .round-background-white{
        background: url('http://www.processmaker.com/uploads/white.png')no-repeat;
        background-position-x: -9px;        
        color: #3397E1;
    }
    .round-background-white a:hover{
        color: #3397E1!important;
        text-decoration: none;
        font-size: 15px;
    }
    #box-pm31-button-white{
        color: rgba(51, 151, 225, 0.7);
    }
</style>
    <div id="box-pm31" class="center-div" style="display:none;">
        <div class="round-popup round-background-blue">
            <a onclick="ga('send', 'event', 'WikiBlueBanner','click','PM31Release');" href="http://www.processmaker.com/download-processmaker-landing-page">
                <span>ProcessMaker 3.1</span> is Here! Download Now <span style="font-size:20px;font-weigth:normal;"></span>
            </a>
            <button id="box-pm31-button-blue" class="round-popup-button">&times;</button>
        </div>
    </div>
    <script>

function pmCreateCookie(name,value,days) {
    if (days) {
        var date = new Date();
        date.setTime(date.getTime()+(days*24*60*60*1000));
        var expires = "; expires="+date.toGMTString();
    }
    else var expires = "";
    document.cookie = name+"="+value+expires+"; path=/";
}

function pmReadCookie(name) {
    var nameEQ = name + "=";
    var ca = document.cookie.split(';');
    for(var i=0;i < ca.length;i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
    }
    return null;
}

function pmEraseCookie(name) {
    createCookie(name,"",-1);
}



     jQuery(document).ready(function( $ ) {
        $('#box-pm31-button-blue').click(function(e){
                e.stopPropagation();
                $('#box-pm31').slideUp('fast');
                pmCreateCookie('ppcookie','val',10);
            });
        });
        jQuery(window).load(function() {
            if(pmReadCookie('ppcookie') !== 'val'){
                //jQuery('#box-pm31').delay( 2000 ).slideDown('slow');
            }
        });
    </script>
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">

<script type="text/javascript">
  (function() {
    window._pa = window._pa || {};
    // _pa.orderId = "myOrderId"; // OPTIONAL: attach unique conversion identifier to conversions
    // _pa.revenue = "19.99"; // OPTIONAL: attach dynamic purchase values to conversions
    // _pa.productId = "myProductId"; // OPTIONAL: Include product ID for use with dynamic ads
    var pa = document.createElement('script'); pa.type = 'text/javascript'; pa.async = true;
    pa.src = ('https:' == document.location.protocol ? 'https:' : 'http:') + "//tag.marinsm.com/serve/586a7ec3a2ae6b728400003d.js";
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(pa, s);
  })();
</script>

</body>
</html>
