<!DOCTYPE html>
<head>
<meta charset="utf-8" />
<meta name="keywords" content="BPM, business process management, workflow, processmaker, business, BPM Windows, BPM Linux, wiki, BPM documentation, BPM FAQ, task documentation, BPM PHP, BPM Open Source, BPM Variables, BPM Installation, BPM Programming, BPM Elements, BPM Concepts, BPM Frequently Asked Questions, BPM 3.0, BPM News, Release notes, DynaForms, BPM Community, BPM Enterprise, BPM Mobile, BPM Responsive Web Design, User Manual, BPM Resources" />
<link rel="alternate" hreflang="en" href="../index.html" />
<link rel="shortcut icon" href="https://wiki.processmaker.com/themes/thecompany_responsive_theme/favicon.ico" type="image/vnd.microsoft.icon" />
<meta name="description" content="ProcessMaker is commercial open source workflow and business process management software." />
<meta name="viewport" content="width=device-width" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="../3.0/Database_Connections.html" />
<link rel="shortlink" href="56.html" />
<title>3.0 - 3.1 - Database Connections | Documentation@ProcessMaker</title>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/modules/system/system.base.css?s743n7");
@import url("https://wiki.processmaker.com/modules/system/system.menus.css?s743n7");
@import url("https://wiki.processmaker.com/modules/system/system.messages.css?s743n7");
@import url("https://wiki.processmaker.com/modules/system/system.theme.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/modules/aggregator/aggregator.css?s743n7");
@import url("https://wiki.processmaker.com/modules/comment/comment.css?s743n7");
@import url("https://wiki.processmaker.com/modules/field/theme/field.css?s743n7");
@import url("https://wiki.processmaker.com/modules/node/node.css?s743n7");
@import url("https://wiki.processmaker.com/modules/search/search.css?s743n7");
@import url("https://wiki.processmaker.com/modules/toc_filter/toc_filter.css?s743n7");
@import url("https://wiki.processmaker.com/modules/user/user.css?s743n7");
@import url("https://wiki.processmaker.com/modules/views/css/views.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/sites/all/modules/colorbox/styles/default/colorbox_style.css?s743n7");
@import url("https://wiki.processmaker.com/modules/ctools/css/ctools.css?s743n7");
@import url("https://wiki.processmaker.com/sites/all/modules/geshifilter/geshifilter.css?s743n7");
@import url("https://wiki.processmaker.com/modules/panels/css/panels.css?s743n7");
@import url("https://wiki.processmaker.com/modules/nice_menus/css/nice_menus.css?s743n7");
@import url("https://wiki.processmaker.com/modules/nice_menus/css/nice_menus_default.css?s743n7");
@import url("https://wiki.processmaker.com/modules/fivestar/css/fivestar.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/themes/thecompany_responsive_theme/css/style.css?s743n7");
@import url("https://wiki.processmaker.com/themes/thecompany_responsive_theme/css/media.css?s743n7");
</style>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/replace/jquery/1.9/jquery.min.js?v=1.9.1"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/jquery.once.js?v=1.2"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/drupal.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/jquery.bgiframe.js?v=2.1"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/jquery.hoverIntent.js?v=0.5"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/superfish.js?v=1.4.8"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/nice_menus.js?v=1.0"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/replace/ui/external/jquery.cookie.js?v=67fb34f6a866c40d0570"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/replace/misc/jquery.form.min.js?v=2.69"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/ajax.js?v=7.34"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/js/jquery_update.js?v=0.0.1"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/toc_filter/toc_filter.js?s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/colorbox/js/colorbox.js@s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/colorbox/styles/default/colorbox_style.js@s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/google_analytics/googleanalytics.js@s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create", "UA-3380652-1", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");
//--><!]]>
</script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/progress.js?v=7.34"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/fivestar/js/fivestar.ajax.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/fivestar/js/fivestar.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/jquery-1.10.2.min.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/jquery-ui.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/jquery-ui.min.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/custom.js?s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"thecompany_responsive_theme","theme_token":"yR7tXVoMB043vcEFg4z3kPQzlLDntywlznlYL26vmIU","jquery_version":"1.9","js":{"modules\/jquery_update\/replace\/jquery\/1.9\/jquery.min.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"modules\/nice_menus\/js\/jquery.bgiframe.js":1,"modules\/nice_menus\/js\/jquery.hoverIntent.js":1,"modules\/nice_menus\/js\/superfish.js":1,"modules\/nice_menus\/js\/nice_menus.js":1,"modules\/jquery_update\/replace\/ui\/external\/jquery.cookie.js":1,"modules\/jquery_update\/replace\/misc\/jquery.form.min.js":1,"misc\/ajax.js":1,"modules\/jquery_update\/js\/jquery_update.js":1,"modules\/toc_filter\/toc_filter.js":1,"sites\/all\/modules\/colorbox\/js\/colorbox.js":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.js":1,"sites\/all\/modules\/google_analytics\/googleanalytics.js":1,"0":1,"misc\/progress.js":1,"modules\/fivestar\/js\/fivestar.ajax.js":1,"modules\/fivestar\/js\/fivestar.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-1.10.2.min.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.min.js":1,"themes\/thecompany_responsive_theme\/js\/custom.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/aggregator\/aggregator.css":1,"modules\/comment\/comment.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/toc_filter\/toc_filter.css":1,"modules\/user\/user.css":1,"modules\/views\/css\/views.css":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.css":1,"modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/geshifilter\/geshifilter.css":1,"modules\/panels\/css\/panels.css":1,"modules\/nice_menus\/css\/nice_menus.css":1,"modules\/nice_menus\/css\/nice_menus_default.css":1,"modules\/fivestar\/css\/fivestar.css":1,"themes\/thecompany_responsive_theme\/css\/style.css":1,"themes\/thecompany_responsive_theme\/css\/media.css":1}},"colorbox":{"opacity":"0.85","current":"{current} of {total}","previous":"\u00ab Prev","next":"Next \u00bb","close":"Close","maxWidth":"98%","maxHeight":"98%","fixed":true,"mobiledetect":true,"mobiledevicewidth":"480px","specificPagesDefaultValue":"admin*\nimagebrowser*\nimg_assist*\nimce*\nnode\/add\/*\nnode\/*\/edit\nprint\/*\nprintpdf\/*\nsystem\/ajax\nsystem\/ajax\/*"},"toc_filter_smooth_scroll_duration":"","googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip","trackColorbox":1},"nice_menus_options":{"delay":"800","speed":"slow"},"ajax":{"edit-vote--2":{"callback":"fivestar_ajax_submit","event":"change","url":"\/system\/ajax","submit":{"_triggering_element_name":"vote"}}}});
//--><!]]>
</script>
<!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

<!-- Facebook Pixel Code -->
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','//connect.facebook.net/en_US/fbevents.js');
// Insert Your Facebook Pixel ID below.
fbq('init', '735235999992228');
fbq('track', 'PageView');
</script>
<!-- Insert Your Facebook Pixel ID below. -->
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=735235999992228&amp;ev=PageView&amp;noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->

</head>
<body class="html not-front not-logged-in no-sidebars page-node page-node- page-node-56 node-type-community-edition">
    
<div class="wrap">

<div id="header_wrapper">
  <div id="inner_header_wrapper">

    <header id="header" role="banner">
      
      <div class="header_inner_wrapper">
        <div class="header_left">
                      <div id="logo">
              <a href="../index.html" title="Home"><img src="../sites/default/files/full-logo.png"/></a>
            </div>
                    	  <div class="menu_wrapper">
            <nav id="main-menu"  role="navigation">
              <a class="nav-toggle" href="56.html#">Navigation</a>
              <div class="menu-navigation-container">
                <ul class="menu"><li class="first leaf"><a href="../PM_Classic.html" title="Learn how to develop business solutions in ProcessMaker Platform while maintaining your existing ProcessMaker 3 solutions in PM Classic: the perfect bridge between your new and existing solutions with a state-of--the-art BPM platform.">PM Classic</a></li>
<li class="leaf"><a href="http://www.processmaker.com/tutorials" title="">Tutorials</a></li>
<li class="leaf"><a href="../3.1/user_guide.html">User Guide</a></li>
<li class="leaf"><a href="../3.1/developer_info.html">Developer Info</a></li>
<li class="leaf"><a href="../3.2/sys_administration.html">Sys Administration</a></li>
<li class="leaf"><a href="../3.1/resources.html">Helpful Resources</a></li>
<li class="leaf"><a href="../Sitemap.html">Sitemap</a></li>
<li class="last leaf"><a href="https://processmaker.gitbook.io/processmaker/" title="Read ProcessMaker Platform Spring 2023 documentation to learn more about the next generation of BPM.">ProcessMaker Platform</a></li>
</ul>              </div>
              <div class="clear"></div>
            </nav>
          </div>
                  <!--  <h1 id="site-title">
            <a href="/" title="Home">Documentation@ProcessMaker</a>
            <div id="site-description"></div>
          </h1> -->
            
        </div>
      </div>
      <div class="header_right">
          <div class="region region-search">
  <div id="block-search-form" class="block block-search">

        <h2 >_</h2>
    
  <div class="content">
    <form action="56.html" method="post" id="search-block-form" accept-charset="UTF-8"><div><div class="container-inline">
    <div class="form-item form-type-textfield form-item-search-block-form">
  <label class="element-invisible" for="edit-search-block-form--2">Search </label>
 <input title="Enter the terms you wish to search for." placeholder="Search" type="text" id="edit-search-block-form--2" name="search_block_form" value="" size="15" maxlength="128" class="form-text" />
</div>
<div class="form-actions form-wrapper" id="edit-actions"><input type="submit" id="edit-submit" name="op" value="Search" class="form-submit" /></div><input type="hidden" name="form_build_id" value="form-4slMGlndu_EZkG_3-5pwpfmR2Rhi_GZip_CBmbmnSMU" />
<input type="hidden" name="form_id" value="search_block_form" />
</div>
</div></form>  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
                  <h1 class="page-title">3.0 - 3.1 - Database Connections</h1>                <p class="page-title-suffix"></p>
                 <div style="margin-top: 5px;"></div>
      </div>
    </header>
    <div class="region-version">
      <span>Version: </span><ul><li><a href="../3.2/Database_Connections.html" class="">3.8</a></li><li><a href="../3.2/Database_Connections.html" class="">3.7</a></li><li><a href="../3.2/Database_Connections.html" class="">3.6</a></li><li><a href="../3.2/Database_Connections.html" class="">3.5</a></li><li><a href="../3.2/Database_Connections.html" class="">3.4</a></li><li><a href="../3.2/Database_Connections.html" class="">3.3</a></li><li><a href="../3.2/Database_Connections.html" class="">3.2</a></li><li><a  class="active-version">3.1</a></li><li><a  class="active-version">3.0</a></li><li><a href="../index.php/Database_Connections.html" class="">2.x</a></li></ul>    </div>
  </div>
</div>
<!-- <ul class="nice-menu nice-menu-down nice-menu-main-menu" id="nice-menu-0"><li class="menu-506 menu-path-node-1078 first odd "><a href="/PM_Classic" title="Learn how to develop business solutions in ProcessMaker Platform while maintaining your existing ProcessMaker 3 solutions in PM Classic: the perfect bridge between your new and existing solutions with a state-of--the-art BPM platform.">PM Classic</a></li>
<li class="menu-319 menu-path-processmakercom-tutorials  even "><a href="http://www.processmaker.com/tutorials" title="">Tutorials</a></li>
<li class="menu-320 menu-path-node-571  odd "><a href="/3.1/user_guide">User Guide</a></li>
<li class="menu-1138 menu-path-node-572  even "><a href="/3.1/developer_info">Developer Info</a></li>
<li class="menu-1197 menu-path-node-876  odd "><a href="/3.2/sys_administration">Sys Administration</a></li>
<li class="menu-1140 menu-path-node-236  even "><a href="/3.1/resources">Helpful Resources</a></li>
<li class="menu-1141 menu-path-node-554  odd "><a href="/Sitemap">Sitemap</a></li>
<li class="menu-1213 menu-path-sprocessmakergitbookio-processmaker-  even last"><a href="https://processmaker.gitbook.io/processmaker/" title="Read ProcessMaker Platform Spring 2023 documentation to learn more about the next generation of BPM.">ProcessMaker Platform</a></li>
</ul>
-->
  
  <div id="container">
    
    <div class="content-sidebar-wrap">

    <div id="content">

              <!-- <div id="breadcrumbs">
        <h2 class="element-invisible">You are here</h2><div class="breadcrumb"><a href="/">Home</a></div></div> -->
      
      <section id="post-content" role="main">
                                        <div class="region region-content">
  <div id="block-system-main" class="block block-system">

      
  <div class="content">
                          <span property="dc:title" content="3.0 - 3.1 - Database Connections" class="rdf-meta element-hidden"></span>  
      
    
  <div class="content node-community-edition">
    <div class="field field-name-field-how-useful field-type-fivestar field-label-above"><div class="field-label">Please rate how useful you found this document:&nbsp;</div><div class="field-items"><div class="field-item even"><form class="fivestar-widget" action="56.html" method="post" id="fivestar-custom-widget" accept-charset="UTF-8"><div><div  class="clearfix fivestar-average-text fivestar-average-stars fivestar-form-item fivestar-default"><div class="form-item form-type-fivestar form-item-vote">
 <div class="form-item form-type-select form-item-vote">
 <select id="edit-vote--2" name="vote" class="form-select"><option value="-">Select rating</option><option value="20">Give 3.0 - 3.1 - Database Connections 1/5</option><option value="40">Give 3.0 - 3.1 - Database Connections 2/5</option><option value="60" selected="selected">Give 3.0 - 3.1 - Database Connections 3/5</option><option value="80">Give 3.0 - 3.1 - Database Connections 4/5</option><option value="100">Give 3.0 - 3.1 - Database Connections 5/5</option></select>
<div class="description"><div class="fivestar-summary fivestar-summary-average-count"><span class="average-rating">Average: <span >2.5</span></span> <span class="total-votes">(<span >4</span> votes)</span></div></div>
</div>

</div>
</div><input class="fivestar-submit form-submit" type="submit" id="edit-fivestar-submit" name="op" value="Rate" /><input type="hidden" name="form_build_id" value="form-O8eYLB35ZqXSWtSAGE-O3h3B6_q7Pf_8kY0Dei1wOy4" />
<input type="hidden" name="form_id" value="fivestar_custom_widget" />
</div></form></div></div></div><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p><div style="float: right; margin-left: 5px; background-color: #f9f9f9; border: 1px solid #aaaaaa; padding: 5px;"><center><strong>Contents:</strong> [<a href="56.html#" onclick="var el = document.getElementById('toc');
        var txt = ('innerText' in el)? 'innerText' : 'textContent';
        if (el.style.display=='none') { 
           el.style.display = '';
           document.getElementById('hideLabel')[txt] = 'hide';
        }
        else {
	        el.style.display = 'none';
           document.getElementById('hideLabel')[txt] = 'show';
        }"><span id="hideLabel">hide</span></a>]</b></center><div id="toc" ><ol class="toc">
<li class="toc"><a href="56.html#Overview">Overview</a></li>
<li class="toc"><a href="56.html#Prerequisites">Prerequisites</a></li>
<li class="toc"><a href="56.html#Creating_a_New_Database_Connection">Creating a New Database Connection</a></li>
<li class="toc"><a href="56.html#Managing_the_Database_Connections">Managing the Database Connections </a></li>
<li class="toc"><a href="56.html#MySQL">MySQL</a></li>
<li class="toc"><a href="56.html#PostgreSQL">PostgreSQL</a></li>
<ol class="toc">
<li class="toc"><a href="56.html#Windows">Windows</a></li>
<li class="toc"><a href="56.html#GNU.2FLinux_or_UNIX">GNU/Linux or UNIX</a></li>
</ol>
<li class="toc"><a href="56.html#Microsoft_SQL_Server">Microsoft SQL Server</a></li>
<ol class="toc">
<li class="toc"><a href="56.html#MSSQL_Windows">Windows</a></li>
<ol class="toc">
<li class="toc"><a href="56.html#Possible_Configuration_Issues">Possible Configuration Issues</a></li>
<ol class="toc">
<li class="toc"><a href="56.html#Microsoft_SQL_Server_option_is_missing">Microsoft SQL Server Option is Missing</a></li>
<li class="toc"><a href="56.html#Destination_Port_Unreachable">Destination Port Unreachable</a></li>
<li class="toc"><a href="56.html#MS_SQL_Connection_Refused">MS-SQL Connection Refused</a></li>
<li class="toc"><a href="56.html#Database_doesnt_exist">Database Does Not Exist</a></li>
</ol>
</ol>
<li class="toc"><a href="56.html#Linux.2FUNIX">Linux/UNIX</a></li>
<ol class="toc">
<li class="toc"><a href="56.html#Executing_Store_Procedures">Executing store procedures</a></li>
<ol class="toc">
<li class="toc"><a href="56.html#Best_Practices_When_Using_Stored_Procedures">Best Practices When Using Stored Procedures</a></li>
</ol>
<li class="toc"><a href="56.html#If_the_SQL_Server_database_does_not_use_UTF-8_encoding">If the SQL Server Database Does Not Use UTF-8 Encoding</a></li>
<li class="toc"><a href="56.html#Solving_issues_with_UTF-8_characters">Solving Issues with UTF-8 Characters</a></li>
</ol>
<li class="toc"><a href="56.html#Setup_FREETDS_in_Linux.2FUNIX">Setup FREETDS in Linux/UNIX</a></li>
<ol class="toc">
<li class="toc"><a href="56.html#Change_MSSQLResultSet.php">Change MSSQLResultSet.php</a></li>
</ol>
<li class="toc"><a href="56.html#Collation_Database_Configuration">Collation Database Configuration</a></li>
</ol>
<li class="toc"><a href="56.html#Oracle">Oracle</a></li>
<ol class="toc">
<li class="toc"><a href="56.html#Red_Hat.2FCent_OS.2FFedora">CentOS</a></li>
<ol class="toc">
<li class="toc"><a href="56.html#Install_Instant_Client">Install Instant Client</a></li>
<li class="toc"><a href="56.html#Install_PDO_OCI">Install PDO_OCI</a></li>
<li class="toc"><a href="56.html#Install_OCI8">Install OCI8</a></li>
</ol>
<li class="toc"><a href="56.html#Checking_the_Oracle_Installation">Checking the Oracle Installation</a></li>
<li class="toc"><a href="56.html#Oracle_Troubleshooting">Oracle Troubleshooting</a></li>
<li class="toc"><a href="56.html#Converting_UTF_8">Converting Oracle to UTF-8</a></li>
</ol>
<li class="toc"><a href="56.html#Other_Types_of_Databases">Other Types of Databases</a></li>
<ol class="toc">
<li class="toc"><a href="56.html#ODBC">ODBC</a></li>
<ol class="toc">
<li class="toc"><a href="56.html#Installing_ODBC">Installing ODBC</a></li>
<li class="toc"><a href="56.html#Using_ODBC_in_Triggers">Using ODBC in Triggers</a></li>
<li class="toc"><a href="56.html#Populating_a_Textbox">Populating a Textbox</a></li>
<li class="toc"><a href="56.html#Populating_a_Grid">Populating a Grid</a></li>
</ol>
</ol>
<li class="toc"><a href="56.html#Discovering_Ports_and_Debugging">Discovering Ports and Debugging</a></li>
</ol>
</div></div>
</p>

<h2><span id="Overview">Overview</span></h2>

<p>Each ProcessMaker <a href="../3.0/Workspaces.html" title="Workspaces">workspace</a>  uses <a href="../3.2/ProcessMaker_Database_Model.html" title="ProcessMaker Database Model">one MySQL database</a>  to store internal information about processes, user permissions and reports. Nonetheless, ProcessMaker can also be configured to connect to external databases, allowing an organization to integrate ProcessMaker with other DBMS and business applications that utilize databases.</p>

<p>ProcessMaker can establish database connections to MySQL, PostgreSQL, SQL
  Server/Sybase and Oracle database. By default, it is only possible to connect to MySQL databases, but other types of database can be used if the server running ProcessMaker has the client drivers installed and the PHP modules for those databases. See the <a href="56.html#PostgreSQL" title="Database Connections">PostgreSQL</a>, <a href="56.html#Microsoft_SQL_Server" title="Database Connections"> SQL Server/Sybase</a> and <a href="56.html#Oracle" title="Database Connections">Oracle </a> documentation to enable database connections.
</p>

<p>To connect to another type of database, it is possible to use PHP's <a href="http://www.php.net/manual/en/book.uodbc.php">Open Database Connectivity (OBDC)</a>  functions in a trigger to connect to that database. See <a href="56.html#Other_Types_of_Databases" title="Database Connections"> Other Types of Databases</a>.</p>

<p>ProcessMaker automatically detects which database modules for PHP are installed on the server. For example, if the <tt>php-pgsql</tt> module is installed on the ProcessMaker server, ProcessMaker will offer the option to connect to PostgreSQL databases.</p>

<h2><span id="Prerequisites">Prerequisites</span></h2>    
<p>An Internet connection is required to access external databases and to download third-party components not supported by ProcessMaker that you may not have installed.</p>

<h2><strong><span id="Creating_a_New_Database_Connection">Creating a New Database Connection</span> </strong></h2>

<p>To create a new database connection, open the project in which the connection will be used. Then go to right side of the screen and click on the + icon next to the Database Connections option in the Process Objects toolbox.</p>
<p><img alt="" src="../sites/default/files/3.2DatabaseConnectionCreateOption.png"></p>

<p>A dialog box will open where a new database connection can be defined:</p>

<p><img alt="" src="../sites/default/files/3.2DatabaseConnectionWindow.png"
    ></p>

<p>
<ul>
<li><b>Engine</b>: Select the type of database software: MySQL, PostgreSQL, SQL Server or Oracle. Note that ProcessMaker will only offer databases in the dropdown list that have PHP modules installed on the server running ProcessMaker. To use a Sybase database, select <b>SQL Server</b>. To consult one of ProcessMaker's internal databases, select <b>MySQL</b>.</li>

<li><b>Encode</b>: If a MySQL or PostgreSQL database is being used, then this field will appear to select the character encoding used in the external database. To consult one of ProcessMaker's internal databases, select <b>utf8-UTF-8 Unicode</b>.</li>
<li><b>Server</b>: (Required) Enter the IP address or domain name where the database source is installed. If the database is located on the same server as ProcessMaker, then enter: 127.0.0.1</li>
<li><b>Database Name</b>: (Required) Enter the name of the database to be consulted. Database names generally aren't case sensitive.</li>
<li><b>Username:</b>: (Required) Enter the username to log into the external database.</li>
<li><b>Password:</b>: Enter the password (if necessary) to log into the external database.</li>
<li><b>Port</b>: (Required) Enter the port number used by the external database. By default, it is set to 3306 for MySQL, 5432 for PostgreSQL, 1521 for Oracle, and 1433 for SQL Server.</li>
<li><b>Description</b>: Enter a brief description about the database connection.</li>

<p>After filling out the information about the external database connection, click
  on <b>Cancel</b> to close the window without saving the configuration, or click on <b>Test Connection</b> to check if the configuration is correct.</p>

<p>If ProcessMaker succesfully connects to the external database, all testing criteria will be checked. The test results will be displayed in a new window, as seen in the image below.</p>

<p><img alt="" src="../sites/default/files/3.2TestConnectionWindow.png"></p>

<p>Click on <b>Back</b> to return to the previous window. To save the database connection, click on <b>Save</b> and it will be added to the list of existing database
  connections. A flash message will appear at the top of the window indicating
  that the connection was saved successfully.</p>

<p><img alt="" src="../sites/default/files/3.2DatabaseConnectionWindowFlashMessage.png"></p>

<p>If the connection was unsuccessful, the failed criteria will be marked with an X.</p>

<p><img alt="" src="../sites/default/files/3.2TestConnectionFailed.png"></p>

<h2><span id="Managing_the_Database_Connections">Managing the Database Connections </span></h2>

<p>To manage the database connections inside a process, click on the <b>Database
  Connections</b> option inside the Process Objects toolbox.</p>

<p><img alt="" src="../sites/default/files/3.2DatabaseConnectionOption.png"></p>

<p>A dialog box will open with a list of the existing database connections
  and their details:</p>

<p><img alt="" height="195" src="../sites/default/files/DatabaseConnectionsManagementVersion3.png"
    width="706"></p>

<ol>
    <li><p><b>Show ID:</b> Click on this button to display the unique
  ID of the database connection, which is a 32 hexadecimal number used
  by ProcessMaker to identify the connection. This number is needed to use
  the <a href="../3.2/ProcessMaker_Functions.html#executeQuery.28.29" title="ProcessMaker Functions">executeQuery()</a>  function in a trigger.</p>
    <p><img alt="" height="148" src="../sites/default/files/DatabaseConnectionShowIDVersion3.png" width="436"></dd>
    </p>
</li>
    <li><b>Type:</b> Shows the database engine used for the connection.</li>

    <li><b>Server:</b> Shows the IP address or domain name of the
  server where the external database is located.</li>

    <li><b>Database name:</b> Shows the name of the external database.
</li>

    <li><b>Description:</b> Displays the description of the connection
  next to the database name.</li>

    <li><b>Edit:</b> Click to edit the database connection.</li>

    <li><p><b>Delete:</b> Click to delete the connection. A window will
  appear to confirm the deletion. Click <b>Yes</b> to close the window and return to the list of databases. Click <b>No</b> to delete the connection,
      and a flash message confirming the deletion will be shown at the top of the window.</p>
<p><img alt="" height="151" src="../sites/default/files/DatabaseConnectionDeletionMessageWindowVersion3.png" width="438"></p>
</li>

    <li><b>Pagination control:</b> Use this control to navigate through the pages of connections, which show 10 connections per page.</li>

    <li><b>Search field:</b> Enter text into this field to search among the databases connections.
</li>

    <li><b>Create:</b> Click this button to <a href="56.html#Creating_a_New_Database_Connection"> create a new database connection</a>.</li>
</ol>

<h2><span id="MySQL">MySQL</span></h2>

<p>All the necessary modules are already installed to use an external MySQL database, since those same modules are needed to use the internal databases used by ProcessMaker.</p>

<p>By default, MySQL servers are set up to only receive local connections from the localhost. If ProcessMaker is trying to connect to a MySQL server on another machine, then that server will have to be configured to allow external connections. Edit the <tt>my.cnf</tt> file of the MySQL server and comment out the line by adding a <b>#</b> symbol at the beggining of the following line:</p>

<div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;"># bind-address &nbsp;= 127.0.0.1</div></div>

<p>Then <a href="../3.0/Additional_Configuration.html#Restarting_MySQL">restart the MySQL</a> server. To check whether MySQL is listening for external connections, in Windows issue the command:</p>

<div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">netstat -an</div></div>

<p>A line, similar to the one below, will be displayed:</p>

<codeblock>TCP      127.0.0.1:3306       0.0.0.0:0       LISTENING</codeblock>

<p>In Linux/UNIX, use the command:</p>

<div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">netstat -tanp</div></div>

<p>A line, similar to the one below, will be displayed:</p>

<codeblock>tcp      0      0 0.0.0.0:3306       0.0.0.0:*       LISTEN    2270/mysqld</codeblock>

<p>When setting up a database connection to an external MySQL database, the <a href="http://dev.mysql.com/doc/refman/5.0/en/charset-connection.html">character encoding</a> must be selected, such as Latin-1 and UTF-8.</p>

<p><img alt="" src="../sites/default/files/3.2DatabaseConnectionsMySQLEncode.png" ></p>

<p>To find the character encoding used by the MySQL database, log in to MySQL, change to the database and issue the <tt>status</tt> command:</p>

<codeblock><strong>mysql -u root -p</strong>
mysql&gt; <strong>show databases;</strong>
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| example_db         |
+--------------------+
3 rows in set (0.00 sec)

mysql&gt; <strong>use example_db;</strong>
Database changed
mysql&gt; <strong>status;</strong>
--------------
mysql  Ver 14.14 Distrib 5.7.17, for Linux (x86_64) using  EditLine wrapper

Connection id:		470044
Current database:	employees
Current user:		root@172.16.1.34
SSL:			Not in use
Current pager:		stdout
Using outfile:		''
Using delimiter:	;
Server version:		5.7.18-0ubuntu0.16.04.1 (Ubuntu)
Protocol version:	10
Connection:		192.168.51.109 via TCP/IP
Server characterset:	latin1
Db     characterset:	latin1
<b>Client characterset:	utf8</b>
<b>Conn.  characterset:	utf8</b>
TCP port:		3306
Uptime:			38 days 34 min 29 sec

Threads: 7  Questions: 5700832277  Slow queries: 0  Opens: 875509  Flush tables: 1  Open tables: 416  Queries per second avg: 1735.271
--------------
</codeblock>

<p>Look for the <tt>Client characterset</tt> parameter, which is the character set that ProcessMaker will use to send queries to the MySQL database. <tt>Conn. characterset</tt> is the character set that MySQL will used to send information back to ProcessMaker.</p>

<p>In the configuration of ProcessMaker's database connection, set <strong>Encode</strong>  to the character set used by <tt>Client characterset</tt> and <tt>Conn. characterset</tt>.</p>

<p><img alt="" src="../sites/default/files/3.2DatabaseConnectionsMySQLEncodeSet.png" ></p>

<p>ProcessMaker expects the Client and Connection character set to be the same. If they aren't the same, change them to be the same. To change them temporarily, use:</p>

<codeblock>SET NAMES <font color="blue"><i>&lt;character-set&gt;</i></font>;</codeblock>

<p>To change them permanently, add the following lines to my.cnf:</p>

<codeblock>character_set_client = <font color="blue"><i>&lt;character-set&gt;</i></font>
character_set_results = <font color="blue"><i>&lt;character-set&gt;</i></font>
character_set_connection = <font color="blue"><i>&lt;character-set&gt;</i></font>
</codeblock>

<p>Then, <a href="../3.0/Additional_Configuration.html#Restarting_MySQL">restart the MySQL</a> server.</p>

<h2><span id="PostgreSQL">PostgreSQL</span></h2>

<p>For ProcessMaker to connect to a PostgreSQL database that is installed on the same server, the PostgreSQL client software has to be installed. To connect ProcessMaker to SQL Server databases, follow the instructions for your environment:</p>

<ul>
    <li><a href="56.html#Windows">Windows</a></li>
    <li><a href="56.html#GNU.2FLinux_or_UNIX">Linux</a></li>

</ul>

<h3><span id="Windows">Windows</span></h3>

<p>If PostgreSQL is not installed, download the <a href="http://www.postgresql.org/download/windows">PostgreSQL installer for Windows</a> and install it.</p>

<p><img alt="" src="../sites/default/files/3.2DatabaseConnectionPostgreInstall.png"></p>

<p>If the PostgreSQL database is located on a server other than the ProcessMaker server, don't forget to <a  href="http://www.cyberciti.biz/tips/postgres-allow-remote-access-tcp-connection.html">configure PostgreSQL</a> to allow connections from the ProcessMaker server.</p>

<p>Go to the PHP directory that is used by ProcessMaker and verify that the <b><tt>php_pgsql.dll</tt></b> and <b><tt>php_pdo_pgsql.dll</tt></b> libraries are inside the <tt>ext</tt> directory. The location of the PHP directory depends on the way of which ProcessMaker was installed. For example, if the ProcessMaker Windows Installer was used, the PHP files may be found at <tt>C:\Program Files\ProcessMaker\php\ext\</tt>.</p>

<p>Enable these PHP's modules by editing the <tt>php.ini</tt> file with a plain text editor. The php.ini file is located at the same PHP directory.</p>

<p><img alt="" src="../sites/default/files/3.2DatabaseConnectionPostgrePHP.png"></p>

<p>Look for the Windows Extensions section and uncomment the PostgreSQL modules by removing the semicolon (;) from the beginning of the following lines:</p>

<div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">extension=php_pdo_pgsql.dll<br />
extension=php_pgsql.dll</div></div>

<p><img alt="" src="../sites/default/files/3.2DatabaseConnectionPostgreUncommentModules.png"></p>

<p><a href="../3.0/Additional_Configuration.html#Restarting_Apache">Restart the Apache</a> server to use the new PHP configuration.</p>

<p>To verify that PHP is now using the PostgreSQL modules, log in to ProcessMaker, and go to <b>Admin > Settings > PHP Information</b>. Search for the <tt>pdo_mysql</tt> and the <tt>pgsql</tt> extensions, which are usually listed after the <tt>pdo_mysql</tt> module, as shown in the image below.</p>

<p><img alt="" src="../sites/default/files/3.2DatabaseConnectionPostgreModules.png"></p>

<p>Open a process and go to <strong>Database Connections</strong> and click on the <strong>New</strong> button. The PostgreSql option should now be available under the <strong>Engine</strong> dropdown box in the Create Database Connection window.</p>

<p><img alt="" src="../sites/default/files/3.2DatabaseConnectionPostgreWindowOption.png"></p>

<h3><span id="GNU.2FLinux_or_UNIX">GNU/Linux or UNIX</span></h3>

<p>To install the PostgreSQL client and PostgreSQL's PHP module, log in as the root user and use the repositories of your distribution.</p>

<p><b>Red Hat/Cent OS/Fedora:</b></p>
<div style="margin-left: 25px;">

    <div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">yum install php56w-pgsql</div></div>
</div>

<p><strong>Debian/Ubuntu:</strong></p>
<div style="margin-left: 25px;">

    <div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">apt-get install php5.6-pgsql</div></div>
</div>

<p><strong>SUSE/openSUSE:</strong></p>
<div style="margin-left: 25px;">

    <div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">zypper install php5-pgsql</div></div>
</div>

<p>After installing, verify that the <tt>pgsql</tt> and <tt>pdo_pgsql</tt>  modules are enabled in PHP with the command:</p>

<div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">php -m</div></div>

<p>In ProcessMaker open a process, go to <strong>Database Connections</strong>, and click on <strong>New</strong>. PostgreSQL should now be an available option in the <strong>Engine</strong> dropdown box.</p>

<p><img alt="" src="../sites/default/files/3.2DatabaseConnectionPostgreWindow.png"></p>

<h2><span id="Microsoft_SQL_Server">Microsoft SQL Server</span></h2>

<p>To connect ProcessMaker to SQL Server databases, follow the instructions for your environment:</p>

<ul>
    <li><a href="56.html#MSSQL_Windows">Windows</a></li>
    <li><a href="56.html#Linux.2FUNIX">Linux</a></li>

</ul>

<h3><span id="MSSQL_Windows">Windows</span></h3>

<p>To connect ProcessMaker to a remote or local MSSQL installation on a Windows server, follow the steps below:</p>

<p><b>1.</b> Download the <a href="https://docs.moodle.org/27/en/Installing_MSSQL_for_PHP#Using_FreeTDS_on_Windows">php_dblib.dll</a> file taking into account your system's architecture and PHP version. For instance, ProcessMaker 3.1.x (current latest version) is recommended to work with <b>PHP 5.5 Thread Safe</b>. Depending on the system architecture (X86 or x64), download one of the marked options.</p>

<p><img src="../sites/default/files/3.0MSSQLConexDLLDownload.png" /></p>

<p><b>2.</b> Place the <b>php_dblib.dll</b> file into the <tt>/php/ext</tt> directory (depending on the installation) located at:</p>

<p><b>Bitnami Installation:</b></p>
<div style="margin-left: 25px;"><tt>&lt;<a href="../3.0/File_Locations.html#Installation_Directory">INSTALLATION-DIRECTORY</a>&gt;/Bitnami/processmaker-3.0.x/php/ext</tt></div>

<p><img src="../sites/default/files/3.0MSSQLConexDLLPlaced.png" /></p>

<p><b>Self-Installer Installation:</b></p>
<div style="margin-left: 25px;"><tt>&lt;<a href="../3.0/File_Locations.html#Installation_Directory">INSTALLATION-DIRECTORY</a>&gt;/Users/<font color="blue">USERNAME</font>/AppData/Roaming/ProcessMaker-<font color="blue">3_0_X_X</font>/php/ext</tt>
</div>

<p><b>Manual Installation:</b></p>
<div style="margin-left: 25px;"><tt>C:/php/ext</tt>
</div>

<p><b>3.</b>Open the <strong><tt>php.ini</tt></strong> file located at:</p>

<p><b>Bitnami Installation:</b></p>
<div style="margin-left: 25px;"><tt><a href="../3.0/File_Locations.html#Installation_Directory" title="File Locations">&lt;install-directory&gt;</a>/Bitnami/processmaker-3.0.1.8-0/php</tt></div>

<p><b>Self-Installer Installation:</b></p>
<div style="margin-left: 25px;"><tt><a href="../3.0/File_Locations.html#Installation_Directory" title="File Locations">&lt;install-directory&gt;</a>/Users/<font color="blue">USERNAME</font>/AppData/Roaming/ProcessMaker-3_<font color="blue">X_X_X</font>/php</tt></div>

<p><b>Manual Installation:</b></p>
<div style="margin-left: 25px;"><tt>C:/php/ext</tt>
</div>

<p>To enable the <tt>mssql</tt> extension, add the following line under the Dynamic Extensions section:</p>

<div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">extension=php_dblib.dll</div></div>

<p><img src="../sites/default/files/3.0MSSQLConexDLLPlacedPHPINI.png" /></p>

<p>Next, restart the Apache server to use the new PHP configuration. This
    can be done in several ways:</p>

<ol>
    <li>
        <p><b>Using the Microsoft Windows Services console:</b> Open a command
        line (<strong>Start &gt; All Programs &gt; Accessories &gt; Command Prompt</strong>)
        and type:</p>
        <codeblock>services.msc
</codeblock>

<p>The Services console will open. Search for the service <b>processmakerApache</b>        and click on the <b>Restart</b> option.</p>

<p><img src="../sites/default/files/3.0MSSQLConexApacheRestart.png" /></p>

<p>The Service Control will restart the Apache service.</p>

<p><img src="../sites/default/files/3.0MSSQLConexApacheRestartProcess.png"
        /></p>
    </li>

    <li>

        <p><b>Using the <a href="../3.0/Windows_Bitnami_Installer_v.3.0.1.8.html#Bitnami_ProcessMaker_Stack_Manager_Tool">Bitnami ProcessMaker Stack Manager Tool</a>:</b> (Only if ProcessMaker was installed with the Bitnami installer)
        Open the manager tool by going to <strong>Start &gt; All Programs &gt; Bitnami ProcessMaker</strong> and select <b>Bitnami ProcessMaker Stack Manager Tool</b>. Go to
        the <b>Manage Servers</b> tab, select "Apache Web Server" and click
        on the <b>Restart</b> button.</p>

        <p><img src="../sites/default/files/3.0MSSQLConexApacheRestartBitnamiManagerTool.png"
        /></p>
    </li>

    <li>
        <p><b>Using only the Command Prompt:</b> Open a command line (<strong>Start &gt; All Programs &gt; Accessories &gt; Command Prompt</strong>) and go to the Apache directory inside the ProcessMaker folder. For instance, for a Bitnami Installation on the C: disk, the directory will be:</p>

        <codeblock>cd c:\Bitnami\processmaker-3.0.1.8-0\apache2\bin
</codeblock>

        <p>The Apache service created during the ProcessMaker installation is
        named "processmakerApache". Execute the following command
        (that includes the name of the service) to restart the Apache service.</p>
        <codeblock>httpd -n processmakerApache -k restart
</codeblock>
    </li>
</ol>

<p>Finally, log into ProcessMaker and open a process. Then, go to <strong>Database Connections</strong>    and click on the <strong>New</strong> link. The option <b>Microsoft SQL Server</b>    should now be available under the <strong>Engine</strong> dropdown
    box.
  </p>

<p><img src="../sites/default/files/3.0MSSQLConexEngineMSSQL.png" /></p>

<p>Fill the rest of the fields according to the description in the <a href="56.html#Creating_a_New_Database_Connection">Creating a New Database Connection</a>    section.</p>

<p><img src="../sites/default/files/3.0MSSQLConexEngineMSSQLtest.png" /></p>

<p>Finally, click on the <b>Test Connection</b> option. If the configuration is correct, all marks will turn green in the Testing Server Connection dialog.</p>

<p><img src="../sites/default/files/3.0MSSQLConexAllok.png" /></p>

<p>If a problem occurs, see the <a href="56.html#Possible_Configuration_Issues">Possible Configuration Issues</a>    section.</p>
<!--
<span id="Setup_a_UTF-8_Connection_to_a_MSSQL_database">Setup a UTF-8 Connection to a MSSQL database</span><

<p>The following steps <strong>must be followed</strong> to solve problems with characters different from English:</p>
<ul>
<li>As it was mentioned before, download the <a href="http://docs.moodle.org/25/en/Installing_MSSQL_for_PHP#Using_FreeTDS_on_Windows"><tt>php_dblib.dll</tt> freeTDS driver</a> for your version of PHP (ex: here 5.2)</li></ul>
<ul><li>Copy this file inside <tt>php\ext</tt> folder(Eg: C:\ProcessMaker\php\ext)</li></ul>

<p><img alt="" src="/sites/default/files/PM3.0MYSSQLfreeTDS.png"></p>

<ul><li>Open the <tt>php.ini</tt> file</li>
<p><img alt="" src="/sites/default/files/PM3.0MYSSQLfreeTDSphpini.png"></p>

<li>Comment the old <tt>extension=php_mssql.dll</tt> and the new <tt>extension=php_dblib.dll</tt></li></ul>

<p><img alt="" src="/sites/default/files/PM3.0MYSSQLfreeTDSphpinilib.png"></p>

<ul><li>Create a new file named <tt>freetds.conf</tt> under <tt>C:\</tt> (This location can be changed with an Environment Variable).</li></ul>

<dl><dd><ul ><li><i>Optional</i>- To change the default path from <tt>C:\</tt> to a customized path, add the following Environment Variable (don't forget to restart the computer):</li></ul></dd></dl>

<p><strong>Name:</strong> FREETDS</p>
<p><strong>Value:</strong> path (Ex: C:\ProcessMaker\php\ext)</p>
<ul><li>Edit the file with following content (where the host is = the MSSQL server)</li></ul>
<p>[global]</p>
<p>host = xxx.xxx.xxx.xxx</p>
<p>port = 1433</p>
<p><b>tds version = 7.0</b></p>
<p><b>client charset = UTF-8</b></p>
<p>text size = 20971520</p>

<ul><li>Finally, restart <i>APACHE</i> to take into account the new MSSQL extension</li></ul>
<ul><li>Now you will be able to connect and pull Chinese characters from MSSQL.</li></ul>

<p><img alt="" src="/sites/default/files/PM3.0MYSSQLfreeTDSEG.png"></p>

<p style="margin-left:25px"><strong><font color="green">Note:</font></strong> <font color="dimgray">The TDS Version may change according to the version of the database engine with which the server is trying to communicate. For more information, please visit the <a href="http://www.freetds.org/userguide/freetdsconf.htm">freetds guide</a> page.</font></p>-->

<h4><span class="mw-headline" id="Possible_Configuration_Issues">Possible Configuration Issues</span></h4>

<h5><span id="Microsoft_SQL_Server_option_is_missing">Microsoft SQL Server Option is Missing</span></h5>

<p>If for some reason the SQL Server option does not appear in the list of Database Connections, verify that PHP is now using the <tt>mssql</tt> extension. Log into ProcessMaker and select the <b>Admin</b> tab. Click the <b>PHP Information</b> option under Settings, and scroll down to the <b>mssql</b> extension section that is usually between the myhash and mysql sections.</p>

<p><img src="../sites/default/files/3.0MSSQLConexCheckPHPInfo.png" /></p>

<p>If the section is missing, restart the server system to apply the recent
    changes.
  </p>

<h5><span id="Destination_Port_Unreachable">Destination Port Unreachable</span></h5>

<p>If the <b>Test Connection</b> option is clicked, the following dialog will be displayed:</p>

<p><img src="../sites/default/files/3.0MSSQLConexPortUnreachable.png" /></p>

<p>Verify that the MSSQL remote server is allowing remote connections. Open <b>SQL Server Configuration Management</b>, click on <b>SQL Server Configuration Manager</b>, go to <b>Protocols for SQLExpress</b> and make sure <b>TCP/IP</b> is enabled. The TCP/IP option allows other computers to connect with MSSQL through the IP. If not, right click on it and choose <b>Enable</b>.</p>

<p><img src="../sites/default/files/3.0MSSQLConexPortUnreachableTCPIPDisabled.png"
    /></p>

<p>Check that the port is the correct one by right-clicking on <b>TCP/IP</b> and selecting <b>Properties</b>. In the TCP/IP Properties dialog, select the <b>IP Addresses</b> tab and scroll down to <b>IPAII</b>. Make sure TCP Dynamic Ports is blank and that TCP Port is set to 1433.</p>

<p><img src="../sites/default/files/3.0MSSQLConexPortUnreachableTCPIPPort.png"
    /></p>

<p>Last, ensure that the SQL Server is running in the <b>Network Service</b> mode by going to <b>SQL Server Services</b>. Right-click on <b>SQL Server</b> and select <b>Properties</b>.</p>

<p><img src="../sites/default/files/3.0MSSQLConexPortUnreachableNetworkServiceOON.png"
    /></p>

<p>In the properties dialog, check that "Network Service" is selected in the <b>Built-in account</b> option.</p>

<p><img src="../sites/default/files/3.0MSSQLConexPortUnreachableNetworkServiceON.png"
    /></p>

<p>The changes won't take effect until the SQLExpress service is restarted.</p>

<p><img src="../sites/default/files/3.0MSSQLConexPortUnreachableSQLExpressRestart.png"
    /></p>

<p>If there is still a problem, make sure the TCP port 1433 is not blocked
    by the firewall.</p>

<h5><span id="MS_SQL_Connection_Refused">MS-SQL Connection Refused</span></h5>

<p>If the <b>Test Connection</b> option is clicked, the following dialog is displayed:</p>

<p><img src="../sites/default/files/3.0MSSQLConexMSSQLConnectionRefused.png"
    /></p>

<p>Notice that MSSQL has two methods of authentication: Windows Authentication
    and SQL Server Authentication. ProcessMaker uses the <b>SQL Server Authentication</b>    method to establish a connection.</p>

<p>The user must choose the login method. To see the login method for a user, open the <b>SQL Server Management Studio</b>, right-click on <b>Security</b>, select <b>Login</b> and look for the user specified in the connection.</p>

<p><img src="../sites/default/files/3.0MSSQLConexMSSQLConnectionRefusedUsern.png"
    /></p>

<p>Right-click on the user and choose <b>Properties</b>. Verify that the credentials provided are the right ones in the Login Properties dialog.</p>

<p><img src="../sites/default/files/3.0MSSQLConexMSSQLConnectionRefusedUserCre.png"
    /></p>

<p>After that, verify the user settings by going to <b>Status</b>. Check
    that the <b>Permission to connect to database engine</b> option is "Grant" and if <b>Login</b> is "Enabled".</p>

<p><img src="../sites/default/files/3.0MSSQLConexMSSQLConnectionRefusedUserPer.png"
    /></p>

<h5><span id="Database_doesnt_exist">Database Does Not Exist</span></h5>

<p>If the <b>Test Connection</b> option is clicked, the following dialog will be displayed:</p>

<p><img src="../sites/default/files/3.0MSSQLConexDBnotexist.png" /></p>

<p>Verify that the user specified is the owner or has permission to access the database. To verify this, open the <b>SQL Server Management Studio</b>, right-click on the database and choose <b>Properties</b>.</p>

<p><img src="../sites/default/files/3.0MSSQLConexDBnotexistDBPro.png" /></p>

<p>In the Database Properties dialog, check that the specified user is the owner of the database.</p>

<p><img src="../sites/default/files/3.0MSSQLConexDBnotexistDBOwner.png" /></p>

<h3><span id="Linux.2FUNIX">Linux/UNIX</span></h3>

<p>ProcessMaker servers running on Linux/UNIX can access Microsoft SQL Server or Sybase databases by installing <a href="http://www.freetds.org/">FreeTDS</a>. Most distributions provide FreeTDS and a PHP extension for SQL Server or Sybase. If your distribution doesn't provide a package for FreeTDS, see <a href="http://www.freetds.org/userguide/config.htm">these instructions</a> to compile FreeTDS from the source code.</p>

<p><b><span id="RedHat">Red Hat/CentOS/Fedora</span></b></p>
<div style="margin-left: 25px;">
    <p>Install FreeTDS and the <tt>php-mssql</tt> package using <tt>yum:</tt></p>

    <div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">yum install freetds php54w-mssql</div></div>

    <p>Then, edit the <strong><tt>/etc/php.ini</tt></strong> file and add the following line to enable the <tt>mssql</tt> extension:</p>

    <div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">extension=mssql.so</div></div>

    <um>If using CentOS version 6.0 or later, follow the <a href='https://github.com/mkleehammer/pyodbc/wiki/Connecting-to-SQL-Server-from-RHEL-or-Centos'>RHEL/Centos version 6.0 instructions</a></um>

</div>
<p><b><span id="Ubuntu">Ubuntu</span></b></p>
<div style="margin-left: 25px;">
    <p>If using Ubuntu 16.04 or later, log in as root and install FreeTDS and the <strong><tt>php5.6-sybase</tt></strong> module using the following command:</p>
    <div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">apt-get install freetds-bin php5.6-sybase</div></div>

    <p>Edit the php.ini file that is located in the /php/5.6/apache2/ directory.</p>
    <div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">sudo nano /etc/php/5.6/apache2/php.ini</div></div>

    <p>Add the following line to enable the <tt><b>mssql</b></tt> extension.</p>
    <div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">extension=mssql.so</div></div>
</div>

<p><b><span id="Debian">Debian</span></b></p>
<div style="margin-left: 25px;">
    <p>If using Debian 8.7 (Squeeze), log in as root, install FreeTDS and the <strong><tt>php5.6-sybase</tt></strong> package with the following command:</p>

    <div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">apt-get install freetds-bin php5.6-sybase</div></div>

    <p>If using Debian 5 (Lenny), install the <strong><tt>freetds-common</tt></strong> package instead:</p>

    <div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">apt-get install freetds-common php5.6-sybase</div></div>
</div>

<p><b><span id="SUSE">SUSE/openSUSE</span></b></p>
<div style="margin-left: 25px;">
    <p>SUSE/openSUSE does not provide a PHP package to access MS SQL Servers,
    so <a href="http://www.freetds.org/">freeTDS</a> and the <a href="http://php.net/manual/en/book.mssql.php">mssql</a> PHP extension will have to be compiled from the source code.</p>

    <p>First, install the <strong><tt>unixOBDC</tt></strong> package and the
    tools for compiling:</p>

    <codeblock>zypper install unixOBDC gcc make</codeblock>

    <p>Then, download the <a href="http://www.ibiblio.org/pub/Linux/ALPHA/freetds/stable/freetds-stable.tgz">source code</a> of the latest stable version of freeTDS. Decompress the code then configure
 and compile it:</p>

    <codeblock>tar xzf freetds-stable.tgz
cd freetds-0.82/
./configure -with-unixODBC=/usr/lib
make
make install
</codeblock>

    <p>Install the <strong><tt>php5-devel</tt></strong> package (which contains
    the <strong><tt>phpize</tt></strong> command):</p>

    <codeblock>zypper install php5-devel</codeblock>

    <p>Next, check which version of PHP you are using:</p>

    <codeblock>php -i</codeblock>

    <p>Then, download the <a href="http://www.php.net/releases/">source code</a> for your version of PHP to a local directory. Decompress the code, switch to the <strong><tt>ext/mssql</tt></strong> directory and compile the <strong><tt>mssql</tt></strong> extension. Note that the following commands will <i>only</i> compile the <strong><tt>mssql</tt></strong> extension and insert it into your existing installation of PHP without
    altering anything else:</p>

    <codeblock>tar xzf php-5.3.3.tar.gz
cd php-5.3.3/ext/mssql
phpize
./configure
make
make install
</codeblock>

    <p>Then, configure PHP to use the new extension by editing the PHP configuration files:</p>
    <codeblock>vi /etc/php5/apache2/php.ini
vi /etc/php5/cli/php.ini
</codeblock>

    <p>In both files, add the line:</p>
    <codeblock>extension=mssql.so
</codeblock>
</div>

<p>Finally, <a href="../3.0/Additional_Configuration.html#Restarting_Apache">restart Apache</a> to be able to use the new configuration.</p>

<p>The Microsoft SQL Server will be added to the list of Database Connections.</p>

<p>For older versions of Red Hat/CentOS that don't contain a <tt>php-mssql</tt> package, see <a href="http://www.howtoforge.com/installing_php_mssql_centos5.0">these instructions</a> to manually compile FreeTDS and PHP's <tt>mssql</tt> extension.</p>

<h4><span id="Executing_Store_Procedures">Executing store procedures</span></h4>
<p>If planning on executing stored procedures on the SQL Server database, edit the FreeTDS configuration file, which is generally found at <strong><tt>/etc/freetds/freetds.conf</tt></strong></p>

<p>Edit the following lines to specify the IP address and port of server where SQL Server is installed and the TDS version number:</p>

<div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">host = xxx.xxx.xxx.xxx<br />
port = 1433<br />
tds version = 7.0</div></div>

<h5><span id="Best_Practices_When_Using_Stored_Procedures">Best Practices When Using Stored Procedures</span></h5>
<p>These are examples of best ways to use stored procedures in MSSQL:</p>
<ul>
    <li>
        <p><code>EXEC <font color="blue">procedure-name</font></code> is allowed in the following controls: <a href="../3.1/Dropdown_Control.html#MSSQL_Stored_Procedures_and_Dependent_Fields">dropdowns</a> or <a href="../3.2/Suggest_Control.html#Using_MSSQL_Stored_Procedures">suggests</a>. Here is an example with a dropdown control:</p>
        <p><img src="../sites/default/files/3.1DependentFieldStoredProcMSSQLDrop1.png" /></p>
    </li>
    <li>
        <p><code>EXEC <font color="blue">procedure-name</font></code> is also allowed in triggers. Here is an example filling a grid control with data:</p>
        <div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@=</span>productsGrid <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$db</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;71525495056005261835755079295218&quot;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//Unique example ID of a database connection</span><br />
<span style="color: #000088;">$products</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;EXEC productPro2&quot;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$db</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$products</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$products</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #b1b100;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$i</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">;</span> <span style="color: #000088;">$i</span> <span style="color: #339933;">&lt;=</span> <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$products</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #000088;">$i</span><span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #339933;">@=</span>productsGrid<span style="color: #009900;">&#91;</span><span style="color: #000088;">$i</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">&quot;productID&quot;</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$products</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$i</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'productID'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">&quot;productName&quot;</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$products</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$i</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'productName'</span><span style="color: #009900;">&#93;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span></div></div>
    </li>
    <li>
        <p><code>EXEC <font color="blue">procedure-name</font> @VALUE = '<font color="blue">some-value</font>'</code> is not allowed because the <a href="https://docs.microsoft.com/en-us/sql/relational-databases/system-stored-procedures/sp-serveroption-transact-sql?view=sql-server-ver15" target="_blank">sp_serveroption</a> can not be used inside a ProcessMaker transaction. For example, using a trigger with the following code displays an error similar to the one on the image:</p>
        <div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$db</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;71525495056005261835755079295218&quot;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//Unique example ID of a database connection</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;EXEC productPro2 @VALUE = 'Mixer'&quot;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$db</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
        <p><img src="../sites/default/files/3.5.0DatabaseConnection_MSSQL_StoreProcedureEx2.png" /></p>
    </li>
    <li>
        <p><code>use <font color="blue">database-name</font>; EXEC <font color="blue">procedure-name</font>;</code> is not allowed because the database name is already set on the database configuration. For example, using a trigger with the following code displays an error similar to the one on the image:</p>
        <div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$db</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;71525495056005261835755079295218&quot;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//Unique example ID of a database connection</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;use sqlCustomConn; EXEC productPro2;, <span style="color: #006699; font-weight: bold;">$db</span>);</span></div></div>
        <p><img src="../sites/default/files/3.5.0DatabaseConnection_MSSQL_StoreProcedureEx1.png" /></p>
    </li>
</ul>

<h4><span id="If_the_SQL_Server_database_does_not_use_UTF-8_encoding">If the SQL Server Database Does Not Use UTF-8 Encoding</span></h4>

<p>Some issues might arise if the SQL Server database does not use the UTF-8 character set and contains non-ASCII characters, because <u>ProcessMaker is designed to use UTF-8</u>.
<ul>
    <li>The source code of ProcessMaker is written in UTF-8, and produces UTF-8 HTML pages.</li>
    <li>The character set for the Apache server needs to be UTF-8.</li>
    <li>AJAX requests using JSON encode are in UTF-8.</li>
    <li>The collation in MySQL for ProcessMaker databases is in UTF-8.</li>
</ul>

<p>These four components need to be in UTF-8 for everything to work: source code, Apache server, interactive data    and database fields.</p>

<h4><span id="Solving_issues_with_UTF-8_characters">Solving Issues with UTF-8 Characters</span></h4>

<p>To display Unicode data from a SQL server, it is recommended to:</p>
<ul>
    <li><a href="../3.0/Database_Connections.html#Setup_FREETDS_in_Linux.2FUNIX" title="Database Connections">Setup freetds</a> to send UTF-8 data to ProcessMaker.</li>
</ul>
<ul>
    <li>Remove some lines in the <a href="../3.0/Database_Connections.html#Change_MSSQLResultSet.php" title="Database Connections">MSSQLResultSet.php</a>        file.</li>
</ul>

<h3><span id="Setup_FREETDS_in_Linux.2FUNIX">Setup FREETDS in Linux/UNIX</span></h3>

<p>To avoid permissions problems with the <strong><tt>freetds.conf</tt></strong> file, it is recommended to give the <strong><tt>freetds.conf</tt></strong> file global read permissions. For example:</p>

<div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">chmod +r /etc/freetds/freetds.conf</div></div>

<p>Make the environment variable <code>FREETDSCONF</code> point to the location of the <strong><tt>freetds.conf</tt></strong> file. At the beginning of the Apache service script (which is located at <strong><tt>/etc/init.d/httpd</tt></strong> in Red Hat/Cent OS/Fedora and at <strong><tt>/etc/init.d/apache2</tt></strong> in Debian/Ubuntu/SuSE), add the following line:</p>

<div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">export FREETDSCONF=/etc/freetds/freetds.conf</div></div>

<p>Finally, in the global section of the <strong><tt>freetds.conf</tt></strong> file, change the following lines to:</p>

<div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">tds version = 7.0<br />
client charset = UTF-8</div></div>

<p style="margin-left:25px"><strong><font color="green">Note:</font></strong>
    <font color="dimgray">The TDS version may change depending on the version of the database engine with which the server is trying to communicate. For more information, please visit the <a href="http://www.freetds.org/userguide/freetdsconf.htm">freetds guide</a> page.</font>
  </p>

<h4><span id="Change_MSSQLResultSet.php">Change MSSQLResultSet.php</span></h4>

<p>Once freetds gets all data in UTF-8, the code is no longer needed to convert all fields to UTF-8. Remove the lines 123-133 from the <strong><tt>MSSQLResultSet.php</tt></strong> file, which is located at:</p>
<dl>
    <dd><strong><tt>/gulliver/thirdparty/creole/drivers/mssql/MSSQLResultSet.php</tt></strong></dd>
</dl>

<h3><span id="Collation_Database_Configuration">Collation Database Configuration</span></h3>

<p>Usually, when trying to execute queries that contain the character <strong><tt></tt></strong>, an error will occur. If searching in fields, the result will be <code>NULL</code>.</p>

<p>The problem is that the database collation in ProcessMaker is configured with UTF-8. To make that work, data must be converted from the character set used by the SQL Server database to UTF-8 using PHP's <a href="http://php.net/manual/en/function.mb-convert-encoding.php">mb_convert_encoding()</a> function. To convert from ISO-8859-1, which is the most commonly used character set in Windows, the <a href="http://php.net/manual/en/function.utf8-encode.php">utf8_encode()</a> and <a href="http://php.net/manual/en/function.utf8-decode.php">utf8_decode()</a> functions can be used.</p>

<p>For example, the following trigger code converts from UTF-8 to ISO-8859-1 to send queries to an SQL Server database and then it converts the search results from ISO-8859-1 to UTF-8, so the results can be displayed in a grid field in ProcessMaker:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$idMssql</span> &nbsp;<span style="color: #339933;">=</span> <span style="color: #0000ff;">'11609821854ca4355344560009542371'</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//change UID for database connection to SQL Server</span><br />
<span style="color: #000088;">$group</span> <span style="color: #339933;">=</span> <a href="http://php.net/utf8_decode"><span style="color: #990000;">utf8_decode</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>SelectedGroup<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//convert from UTF-8 to ISO-8859-1</span><br />
<span style="color: #000088;">$rows</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;SELECT FIRST_NAME + ' ' + LAST_NAME from TABLE_EMPLOYEES<br />
&nbsp; &nbsp;where GROUP = '<span style="color: #006699; font-weight: bold;">$group</span>' and COMPANY in ('5','4','3','1')&quot;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$idMssql</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #666666; font-style: italic;">//place search results in a grid field named &quot;EmployeesGrid&quot; which has the rows firstName and lastName,</span><br />
<span style="color: #666666; font-style: italic;">//which will be displayed in a subsequent DynaForm:</span><br />
<span style="color: #339933;">@=</span>EmployeesGrid <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$i</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">;</span> <span style="color: #000088;">$i</span> <span style="color: #339933;">&lt;=</span> <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$rows</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #000088;">$i</span><span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//use utf8_encode() to convert from ISO-8859-1 to UTF-8:</span><br />
&nbsp; &nbsp;<span style="color: #339933;">@=</span>EmployeesGrid<span style="color: #009900;">&#91;</span><span style="color: #000088;">$i</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">'firstName'</span> <span style="color: #339933;">=&gt;</span> <a href="http://php.net/utf8_encode"><span style="color: #990000;">utf8_encode</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$rows</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$i</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'FIRST_NAME'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">'lastName'</span> <span style="color: #339933;">=&gt;</span> <a href="http://php.net/utf8_encode"><span style="color: #990000;">utf8_encode</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$rows</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$i</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'LAST_NAME'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h2><span id="Oracle">Oracle</span></h2>

<p>To connect to an Oracle database, Oracle's client software must be installed on the same server running ProcessMaker. If the Oracle database does not use the UTF-8 character set used by ProcessMaker, then see <a href="56.html#Converting_UTF_8">Converting Oracle to UTF-8</a>.</p>

<p><strong><font color="green">Note:</font></strong> <font color="dimgrey">If using Oracle Instant Client to connect to an Oracle database, make sure to use the same version of Instant Client as the Oracle Database. The following SQL command can be used to find the version of the database:</font></p>

<codeblock>SELECT version FROM V$INSTANCE</font></codeblock>

<h3><span id="Red_Hat.2FCent_OS.2FFedora">CentOS</span></h3>
<dl>
    <dd><strong><span style="color: green;">Note:</span></strong> <span style="color: dimgrey;">This database connection has been tested only with Oracle v. 12.c in CentOS installations.</span></dd>
</dl>

<p>Oracle provides <a href="http://www.oracle.com/technetwork/articles/dsl/technote-php-instant-084410.html">instructions</a> and RPM packages to install its Instant Client in Linux, which can be downloaded for free at:</p>

<dl>
    <dd><a href="http://www.oracle.com/technetwork/database/features/instant-client/index-097480.html">http://www.oracle.com/technetwork/database/features/instant-client/index-097480.html</a></dd>
</dl>

<p>If ProcessMaker is running on a 32 bit system, download Instant Client
    for Linux x86. For a 64 bit system, download Instant Client for Linux
    x86-64. For an AMD system, download Instant Client for Linux AMD64
    (32-bit and 64-bit). Make sure to download the version of Instant Client
    Basic or Basic-Lite that matches your version of Oracle. It is also
    recommended to download the SQL*Plus and SDK packages, but it is not
    necessary.
  </p>

<p>Follow the steps below to install and configure Instant Client in Linux on either a Red Hat or Debian based system.</p>

<h4><span id="Install_Instant_Client">Install Instant Client</span></h4>

<p>Open a terminal on the server where ProcessMaker is installed and login as root (or use the sudo) to install the following packages needed by Oracle Instant Client:</p>

<codeblock>yum install php-pear php-devel zlib zlib-devel bc libaio glibc
yum groupinstall "Development Tools"
</codeblock>

<p>Copy the Oracle Instant Client package files to the current directory and then issue the following command to install them:</p>

<codeblock>rpm -ivh oracle-instantclient*</codeblock>

<p>If using a 64 bit version of Instant Client, then create symbolic links so the Instant Client can be found:</p>

<codeblock>ln -s /usr/include/oracle/<i><strong>11.2</strong></i>/client64 /usr/include/oracle/<i><strong>11.2</strong></i>/client
ln -s /usr/lib/oracle/<i><strong>11.2</strong></i>/client64 /usr/lib/oracle/<i><strong>11.2</strong></i>/client
</codeblock>

<p>(Make sure to change <code><i><strong>11.2</strong></i></code> to match your version of Instant Client.)</p>

<p>Then set the LD_LIBRARY_PATH variable to where the Instant Client library is located. For a 64 bit system, issue the following command:</p>

<codeblock>echo "export LD_LIBRARY_PATH=/usr/lib/oracle/<i><strong>11.2</strong></i>/client64/lib" &gt; /etc/profile.d/oracle.sh
</codeblock>

<p>For a 32 bit system:</p>

<codeblock>echo "export LD_LIBRARY_PATH=/usr/lib/oracle/<i><strong>11.2</strong></i>/client/lib" &gt; /etc/profile.d/oracle.sh
</codeblock>

<p>(Make sure to change <code><i><strong>11.2</strong></i></code> to match
    your version of Instant Client.)</p>

<p>Then set the LD_LIBRARY_PATH for the current session:</p>

<codeblock>source /etc/profile.d/oracle.sh</codeblock>

<h4><span id="Install_PDO_OCI">Install PDO_OCI</span></h4>

<p>Download the <strong><tt>PDO_OCI-1.0.tgz</tt></strong> file and decompress it with the following commands:</p>

<codeblock>wget <a href="../sites/default/files/PDO_OCI-1.0.tgz">http://wiki.processmaker.com/sites/default/files/PDO_OCI-1.0.tgz</a>
tar -xzvf PDO_OCI-1.0.tgz
</codeblock>

<p>Then, configure PHP to use PDO_OCI:</p>

<codeblock>cd PDO_OCI-1.0
phpize
./configure --with-pdo-oci=instantclient,/usr,<i><strong>11.2</strong></i>
</codeblock>

<p>Make sure to change <i><strong><code>11.2</code></strong></i> to match
    your version of Instant Client. Then compile and install the PDO_OCI
    module:
  </p>

<codeblock>make
make install
cd ..
</codeblock>

<p>Include the module in PHP and restart Apache so the module can be used:</p>

<codeblock>echo "extension=pdo_oci.so" &gt; /etc/php.d/pdo_oci.ini
service httpd restart
</codeblock>

<p>Finally, check whether the PDO_OCI module was installed and included in PHP:</p>

<codeblock>php -i | grep oci</codeblock>

<p>The following line should appear in the output:</p>

<codeblock>PDO drivers =&gt; oci, mysql</codeblock>

<h4><span id="Install_OCI8">Install OCI8</span></h4>

<p>Use the <strong><code>pear</code></strong> command to download the OCI8 source code and then decompress it:</p>

<codeblock>pear download pecl/oci8
tar -xvf oci8-<i><strong>1.4.9</strong></i>.tgz
</codeblock>

<p>(Change <code><i><strong>1.4.9</strong></i></code> to the version of OCI8 that was downloaded by pear.) Then, configure how the code will be compiled:</p>

<codeblock>cd oci8-<i><strong>1.4.9</strong></i>
phpize
./configure --with-oci8=shared,instantclient,/usr/lib/oracle/<i><strong>11.2</strong></i>/client<i><strong>64</strong></i>/lib
</codeblock>

<p>(Change <code><i><strong>11.2</strong></i></code> to your version of Instant Client. For 32 bit systems, remove <code><i>64</i></code><strong>.)</strong></p>

<p>Then, compile and install:</p>

<codeblock>make
make install
</codeblock>

<p>Include OCI8 in PHP and restart Apache to be able to use the new module:</p>

<codeblock>echo "extension=oci8.so" &gt;&gt; /etc/php.d/oci8.ini
service httpd restart
</codeblock>

<p>Finally, check whether it was installed and included correctly:</p>

<codeblock>php -i | grep oci8</codeblock>

<p>The output should include lines like the following:</p>

<codeblock>/etc/php.d/oci8.ini,
oci8
oci8.connection_class =&gt; no value =&gt; no value
oci8.default_prefetch =&gt; 100 =&gt; 100
oci8.events =&gt; Off =&gt; Off
oci8.max_persistent =&gt; -1 =&gt; -1
</codeblock>

<h3><span id="Checking_the_Oracle_Installation">Checking the Oracle Installation</span></h3>

<p>After installing an Oracle client and the OCI8 and PDO_OCI extensions in PHP, log in to ProcessMaker and go to the <strong>Designer</strong> and open a process for editing. Click on the <strong>Database Connections</strong> tab and create a new connection. In the <strong>Engine</strong> dropdown box, there should be an <strong>Oracle</strong> option:</p>

<p><img alt="" src="../sites/default/files/OracleDBSelectConnectionType.png"></p>

<h3><span id="Oracle_Troubleshooting">Oracle Troubleshooting</span></h3>

<p>Check the Apache error log file for startup errors.</p>

<p>Temporarily set <font color="dimgrey"><code>display_error=On</code></font> in <strong><tt>php.ini</tt></strong> so script errors are displayed. Switch it back off when finished for security reasons.</p>

<p>Chapter 9 of <a href="http://www.oracle.com/technetwork/topics/php/underground-php-oracle-manual-098250.html">The Underground PHP and Oracle Manual</a> contains information about common connection errors and discusses alternative ways to set environment variables.</p>

<p>Oracle's SQL*Plus command line tool can be downloaded from the [www.oracle.com/technetwork/database/features/instant-client/index-100365.html Instant Client] page to help resolve environment and connection problems. Check whether SQL*Plus can connect and then ensure the Environment section (not the Apache Environment section) of    <font color="dimgrey">phpinfo.php</font> shows the equivalent environment settings.</p>

<p>The following <strong><tt>testoci8.php</tt></strong> script can be used to check whether the OCI8 extension works with Oracle. Create the <strong><tt>testoci8.php</tt></strong> file at the location <strong><tt><a href="../3.0/File_Locations.html#Installation_Directory" title="File Locations">&lt;install-directory&gt;</a>/workflow/public_html/testoci8.php</tt></strong>    with the following contents:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">&lt;?php</span><br />
<span style="color: #666666; font-style: italic;">//change the username, password, machine, domain and address:</span><br />
<span style="color: #000088;">$conn</span> <span style="color: #339933;">=</span> oci_connect<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'username'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'password'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'mymachine.mydomain/mydatabase'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$stid</span> <span style="color: #339933;">=</span> oci_parse<span style="color: #009900;">&#40;</span><span style="color: #000088;">$conn</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'select table_name from user_tables'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
oci_execute<span style="color: #009900;">&#40;</span><span style="color: #000088;">$stid</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">&quot;&lt;table&gt;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">while</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$row</span> <span style="color: #339933;">=</span> oci_fetch_array<span style="color: #009900;">&#40;</span><span style="color: #000088;">$stid</span><span style="color: #339933;">,</span> OCI_ASSOC<span style="color: #339933;">+</span>OCI_RETURN_NULLS<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">!=</span> <span style="color: #009900; font-weight: bold;">false</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">&quot;&lt;tr&gt;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$row</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$item</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">&quot; &lt;td&gt;&quot;</span><span style="color: #339933;">.</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$item</span> <span style="color: #339933;">!==</span> <span style="color: #009900; font-weight: bold;">null</span> ? <a href="http://php.net/htmlentities"><span style="color: #990000;">htmlentities</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$item</span><span style="color: #339933;">,</span> <span style="color: #009900; font-weight: bold;">ENT_QUOTES</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">:</span> <span style="color: #0000ff;">&quot;&amp;nbsp;&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">.</span><span style="color: #0000ff;">&quot;&lt;/td&gt;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp; <span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">&quot;&lt;/tr&gt;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">&quot;&lt;/table&gt;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000000; font-weight: bold;">?&gt;</span></div></div>

<p>Make sure to modify the connection credentials to suit your database.
    Then open a web browser and go to the address:</p>
<dl>
    <dd><strong><tt>http://&lt;processmaker-address&gt;/testoci8.php</tt></strong></dd>
</dl>

<p>For example, if ProcessMaker is installed at the address 192.168.0.1 on port 8080, then go to:</p>
<dl>
    <dd><strong><tt>http://192.168.0.1:8080/testoci8.php</tt></strong></dd>
</dl>

<p>The tables in the Oracle database should be listed on the page. Make
    sure to delete the <strong><tt>testoci8.php</tt></strong> file when
    done testing.</p>

<h3><span id="Converting_UTF_8">Converting Oracle to UTF-8</span></h3>
<p>If an Oracle database uses a character set other than UTF-8, then the <a href="http://docs.oracle.com/cd/E12102_01/books/AnyInstAdm784/AnyInstAdmPreInstall18.html"><code>NLS_LANG</code> environment variable</a> needs to be set to the UTF-8 character set on the server where ProcessMaker is installed.</p>

<p>The format for the <code>NLS_LANG</code> variable should be:</p> <code>[NLS_LANGUAGE]_[NLS_TERRITORY].[NLS_CHARACTERSET]</code>

<p>First, determine the current locale settings in the Oracle database with the following SQL query:</p>
<codeblock>SELECT * FROM V$NLS_PARAMETERS;</codeblock>

<p>For example, if the locale is <code>american_america.EL8MSWIN1253</code>, then this needs to be changed to <code>american_america.UTF-8</code>.

<p><b>Linux:</b></p>
<div style="margin-left:25px">
    <p>On a Linux server, edit the file <b><tt>/etc/environment</tt></b> with a plain text editor and add the line:</p>
    <codeblock>NLS_LANG=American_America.UTF8</codeblock>
    <p>Unfortunately the <b><tt>/etc/environment</tt></b> file isn't read by cron scripts, so also edit the <b><tt>/etc/profile</tt></b> file and add the line:</p>
    <codeblock>export NLS_LANG=American_America.UTF8</codeblock>
    <p>These settings should take effect the next time the server is rebooted. To have them take effect immediately, enter the following in the command line of a terminal:</p>
    <codeblock>export NLS_LANG=American_America.UTF8</codeblock>
</div>
<p><b>Windows:</b></p>
<div style="margin-left:25px">
    <p>On a Windows server, go to <b>Control Panel > System</b>.</p>
    <p><img src="../sites/default/files/3.1OracleControlPanel.png"></p>

    <p>Click on the <b>Advanced system settings</b> option on the left side of the window.</p>
    <p><img src="../sites/default/files/3.1OracleAdvancedSystem.png"></p>
    <p>Click on <b>Environment Variables</b>.</p>
    <p><img src="../sites/default/files/3.1OracleEnvironmentVariables.png"></p>
    <p>In the <b>System variables</b> section, click <b>New</b>.</p>
    <p><img src="../sites/default/files/3.1OracleNewVariable.png"></p>

    <p>In the <b>Variable Name</b> field, enter <code>NLS_LANG</code> and in the <b>Variable Value</b> field, enter <code>American_America.UTF8</code>. Click on <b>Ok</b> and close all dialogs.</p>
    <p><img src="../sites/default/files/3.1OracleNewUserVariable.png"></p>

    <p>Then, reboot the server for the changes to take effect.</p>
</div>


<h2><span id="Other_Types_of_Databases">Other Types of Databases</span></h2>

<p>If using another type of database that ProcessMaker does not support, then it is possible to connect to that database using PHP's <a  href="http://www.php.net/manual/en/refs.database.php">database extensions</a> inside a trigger. Many types of databases have their own specialized functions, such as <a href="http://php.net/manual/en/function.oci-connect.php">oci_connect()</a> or <a href="http://php.net/manual/en/function.mysql-connect.php">mysql_connect()</a>, but almost all databases and spreadsheets also support the <a href="http://en.wikipedia.org/wiki/Open_Database_Connectivity">Open Database Connectivity (ODBC)</a> protocol.</p>

<p>Unfortunately, database connections created in triggers can not be used like normal database connections in ProcessMaker. To be queried like a normal database when using the <a href="../3.0/DynaForm_Field_Properties.html#DB_Connection" title="DynaForm Fields">SQL Connection</a> and <a href="../3.0/DynaForm_Field_Properties.html#SQL" title="DynaForm Fields">SQL</a> properties in Dynaform fields, first the results of the database query will have to be stored as an associative array of associative arrays in the <strong><tt>$_SESSION</tt></strong> superglobal variable, so they can be accessed by DynaForm fields.</p>

<h3><span id="ODBC">ODBC</span></h3>

<p>The specialized PHP functions for each type of database are generally
    easier to use, but PHP's <a href="http://www.php.net/manual/en/book.uodbc.php">ODBC functions</a>    offer a standardized way to connect to any data source.</p>

<h4><span id="Installing_ODBC">Installing ODBC</span></h4>

<p>Before trying to use ODBC in PHP, make sure that the <tt>odbc</tt> module
    is installed in PHP by going to the command line and issuing the command:</p>

<codeblock>php -m</codeblock>

<p>If <tt>"odbc"</tt> doesn't appear in the list of modules, then it will
    need to be installed:</p>

<p><strong>Debian/Ubuntu:</strong></p>

<codeblock>apt-get install unixodbc php5-odbc</codeblock>

<p><strong>Red Hat/CentOS/Fedora:</strong></p>

<codeblock>yum install unixODBC unixODBC-devel php-odbc</codeblock>

<p><strong>SUSE/OpenSUSE:</strong></p>

<codeblock>yast2 -i php5-odbc</codeblock>

<p><strong>Windows:</strong><br>The ODBC module should be installed by default
    in PHP.</p>

<h4><span id="Using_ODBC_in_Triggers">Using ODBC in Triggers</span></h4>

<p>First, establish a connection to the database with <a href="http://www.php.net/manual/en/function.odbc-connect.php">obdc_connect()</a>    (or <a href="http://www.php.net/manual/en/function.odbc-pconnect.php">obdc_pconnect()</a>    for a persistent connection):</p>

<codeblock><i>resource</i> <strong>odbc_connect(</strong> <i>string</i> $dsn, string $user, <i>string</i> $password  [, <i>int</i> $cursor_type]<strong>)</strong></codeblock>

<p>The first parameter is the <i>data source name</i>, which contains the
    custom parameters needed to connect to different types of databases.
    It might contain something like:</p>
<dl>
    <dd><tt>"Driver={<i><strong>DRIVER-NAME</strong></i>};Server=<i><strong>SERVER-URL</strong></i>;Database=<i><strong>DB-NAME</strong></i>;"</tt></dd>
</dl>

<p>but it varies widely. See this list of <a href="http://www.carlprothman.net/Default.aspx?tabid=81">connection strings</a>.</p>

<h4><span id="Populating_a_Textbox">Populating a Textbox</span></h4>

<p>To set the value of a Dynaform textbox, fire the trigger BEFORE the Dynaform that queries the database using ODBC and then set the value of the case variable of the textbox.</p>

<p>For example, to query a Visual FoxPro database and set the value of a
    textbox named "ClientName":</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$dns</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;Driver={Microsoft Visual FoxPro Driver};SourceType=DBC;SourceDB=c:\somepath\contacts.dbc;Exclusive=No&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$con</span> <span style="color: #339933;">=</span> obdc_connect<span style="color: #009900;">&#40;</span><span style="color: #000088;">$dns</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$con</span> <span style="color: #339933;">!==</span> <span style="color: #009900; font-weight: bold;">false</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$res</span> <span style="color: #339933;">=</span> <a href="http://php.net/odbc_exec"><span style="color: #990000;">odbc_exec</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$con</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;SELECT FIRSTNAME, LASTNAME FROM CLIENTS WHERE CLIENT_ID='ARG29'&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$row</span> <span style="color: #339933;">=</span> <a href="http://php.net/odbc_fetch_array"><span style="color: #990000;">odbc_fetch_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$res</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #339933;">@@</span>ClientName <span style="color: #339933;">=</span> <span style="color: #000088;">$row</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'FIRSTNAME'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">' '</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$row</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'LASTNAME'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<!--
<span id="Populating_a_Dropdown_Box">Populating a Dropdown Box</span>

<p>To populate the list of options in a dropdown box, create an associative array of associative arrays, which can be queried like a normal table.</p>
<p>For example, this trigger uses OBDC to connect to an Excel spreadsheet and populate a dropdown box:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$aClients</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$cnt</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$dns</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;Driver={Microsoft Excel Driver (*.xls)};DriverId=790;Dbq=c:\somepath\Clients.xls;DefaultDir=c:\somepath&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$con</span> <span style="color: #339933;">=</span> obdc_connect<span style="color: #009900;">&#40;</span><span style="color: #000088;">$dns</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$con</span> <span style="color: #339933;">!==</span> <span style="color: #009900; font-weight: bold;">false</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$res</span> <span style="color: #339933;">=</span> <a href="http://php.net/odbc_exec"><span style="color: #990000;">odbc_exec</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$con</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;SELECT CLIENT_ID, CLIENT_NAME from CLIENT_LIST&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">while</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$row</span> <span style="color: #339933;">=</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/odbc_fetch_array"><span style="color: #990000;">odbc_fetch_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$res</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$aClients</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$cnt</span><span style="color: #339933;">++</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$row</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; <span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> G<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; <span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">SendMessageText</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Unable to access Excel file 'c:\somepath\Clients.xls'.&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;ERROR&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #666666; font-style: italic;">#Make $aClients available to be queried in the DynaForm like a table from a database:<br />
</span><span style="color: #000000; font-weight: bold;">global</span> <span style="color: #000088;">$_DBArray</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$_DBArray</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'CLIENTS_LIST'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$aClients</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$_SESSION</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'_DBArray'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$_DBArray</span><span style="color: #339933;">;</span></div></div>

<p>Then in the DynaForm create a dropdown box with the <strong><tt>sqlconnection="dbarray"</tt></strong> property in the XML definition. To populate the list of options, use an SQL query to access the CLIENTS_LIST array:</p>

<codeblock>SELECT CLIENT_ID, CLIENT_NAME FROM CLIENTS_LIST</codeblock>

<p>Where <strong><tt>CLIENT_ID</tt></strong> will become the <i>value</i> for each option and <strong><tt>CLIENT_NAME</tt></strong> will become the <i>label</i> for each option in the dropdown box. The complete XML definition for the dropdown box would be:</p>

<codeblock>&lt;SelectClient type="dropdown" required="0" readonly="0" savelabel="0"
  mode="edit" options="Array" sqlconnection="dbarray"&gt;
  SELECT CLIENT_ID, CLIENT_NAME FROM CLIENTS_LIST
  &lt;en&gt;Select Client&lt;/en&gt;
&lt;/SelectClient&gt;
</codeblock>
-->
<h4><span id="Populating_a_Grid">Populating a Grid</span></h4>

<p>To populate a Dynaform grid, create an associative array of associative arrays and assign it to the case variable of the grid. The keys in the associative arrays must be the same as the names of the grid fields, so use <strong><tt>AS</tt></strong> in the SQL query to rename the fields from the table if they don't match the field names in the grid.</p>

<p>For example, this trigger uses OBDC to connect to an Access database and populate a Dynaform grid named "ProductsGrid", which has the fields "serialNo", "productTitle", "description" and "listPrice":</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$dns</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;Driver={Microsoft Access Driver (*.mdb)};Dbq=c:\somepath\Products.mbd&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$con</span> <span style="color: #339933;">=</span> obdc_connect<span style="color: #009900;">&#40;</span><span style="color: #000088;">$dns</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;someuser&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;p4sSw0rd&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$con</span> <span style="color: #339933;">!==</span> <span style="color: #009900; font-weight: bold;">false</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #000088;">$aProducts</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #000088;">$cnt</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #000088;">$sql</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;SELECT SERIAL AS serialNo, TITLE AS productTitle, DESC AS description,<br />
&nbsp; &nbsp; &nbsp; PRICE AS listPrice FROM PRODUCTS WHERE CATEGORY='current'&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #000088;">$res</span> <span style="color: #339933;">=</span> <a href="http://php.net/odbc_exec"><span style="color: #990000;">odbc_exec</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$con</span><span style="color: #339933;">,</span> <span style="color: #000088;">$sql</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp; <span style="color: #b1b100;">while</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$row</span> <span style="color: #339933;">=</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/odbc_fetch_array"><span style="color: #990000;">odbc_fetch_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$res</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #000088;">$aProducts</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$cnt</span><span style="color: #339933;">++</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$row</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #339933;">@@</span>ProductsGrid <span style="color: #339933;">=</span> <span style="color: #000088;">$aProducts</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> G<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">SendMessageText</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Unable to connect to Access database!&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;ERROR&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h2><span id="Discovering_Ports_and_Debugging">Discovering Ports and Debugging</span></h2>

<p>To find the port number being used by a database, use the <a href="http://nmap.org/">nmap</a> command. This program is installed by default on most Linux/UNIX distributions, but it needs to be <a href="http://nmap.org/book/inst-windows.html">installed in Windows</a>.</p>

<p>If the database is located on the same machine as the ProcessMaker server,
    issue the command:</p>

<codeblock>nmap localhost</codeblock>

<p>If the database is on another server, enter the domain name or IP address
    where it is located. For example:</p>

<codeblock>nmap 192.168.1.229</codeblock>

<p>nmap will list the ports that are currently being used by the server. If the database service is activated and it's port isn't blocked by a firewall, then a port number should be listed for the database:</p>

<codeblock>Starting Nmap 6.00 ( http://nmap.org ) at 2015-02-05 12:03 BOT
Nmap scan report for no-name-229.colosa.net (192.168.1.229)
Host is up (0.0094s latency).
Not shown: 990 closed ports
PORT      STATE SERVICE
22/tcp   open  ssh
25/tcp   open  smtp
80/tcp   open  http
111/tcp  open  rpcbind
389/tcp  open  ldap
631/tcp  open  ipp
<font color="green">1521/tcp open  oracle
3306/tcp open  mysql</font>
</codeblock>

<p>If a port number isn't listed for the database, then go to the server where the database is installed and make sure that it is being run as a service:</p>

<p><strong>MySQL:</strong></p>

<p><strong>Red Hat/Cent OS/Fedora:</strong></p>

<p>Login as root (or use <code>sudo</code>) and issue the command:</p>

<codeblock># <strong>service mysqld status</strong>
mysqld (pid 1703) is running...
</codeblock>

<p>To see a list of all services:</p>

<codeblock>service --status-all</codeblock>

<p><strong>Debian/Ubuntu:</strong></p>

<p>Login as root (or use <code>sudo</code>) and issue the command:</p>

<codeblock># <strong>service mysql status</strong>
Server version         5.5.41-0+wheezy1
Protocol version       10
Connection             Localhost via UNIX socket
UNIX socket            /var/run/mysqld/mysqld.sock
Uptime:                3 days 1 hour 59 min 33 sec

Threads: 1  Questions: 19041  Slow queries: 0  Opens: 716  Flush tables: 1  Open tables: 205  Queries per second avg: 0.071.
</codeblock>

<p>To see a list of all services:</p>

<codeblock>service --status-all</codeblock>

<p><strong>Windows:</strong></p>

<p>Open the command prompt (go to <strong>Start &gt; Run</strong> and enter:
    <strong><code>cmd</code></strong>) and enter the following command
    to see a list of all running services:</p>

<codeblock>net start</codeblock>

<p>To see the status of MySQL:</p>

<codeblock>sc query <i><strong>mysql-service-name</strong></i></codeblock>

<p>For example, to see the status of MySQL installed by the automatic ProcessMaker Installer:</p>

<codeblock>C:\&gt; <strong>sc query ProcessMakerMysql</strong>
SERVICE_NAME: ProcessMakerMysql
       TYPE               : 10  WIN32_OWN_PROCESS
       STATE              : 4  RUNNING
                               (STOPPABLE, PAUSABLE, ACCEPTS_SHUTDOWN)
       WIN32_EXIT_CODE    : 0  (0x0)
       SERVICE_EXIT_CODE  : 0  (0x0)
       CHECKPOINT         : 0x0
       WAIT_HINT          : 0x0
</codeblock>

<p><strong>PostgreSQL:</strong></p>

<p><strong>Red Hat/Cent OS/Fedora:</strong></p>

<p>Login as root (or use <code>sudo</code>) and issue the command:</p>

<codeblock># <strong>service postgresql status</strong>
postmaster (pid  3498) is running...
</codeblock>

<p>For recent versions, it may be necessary to specify the version number:</p>

<codeblock># <strong>service postgresql-9.4 status</strong>
postmaster (pid  3498) is running...
</codeblock>

<p>To see a list of all services:</p>

<codeblock>service --status-all</codeblock>

<p><strong>Debian/Ubuntu:</strong></p>

<p>Login as root (or use <code>sudo</code>) and issue the command:</p>

<codeblock># <strong>service postgresql status</strong>
Running clusters: 9.1/main
</codeblock>

<p>To see a list of all services:</p>

<codeblock>service --status-all</codeblock>

<p><strong>Windows:</strong></p>

<p>Open the command prompt (go to <strong>Start &gt; Run</strong> and enter:
    <strong><code>cmd</code></strong>) and enter the following command
    to see a list of all running services:</p>

<codeblock>net start</codeblock>

<p>To see the status of PostgreSQL:</p>

<codeblock>sc query <i><strong>postgresql-service-name</strong></i></codeblock>

<p><strong>Oracle:</strong></p>

<p><strong>Linux/UNIX:</strong></p>

<p>Oracle uses the <strong><code>dbstart</code></strong> and <strong><code>dbstop</code></strong>    commands (which are located in the <strong><tt>$ORACLE_HOME/bin</tt></strong>    directory) to start and stop the database, although a service script
    can be added in the <strong><tt>/etc/init.d/</tt></strong> directory.
    Likewise, it uses the <strong><code>lsnrctl start</code></strong> and
    <strong><code>lsnrctl stop</code></strong> commands to start and stop
    the listener and <strong><code>isqlplusctl start</code></strong> and
    <strong><code>isqlplusctl stop</code></strong> to start and stop SQL*Plus.</p>

<p>To see the status of the Oracle database, use the following command (located
    in the <strong><tt>$ORACLE_HOME/bin</tt></strong> directory):</p>

<codeblock>chkdb_status</codeblock>

<p><strong>Windows:</strong></p>

<p>Open the command prompt (go to <strong>Start &gt; Run</strong> and enter:
    <strong><code>cmd</code></strong>) and enter the following command
    to see a list of all running services:</p>

<codeblock>net start</codeblock>

<p>Oracle creates a service for its listener and for its database:</p>

<codeblock>sc query OracleOraDB12Home1TNSListener
sc query OracleDatabase<i><strong>X</strong></i>
</codeblock>

<p>For example, to see the status of an Oracle database named "ORCL" and
    the listener:</p>

<codeblock>C:\&gt; <strong>sc query OracleServiceORCL</strong>
SERVICE_NAME: OracleServiceORCL
       TYPE               : 10  WIN32_OWN_PROCESS
       STATE              : 4  RUNNING
                               (STOPPABLE, PAUSABLE, ACCEPTS_SHUTDOWN)
       WIN32_EXIT_CODE    : 0  (0x0)
       SERVICE_EXIT_CODE  : 0  (0x0)
       CHECKPOINT         : 0x0
       WAIT_HINT          : 0x0
C:\&gt; <strong>sc query OracleOraDB12Home1TNSListener</strong>
SERVICE_NAME: OracleOraDB12Home1TNSListener
       TYPE               : 10  WIN32_OWN_PROCESS
       STATE              : 4  RUNNING
                               (STOPPABLE, NOT_PAUSABLE, IGNORES_SHUTDOWN)
       WIN32_EXIT_CODE    : 0  (0x0)
       SERVICE_EXIT_CODE  : 0  (0x0)
       CHECKPOINT         : 0x0
       WAIT_HINT          : 0x0
</codeblock>

<p><strong>MS SQLServer:</strong></p>

<p><strong>Windows:</strong></p>

<p>Open the command prompt (go to <strong>Start &gt; Run</strong> and enter:
    <strong><code>cmd</code></strong>) and enter the following command
    to see a list of all running services:</p>

<codeblock>net start</codeblock>

<p>Oracle creates a service for its listener and for its database:</p>

<codeblock>sc query MSSQLSERVER</codeblock>

<p>For example:</p>

<codeblock>C:\&gt; <strong>sc query MSSQLSERVER</strong>
SERVICE_NAME: MSSQLSERVER
       TYPE               : 10  WIN32_OWN_PROCESS
       STATE              : 4  RUNNING
                               (STOPPABLE, NOT_PAUSABLE, IGNORES_SHUTDOWN)
       WIN32_EXIT_CODE    : 0  (0x0)
       SERVICE_EXIT_CODE  : 0  (0x0)
       CHECKPOINT         : 0x0
       WAIT_HINT          : 0x0
</codeblock>
</div></div></div>  </div>

      <footer>
          </footer>
  
    </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
      </section>
    </div>
  
      
    </div>

      
</div>

 <!---add diego--->
  <div id="download-app-section" class="download-app mobile-none">
			<div class="row">
				<div class="col-md-12">
					<div class="text_app">Download our app</div>
							<a href="https://itunes.apple.com/us/app/processmaker/id992576284?ls=1&mt=8" target="_blank">
								<img src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/images/appstore.png">
							<a href="https://play.google.com/store/apps/details?id=com.colosa.processmaker" target="_blank">
								<img src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/images/playstore.png">				
				</div>
			</div>
  </div>
  <!---end diego--->
<!----add diego----->    
		<div class="logo_processmaker"><a href="http://www.processmaker.com">
		<img src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/images/logo_processmaker.png"></div>
<!----end diego----->
<div id="footer">
  <div id="footer_wrapper">
      </div>

  <div class="social-media-wrapper">
         <div id="social-media-icons">
       <ul>
       	<div class="text_contact">Contact us</div>
				<div class="text_number">+1-617-340-3377</div>
        <!--<li><a class="rss" href="/rss.xml">rss</a></li> <!--edit diego-->
        <li><a class="facebook" href="http://facebook.com/processmaker/" target="_blank" rel="me">facebook</a></li>
        <li><a class="twitter" href="https://twitter.com/processmaker" target="_blank" rel="me">twitter</a></li>
        <li><a class="gplus" href="https://www.google.com/+ProcessMakerOpenSource" target="_blank" rel="me">Gplus</a></li>
        <li><a class="linkedin" href="https://www.linkedin.com/groups?mostRecent=&gid=3970335&trk=my_groups-tile-flipgrp" target="_blank" rel="me">Linked in</a></li>
        <!--<li><a class="dribbble" href="http://dribbble.com" target="_blank" rel="me">Dribbble</a></li>
        <li><a class="vimeo" href="http://vimeo.com" target="_blank" rel="me">Vimeo</a></li>-->
        <li><a class="youtube" href="https://www.youtube.com/user/processmaker" target="_blank" rel="me">Youtube</a></li>
       </ul>
      </div>
      </div>
  
  <div class="footer_credit">
    <div class="footer_inner_credit">
           <div id="foot"><div class="region region-footer">
  <div id="block-block-2" class="block block-block">

      
  <div class="content">
    <p><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF">Automate your Workflow with Business Process Management<br>Software licensed under the <a 1px="" class="external text" href="http://www.gnu.org/licenses/agpl.html" rel="nofollow" style="padding-right: 13px; color:white;">GNU Affero General Public License version 3</a><br>Contact us:&nbsp;<a class="external free" href="mailto:community@processmaker.com" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">community@processmaker.com</a><br><a class="external free" href="https://www.processmaker.com/privacy-statement" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">Privacy Statement</a></font><br><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF"> Copyright 2000-2024 ProcessMaker Inc. All rights reserved.</font></p>
  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
</div>
         
   <!-- <div id="copyright">
      <p class="copyright">Copyright &copy; 2024, Documentation@ProcessMaker </p>
      <!--<p class="credits"> Developed by  <a href="http://www.zymphonies.com">Zymphonies</a></p>
      <div class="clear"></div>
    </div>-->
  </div>
  
  </div>
</div>

</div>

<script type="text/javascript">
  /* <![CDATA[ */
  document.write (
    '<img src="https://marketing.processmaker.com/acton/bn/3812/visitor.gif?ts='+ new Date().getTime()+ '&ref='+escape(document.referrer) + '">'
  );
  /* ]]> */
</script>
  
</div>
    <style>
    .center-div{
        width: 100%;        
        margin: 0 auto;
        z-index:10000;
        position:fixed;
        bottom: 0px;
        cursor:pointer;
    }
    .round-popup{
        margin:0 auto;
        font-family: 'Montserrat', sans-serif;
        font-size: 15px;
        font-weight: lighter;
        width: 412px;
        height: 50px;
        padding-top: 7px;
        text-align: center;
        position:relative;
    }
    .round-popup-button{
        position:absolute;
        top: 11px;
        right: 15px;
        background: transparent;
        border:none;
        font-size:15px;
        font-weight:normal;
        line-height:20px;
        width:20px;
        height:20px;
        padding:0;
    }
    .round-background-blue{
        background: url('http://www.processmaker.com/uploads/blue.png')no-repeat;
        color:white;
        
    }
    #box-pm31-button-blue{
        color: rgba(255, 255, 255, 0.5);
    }
    
    #box-pm31-button-blue:active,#box-pm31-button-blue:focus{
        border:none;
        outline:none;
    }
    .round-background-blue a{
        color: white!important;
        text-decoration: none;
        font-size: 15px;
        line-height:45px;
        font-family:Montserrat, sans-serif;
    }
    .round-background-blue span{
        font-weight: bold;
    }
    /*WHITE background*/
    .round-background-white{
        background: url('http://www.processmaker.com/uploads/white.png')no-repeat;
        background-position-x: -9px;        
        color: #3397E1;
    }
    .round-background-white a:hover{
        color: #3397E1!important;
        text-decoration: none;
        font-size: 15px;
    }
    #box-pm31-button-white{
        color: rgba(51, 151, 225, 0.7);
    }
</style>
    <div id="box-pm31" class="center-div" style="display:none;">
        <div class="round-popup round-background-blue">
            <a onclick="ga('send', 'event', 'WikiBlueBanner','click','PM31Release');" href="http://www.processmaker.com/download-processmaker-landing-page">
                <span>ProcessMaker 3.1</span> is Here! Download Now <span style="font-size:20px;font-weigth:normal;"></span>
            </a>
            <button id="box-pm31-button-blue" class="round-popup-button">&times;</button>
        </div>
    </div>
    <script>

function pmCreateCookie(name,value,days) {
    if (days) {
        var date = new Date();
        date.setTime(date.getTime()+(days*24*60*60*1000));
        var expires = "; expires="+date.toGMTString();
    }
    else var expires = "";
    document.cookie = name+"="+value+expires+"; path=/";
}

function pmReadCookie(name) {
    var nameEQ = name + "=";
    var ca = document.cookie.split(';');
    for(var i=0;i < ca.length;i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
    }
    return null;
}

function pmEraseCookie(name) {
    createCookie(name,"",-1);
}



     jQuery(document).ready(function( $ ) {
        $('#box-pm31-button-blue').click(function(e){
                e.stopPropagation();
                $('#box-pm31').slideUp('fast');
                pmCreateCookie('ppcookie','val',10);
            });
        });
        jQuery(window).load(function() {
            if(pmReadCookie('ppcookie') !== 'val'){
                //jQuery('#box-pm31').delay( 2000 ).slideDown('slow');
            }
        });
    </script>
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">

<script type="text/javascript">
  (function() {
    window._pa = window._pa || {};
    // _pa.orderId = "myOrderId"; // OPTIONAL: attach unique conversion identifier to conversions
    // _pa.revenue = "19.99"; // OPTIONAL: attach dynamic purchase values to conversions
    // _pa.productId = "myProductId"; // OPTIONAL: Include product ID for use with dynamic ads
    var pa = document.createElement('script'); pa.type = 'text/javascript'; pa.async = true;
    pa.src = ('https:' == document.location.protocol ? 'https:' : 'http:') + "//tag.marinsm.com/serve/586a7ec3a2ae6b728400003d.js";
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(pa, s);
  })();
</script>

</body>
</html>
