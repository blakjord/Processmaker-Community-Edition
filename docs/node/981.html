<!DOCTYPE html>
<head>
<meta charset="utf-8" />
<meta name="keywords" content="BPM, business process management, workflow, processmaker, business, BPM Windows, BPM Linux, wiki, BPM documentation, BPM FAQ, task documentation, BPM PHP, BPM Open Source, BPM Variables, BPM Installation, BPM Programming, BPM Elements, BPM Concepts, BPM Frequently Asked Questions, BPM 3.0, BPM News, Release notes, DynaForms, BPM Community, BPM Enterprise, BPM Mobile, BPM Responsive Web Design, User Manual, BPM Resources" />
<link rel="alternate" hreflang="en" href="../index.html" />
<link rel="shortcut icon" href="https://wiki.processmaker.com/themes/thecompany_responsive_theme/favicon.ico" type="image/vnd.microsoft.icon" />
<meta name="description" content="ProcessMaker is commercial open source workflow and business process management software." />
<meta name="viewport" content="width=device-width" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="../3.3/ProcessMaker_WSDL_Web_Services.html" />
<link rel="shortlink" href="981.html" />
<title>3.3 - 3.8 - ProcessMaker WSDL Web Services | Documentation@ProcessMaker</title>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/modules/system/system.base.css?s743n7");
@import url("https://wiki.processmaker.com/modules/system/system.menus.css?s743n7");
@import url("https://wiki.processmaker.com/modules/system/system.messages.css?s743n7");
@import url("https://wiki.processmaker.com/modules/system/system.theme.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/modules/aggregator/aggregator.css?s743n7");
@import url("https://wiki.processmaker.com/modules/comment/comment.css?s743n7");
@import url("https://wiki.processmaker.com/modules/field/theme/field.css?s743n7");
@import url("https://wiki.processmaker.com/modules/node/node.css?s743n7");
@import url("https://wiki.processmaker.com/modules/search/search.css?s743n7");
@import url("https://wiki.processmaker.com/modules/toc_filter/toc_filter.css?s743n7");
@import url("https://wiki.processmaker.com/modules/user/user.css?s743n7");
@import url("https://wiki.processmaker.com/modules/views/css/views.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/sites/all/modules/colorbox/styles/default/colorbox_style.css?s743n7");
@import url("https://wiki.processmaker.com/modules/ctools/css/ctools.css?s743n7");
@import url("https://wiki.processmaker.com/sites/all/modules/geshifilter/geshifilter.css?s743n7");
@import url("https://wiki.processmaker.com/modules/panels/css/panels.css?s743n7");
@import url("https://wiki.processmaker.com/modules/nice_menus/css/nice_menus.css?s743n7");
@import url("https://wiki.processmaker.com/modules/nice_menus/css/nice_menus_default.css?s743n7");
@import url("https://wiki.processmaker.com/modules/fivestar/css/fivestar.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/themes/thecompany_responsive_theme/css/style.css?s743n7");
@import url("https://wiki.processmaker.com/themes/thecompany_responsive_theme/css/media.css?s743n7");
</style>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/replace/jquery/1.9/jquery.min.js?v=1.9.1"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/jquery.once.js?v=1.2"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/drupal.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/jquery.bgiframe.js?v=2.1"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/jquery.hoverIntent.js?v=0.5"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/superfish.js?v=1.4.8"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/nice_menus.js?v=1.0"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/replace/ui/external/jquery.cookie.js?v=67fb34f6a866c40d0570"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/replace/misc/jquery.form.min.js?v=2.69"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/ajax.js?v=7.34"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/js/jquery_update.js?v=0.0.1"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/toc_filter/toc_filter.js?s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/colorbox/js/colorbox.js@s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/colorbox/styles/default/colorbox_style.js@s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/google_analytics/googleanalytics.js@s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create", "UA-3380652-1", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");
//--><!]]>
</script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/progress.js?v=7.34"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/fivestar/js/fivestar.ajax.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/fivestar/js/fivestar.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/jquery-1.10.2.min.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/jquery-ui.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/jquery-ui.min.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/custom.js?s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"thecompany_responsive_theme","theme_token":"FjQ7T14hcgBzztdYakKi6WGWV4L_ja6SY8942dYo7zA","jquery_version":"1.9","js":{"modules\/jquery_update\/replace\/jquery\/1.9\/jquery.min.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"modules\/nice_menus\/js\/jquery.bgiframe.js":1,"modules\/nice_menus\/js\/jquery.hoverIntent.js":1,"modules\/nice_menus\/js\/superfish.js":1,"modules\/nice_menus\/js\/nice_menus.js":1,"modules\/jquery_update\/replace\/ui\/external\/jquery.cookie.js":1,"modules\/jquery_update\/replace\/misc\/jquery.form.min.js":1,"misc\/ajax.js":1,"modules\/jquery_update\/js\/jquery_update.js":1,"modules\/toc_filter\/toc_filter.js":1,"sites\/all\/modules\/colorbox\/js\/colorbox.js":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.js":1,"sites\/all\/modules\/google_analytics\/googleanalytics.js":1,"0":1,"misc\/progress.js":1,"modules\/fivestar\/js\/fivestar.ajax.js":1,"modules\/fivestar\/js\/fivestar.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-1.10.2.min.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.min.js":1,"themes\/thecompany_responsive_theme\/js\/custom.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/aggregator\/aggregator.css":1,"modules\/comment\/comment.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/toc_filter\/toc_filter.css":1,"modules\/user\/user.css":1,"modules\/views\/css\/views.css":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.css":1,"modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/geshifilter\/geshifilter.css":1,"modules\/panels\/css\/panels.css":1,"modules\/nice_menus\/css\/nice_menus.css":1,"modules\/nice_menus\/css\/nice_menus_default.css":1,"modules\/fivestar\/css\/fivestar.css":1,"themes\/thecompany_responsive_theme\/css\/style.css":1,"themes\/thecompany_responsive_theme\/css\/media.css":1}},"colorbox":{"opacity":"0.85","current":"{current} of {total}","previous":"\u00ab Prev","next":"Next \u00bb","close":"Close","maxWidth":"98%","maxHeight":"98%","fixed":true,"mobiledetect":true,"mobiledevicewidth":"480px","specificPagesDefaultValue":"admin*\nimagebrowser*\nimg_assist*\nimce*\nnode\/add\/*\nnode\/*\/edit\nprint\/*\nprintpdf\/*\nsystem\/ajax\nsystem\/ajax\/*"},"toc_filter_smooth_scroll_duration":"","googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip","trackColorbox":1},"nice_menus_options":{"delay":"800","speed":"slow"},"ajax":{"edit-vote--2":{"callback":"fivestar_ajax_submit","event":"change","url":"\/system\/ajax","submit":{"_triggering_element_name":"vote"}}}});
//--><!]]>
</script>
<!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

<!-- Facebook Pixel Code -->
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','//connect.facebook.net/en_US/fbevents.js');
// Insert Your Facebook Pixel ID below.
fbq('init', '735235999992228');
fbq('track', 'PageView');
</script>
<!-- Insert Your Facebook Pixel ID below. -->
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=735235999992228&amp;ev=PageView&amp;noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->

</head>
<body class="html not-front not-logged-in no-sidebars page-node page-node- page-node-981 node-type-processmakerbpm">
    
<div class="wrap">

<div id="header_wrapper">
  <div id="inner_header_wrapper">

    <header id="header" role="banner">
      
      <div class="header_inner_wrapper">
        <div class="header_left">
                      <div id="logo">
              <a href="../index.html" title="Home"><img src="../sites/default/files/full-logo.png"/></a>
            </div>
                    	  <div class="menu_wrapper">
            <nav id="main-menu"  role="navigation">
              <a class="nav-toggle" href="981.html#">Navigation</a>
              <div class="menu-navigation-container">
                <ul class="menu"><li class="first leaf"><a href="../PM_Classic.html" title="Learn how to develop business solutions in ProcessMaker Platform while maintaining your existing ProcessMaker 3 solutions in PM Classic: the perfect bridge between your new and existing solutions with a state-of--the-art BPM platform.">PM Classic</a></li>
<li class="leaf"><a href="http://www.processmaker.com/tutorials" title="">Tutorials</a></li>
<li class="leaf"><a href="../3.1/user_guide.html">User Guide</a></li>
<li class="leaf"><a href="../3.1/developer_info.html">Developer Info</a></li>
<li class="leaf"><a href="../3.2/sys_administration.html">Sys Administration</a></li>
<li class="leaf"><a href="../3.1/resources.html">Helpful Resources</a></li>
<li class="leaf"><a href="../Sitemap.html">Sitemap</a></li>
<li class="last leaf"><a href="https://processmaker.gitbook.io/processmaker/" title="Read ProcessMaker Platform Spring 2023 documentation to learn more about the next generation of BPM.">ProcessMaker Platform</a></li>
</ul>              </div>
              <div class="clear"></div>
            </nav>
          </div>
                  <!--  <h1 id="site-title">
            <a href="/" title="Home">Documentation@ProcessMaker</a>
            <div id="site-description"></div>
          </h1> -->
            
        </div>
      </div>
      <div class="header_right">
          <div class="region region-search">
  <div id="block-search-form" class="block block-search">

        <h2 >_</h2>
    
  <div class="content">
    <form action="981.html" method="post" id="search-block-form" accept-charset="UTF-8"><div><div class="container-inline">
    <div class="form-item form-type-textfield form-item-search-block-form">
  <label class="element-invisible" for="edit-search-block-form--2">Search </label>
 <input title="Enter the terms you wish to search for." placeholder="Search" type="text" id="edit-search-block-form--2" name="search_block_form" value="" size="15" maxlength="128" class="form-text" />
</div>
<div class="form-actions form-wrapper" id="edit-actions"><input type="submit" id="edit-submit" name="op" value="Search" class="form-submit" /></div><input type="hidden" name="form_build_id" value="form-sCCzx0EVLChoSYTAwHuUMKlktLMsdg-IJXmRWn_z6nk" />
<input type="hidden" name="form_id" value="search_block_form" />
</div>
</div></form>  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
                  <h1 class="page-title">3.3 - 3.8 - ProcessMaker WSDL Web Services</h1>                <p class="page-title-suffix"></p>
                 <div style="margin-top: 5px;"></div>
      </div>
    </header>
    <div class="region-version">
      <span>Version: </span><ul><li><a  class="active-version">3.8</a></li><li><a  class="active-version">3.7</a></li><li><a  class="active-version">3.6</a></li><li><a  class="active-version">3.5</a></li><li><a  class="active-version">3.4</a></li><li><a  class="active-version">3.3</a></li><li><a href="../3.0/ProcessMaker_WSDL_Web_Services.html" class="">3.2</a></li><li><a href="../3.0/ProcessMaker_WSDL_Web_Services.html" class="">3.1</a></li><li><a href="../3.0/ProcessMaker_WSDL_Web_Services.html" class="">3.0</a></li><li><a href="../index.php/ProcessMaker_WSDL_Web_Services.html" class="">2.x</a></li></ul>    </div>
  </div>
</div>
<!-- <ul class="nice-menu nice-menu-down nice-menu-main-menu" id="nice-menu-0"><li class="menu-506 menu-path-node-1078 first odd "><a href="/PM_Classic" title="Learn how to develop business solutions in ProcessMaker Platform while maintaining your existing ProcessMaker 3 solutions in PM Classic: the perfect bridge between your new and existing solutions with a state-of--the-art BPM platform.">PM Classic</a></li>
<li class="menu-319 menu-path-processmakercom-tutorials  even "><a href="http://www.processmaker.com/tutorials" title="">Tutorials</a></li>
<li class="menu-320 menu-path-node-571  odd "><a href="/3.1/user_guide">User Guide</a></li>
<li class="menu-1138 menu-path-node-572  even "><a href="/3.1/developer_info">Developer Info</a></li>
<li class="menu-1197 menu-path-node-876  odd "><a href="/3.2/sys_administration">Sys Administration</a></li>
<li class="menu-1140 menu-path-node-236  even "><a href="/3.1/resources">Helpful Resources</a></li>
<li class="menu-1141 menu-path-node-554  odd "><a href="/Sitemap">Sitemap</a></li>
<li class="menu-1213 menu-path-sprocessmakergitbookio-processmaker-  even last"><a href="https://processmaker.gitbook.io/processmaker/" title="Read ProcessMaker Platform Spring 2023 documentation to learn more about the next generation of BPM.">ProcessMaker Platform</a></li>
</ul>
-->
  
  <div id="container">
    
    <div class="content-sidebar-wrap">

    <div id="content">

              <!-- <div id="breadcrumbs">
        <h2 class="element-invisible">You are here</h2><div class="breadcrumb"><a href="/">Home</a></div></div> -->
      
      <section id="post-content" role="main">
                                        <div class="region region-content">
  <div id="block-system-main" class="block block-system">

      
  <div class="content">
                          <span property="dc:title" content="3.3 - 3.8 - ProcessMaker WSDL Web Services" class="rdf-meta element-hidden"></span>  
      
    
  <div class="content node-processmakerbpm">
    <div class="field field-name-field-how-useful-did-you-find-th field-type-fivestar field-label-above"><div class="field-label">Please rate how useful you found this document:&nbsp;</div><div class="field-items"><div class="field-item even"><form class="fivestar-widget" action="981.html" method="post" id="fivestar-custom-widget" accept-charset="UTF-8"><div><div  class="clearfix fivestar-average-text fivestar-average-stars fivestar-form-item fivestar-default"><div class="form-item form-type-fivestar form-item-vote">
 <div class="form-item form-type-select form-item-vote">
 <select id="edit-vote--2" name="vote" class="form-select"><option value="-">Select rating</option><option value="20">Give 3.3 - 3.8 - ProcessMaker WSDL Web Services 1/5</option><option value="40">Give 3.3 - 3.8 - ProcessMaker WSDL Web Services 2/5</option><option value="60">Give 3.3 - 3.8 - ProcessMaker WSDL Web Services 3/5</option><option value="80">Give 3.3 - 3.8 - ProcessMaker WSDL Web Services 4/5</option><option value="100" selected="selected">Give 3.3 - 3.8 - ProcessMaker WSDL Web Services 5/5</option></select>
<div class="description"><div class="fivestar-summary fivestar-summary-average-count"><span class="average-rating">Average: <span >4.1</span></span> <span class="total-votes">(<span >8</span> votes)</span></div></div>
</div>

</div>
</div><input class="fivestar-submit form-submit" type="submit" id="edit-fivestar-submit" name="op" value="Rate" /><input type="hidden" name="form_build_id" value="form-4xcwSxOAObmDdp0tWw3wZF9H9Bh31c82pmESweNZSTc" />
<input type="hidden" name="form_id" value="fivestar_custom_widget" />
</div></form></div></div></div><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><div style="float: right; margin-left: 5px; background-color: #f9f9f9; border: 1px solid #aaaaaa; padding: 5px;"><center><strong>Contents:</strong> [<a href="981.html#" onclick="var el = document.getElementById('toc');
        var txt = ('innerText' in el)? 'innerText' : 'textContent';
        if (el.style.display=='none') { 
           el.style.display = '';
           document.getElementById('hideLabel')[txt] = 'hide';
        }
        else {
	        el.style.display = 'none';
           document.getElementById('hideLabel')[txt] = 'show';
        }"><span id="hideLabel">hide</span></a>]</b></center><div id="toc" ><ol class="toc">
<li class="toc"><a href="981.html#Overview">Overview</a></li>
<li class="toc"><a href="981.html#Programming_WSDL_Web_Services">Programming WSDL Web Services</a></li>
<li class="toc"><a href="981.html#Using_External_WSDL_Web_Services">Using External WSDL Web Services</a></li>
<li class="toc"><a href="981.html#Logging_in_with_ProcessMaker.27s_WSDL_web_services">Logging In with ProcessMaker's WSDL Web Services</a></li>
<ol class="toc">
<li class="toc"><a href="981.html#login.28.29_Web_Service"><code>login()</code> Web Service</a></li>
<ol class="toc">
<li class="toc"><a href="981.html#Using_Hashed_Passwords_from_the_Database">Using Hashed Passwords from the Database</a></li>
<li class="toc"><a href="981.html#Looking_up_Hashed_Password">Looking up Hashed Password</a></li>
<li class="toc"><a href="981.html#loginResponse_object"><code>loginResponse</code> object</a></li>
</ol>
<li class="toc"><a href="981.html#LDAP_and_Active_Directory_Users">LDAP and Active Directory Users</a></li>
</ol>
<li class="toc"><a href="981.html#Web_Services_Response_Objects">Web Services Response Objects</a></li>
<li class="toc"><a href="981.html#Web_Services_Error_Numbers">Web Services Error Numbers</a></li>
<li class="toc"><a href="981.html#Web_Services_Security">Web Services Security</a></li>
<li class="toc"><a href="981.html#WSDL_Web_Services_Functions">WSDL Web Services Functions</a></li>
<ol class="toc">
<li class="toc"><a href="981.html#userList.28.29">userList()</a></li>
<li class="toc"><a href="981.html#groupList.28.29">groupList()</a></li>
<li class="toc"><a href="981.html#departmentList.28.29">departmentList()</a></li>
<li class="toc"><a href="981.html#roleList.28.29">roleList()</a></li>
<li class="toc"><a href="981.html#createUser.28.29">createUser()</a></li>
<li class="toc"><a href="981.html#createGroup.28.29">createGroup()</a></li>
<li class="toc"><a href="981.html#createDepartment.28.29">createDepartment()</a></li>
<li class="toc"><a href="981.html#assignUserToGroup.28.29">assignUserToGroup()</a></li>
<li class="toc"><a href="981.html#assignUserToDepartment.28.29">assignUserToDepartment()</a></li>
<li class="toc"><a href="981.html#processList.28.29">processList()</a></li>
<li class="toc"><a href="981.html#taskList.28.29">taskList()</a></li>
<li class="toc"><a href="981.html#taskCase.28.29">taskCase()</a></li>
<li class="toc"><a href="981.html#caseList.28.29">caseList()</a></li>
<li class="toc"><a href="981.html#unassignedCaseList.28.29">unassignedCaseList()</a></li>
<li class="toc"><a href="981.html#getCaseInfo.28.29" class="mw-headline">getCaseInfo()</a></li>
<li class="toc"><a href="981.html#newCase.28.29" class="mw-headline">newCase()</a></li>
<li class="toc"><a href="981.html#newCaseImpersonate.28.29" class="mw-headline">newCaseImpersonate()</a></li>
<li class="toc"><a href="981.html#reassignCase.28.29" class="mw-headline">reassignCase()</a></li>
<li class="toc"><a href="981.html#routeCase.28.29" class="mw-headline">routeCase()</a></li>
<li class="toc"><a href="981.html#claimCase.28.29">claimCase()</a></li>
<li class="toc"><a href="981.html#getVariables.28.29" class="mw-headline">getVariables()</a></li>
<li class="toc"><a href="981.html#sendVariables.28.29" class="mw-headline">sendVariables()</a></li>
<ol class="toc">
<li class="toc"><a href="981.html#Variable_Type_Conversion" class="mw-headline">Variable Type Conversion</a></li>
<li class="toc"><a href="981.html#Other_Programming_Languages" class="mw-headline">Other Programming Languages</a></li>
</ol>
<li class="toc"><a href="981.html#triggerList.28.29" class="mw-headline">triggerList()</a></li>
<li class="toc"><a href="981.html#executeTrigger.28.29" class="mw-headline">executeTrigger()</a></li>
<li class="toc"><a href="981.html#sendMessage.28.29" class="mw-headline">sendMessage()</a></li>
<li class="toc"><a href="981.html#systemInformation.28.29" class="mw-headline">systemInformation()</a></li>
<li class="toc"><a href="981.html#inputDocumentList.28.29" class="mw-headline">inputDocumentList()</a></li>
<li class="toc"><a href="981.html#inputDocumentProcessList.28.29" class="mw-headline">inputDocumentProcessList()</a></li>
<li class="toc"><a href="981.html#outputDocumentList.28.29" class="mw-headline">outputDocumentList()</a></li>
<li class="toc"><a href="981.html#removeDocument.28.29" class="mw-headline">removeDocument()</a></li>
</ol>
<li class="toc"><a href="981.html#Uploading_and_Downloading_Files" class="mw-headline">Uploading and Downloading Files</a></li>
<ol class="toc">
<li class="toc"><a href="981.html#Uploading_Files" class="mw-headline">Uploading Files</a></li>
<ol class="toc">
<li class="toc"><a href="981.html#upload_POST_variables" class="mw-headline"><tt>upload</tt> POST variables</a></li>
<li class="toc"><a href="981.html#Using_PHP.27s_cURL_library_to_upload" class="mw-headline">Using PHP's cURL Library to Upload</a></li>
<li class="toc"><a href="981.html#Uploading_Input_Documents" class="mw-headline">Uploading Input Documents</a></li>
<li class="toc"><a href="981.html#Uploading_Attached_Files" class="mw-headline">Uploading Attached Files</a></li>
<li class="toc"><a href="981.html#Overwriting_files_or_adding_new_versions" class="mw-headline">Overwriting Files or Adding New Versions</a></li>
</ol>
<li class="toc"><a href="981.html#Downloading_Files" class="mw-headline">Downloading Files</a></li>
</ol>
<li class="toc"><a href="981.html#Examples" class="mw-headline">Examples</a></li>
<ol class="toc">
<li class="toc"><a href="981.html#Create_User" class="mw-headline">Create User</a></li>
<li class="toc"><a href="981.html#Import_a_List_of_Users" class="mw-headline">Import a List of Users</a></li>
<li class="toc"><a href="981.html#Approval_via_Email" class="mw-headline">Approval via Email</a></li>
<li class="toc"><a href="981.html#Automatic_Login" class="mw-headline">Automatic Login</a></li>
<li class="toc"><a href="981.html#SSL_Certificates_in_SOAP">SSL Certificates in the SOAP Client</a></li>
</ol>
</div></div>

<h2><span id="Overview">Overview</span></h2>
<p>ProcessMaker's WSDL Web Services provide a programming interface to remotely control and integrate ProcessMaker with external systems using <a href="http://en.wikipedia.org/wiki/Service-oriented_architecture">SOA</a> compliant protocols. WSDL Web Services allow ProcessMaker's functionality to be accessed remotely over the internet using the W3C's <a href="http://www.w3.org/TR/2007/REC-soap12-part0-20070427/#intro">Simple Object Access Protocol (SOAP) 1.2</a> and <a href="http://www.w3.org/TR/wsdl">Web Services Description Language (WSDL) 1.1</a>. Unlike <a href="../index.php/Simple_Trigger_Web_Services.html" title="Simple Trigger Web Services">Simple Trigger Web Services</a>, which can only be called inside ProcessMaker triggers in PHP, WSDL web services can be called both in triggers and in external applications and scripts.</p>

<p>WSDL web services allow external programs to remotely retrieve lists of users, groups and roles, start and route cases and send notifications. These web services can be very useful when creating scripts to automate tasks in your server and creating web pages that create and derive ProcessMaker cases.</p>

<p>ProcessMaker is <u>transitioning to REST</u>, but web services still work in ProcessMaker 3.x.</p>

<h2><span id="Programming_WSDL_Web_Services">Programming WSDL Web Services</span></h2>
<p>ProcessMaker WSDL web services functions can be called by any language that has SOAP and WSDL libraries such as PHP, Java, Python, Perl, Ruby and the <a href="http://en.wikipedia.org/wiki/List_of_CLI_languages">.NET languages</a> like VB.NET and C#. Examples are provided using PHP, but they should work with other languages with slight modifications accounting for their particular manner of making function calls and handling objects.</p>

<p>The <a href="http://www.php.net/soap">SOAP library</a> for PHP implements both the SOAP 1.2 and WSDL 1.1 specifications. To use SOAP in a PHP script, PHP should be configured with the option <b><tt>--enable-soap</tt></b>. The ProcessMaker Windows Installer enables this option by default, but it may not be enabled in Linux/UNIX. To verify whether its enabled, go to <b>Admin > Settings > PHP Information</b>:</p>

<p><img src="../sites/default/files/3.2WSDLPHPInformation.png" /></p>

<p>Look for a section labeled <b>soap</b>, which is usually after the SimpleXML section, and verify that <b>SOAP Client</b> is "enabled" to use external web services and <b>SOAP Server</b> is "enabled" to offer ProcessMaker web services, as shown in the image below.</p>

<p><img src="../sites/default/files/3.2WSDLPHPSoap.png" /></p>

<p>If unable to use web services, the problem may be that PHP is caching your WSDL calls for up to 24 hours. In this case, disable the WSDL cache in your PHP script with the line:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><a href="http://php.net/ini_set"><span style="color: #990000;">ini_set</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;soap.wsdl_cache_enabled&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;0&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>When initially creating scripts that use web services, it is a good idea to display all errors to help debug the script:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><a href="http://php.net/ini_set"><span style="color: #990000;">ini_set</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'error_reporting'</span><span style="color: #339933;">,</span> <span style="color: #009900; font-weight: bold;">E_ALL</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/ini_set"><span style="color: #990000;">ini_set</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'display_errors'</span><span style="color: #339933;">,</span> <span style="color: #009900; font-weight: bold;">True</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>Later, when your scripts are used in production, it is a good idea to turn off error reporting for security reasons.</p>

<h2><span id="Using_External_WSDL_Web_Services">Using External WSDL Web Services</span></h2>
<p>External WSDL web services from other applications can be called from inside a ProcessMaker trigger with the SOAP library. For this purpose, consider the following steps:
   
<p><b>1. </b> Find out how to call the web service by examining their WSDL page, which is in XML format.</p>

<p><b>2. </b> Create the file <strong><tt>getfunctions.php</tt></strong> in the <strong><tt>workflow/public_html</tt></strong> directory with the following code. This code  displays a list of the available functions.</p>
   <div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">&lt;?php</span><br />
<span style="color: #000088;">$url</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;WSDL_WEB_SERVER_URL&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$client</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> SoapClient<span style="color: #009900;">&#40;</span><span style="color: #000088;">$url</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__getFunctions<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$func</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;<span style="color: #006699; font-weight: bold;">$func</span> &lt;br&gt;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #000000; font-weight: bold;">?&gt;</span></div></div>

<p><b>3. </b> Redirect your web browser to <strong><tt>http://<myserver-ip-address>/getfunctions.php</tt></strong>.</p>

<p><b>4. </b> If using Apache, modify the <strong><tt>.htaccess</tt></strong> file to allow running other PHP files.</p>

<p><b>5. </b> Add a trigger that creates a SoapClient object and uses it to call web services functions.</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$url</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;WSDL_WEB_SERVER_URL&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$function_name</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;FUNCTION_NAME&quot;</span><br />
<span style="color: #000088;">$arguments</span> <span style="color: #339933;">=</span> <span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'param1'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #339933;">@@</span>VALUE1<span style="color: #339933;">,...</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$client</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> SoapClient<span style="color: #009900;">&#40;</span><span style="color: #000088;">$url</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #000088;">$function_name</span><span style="color: #339933;">,</span> <span style="color: #000088;">$arguments</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>RESULT_VARIABLE <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">result_name</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">param_name</span><span style="color: #339933;">;</span></div></div>

<h2><span id="Logging_in_with_ProcessMaker.27s_WSDL_web_services">Logging In with ProcessMaker's WSDL Web Services</span></h2>

<p>The WSDL web services can be called by an external program or by ProcessMaker triggers. First create a SOAP client object. For instance, if accessing ProcessMaker installed at http://myserver.com in the "workflow" workspace, then use:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$client</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> SoapClient<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'http://myserver.com/sysworkflow/en/neoclassic/services/wsdl2'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p style="margin-left:25px"><strong><font color="green">Note:</font></strong> <font color="dimgray">If your ProcessMaker instance includes SSL certificates, the SOAP Client requires to send additional options as parameters. For more information about it, see <a href="981.html#SSL_Certificates_in_SOAP">SSL Certificates in the SOAP Client</a>.</font></p>

<p>Web services are handled through the SOAP client object, which can make function calls to ProcessMaker using the <code><strong>__SoapCall()</strong></code> method. It has two parameters:</p>

<ol>
    <li>The name of the ProcessMaker web services function as a string.</li>
    <li>An array containing an associative array, which contains the parameters to pass to the web services function. Input each parameter name as a key with its value. (Remember that parameter names are case sensitive.)</li></ol>


<p>To find out what functions to pass through <code><strong>__SoapCall()</strong></code> and its parameter array, see the <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#WSDL_Web_Services_Functions">function list below</a> or examine the XML listing of functions in <strong><span class="geshifilter"><code class="text geshifilter-text">http://&lt;IP-ADDRESS&gt;/sys&lt;WORKSPACE&gt;/&lt;LANGUAGE&gt;/neoclassic/services/wsdl2</code></span></strong></p>

<h3><span id="login.28.29_Web_Service"><code>login()</code> Web Service</span></h3>


<p>After instantiating a SOAP client object, then use the <code><strong>login()</strong></code> function to start a web services session in ProcessMaker:</p>

<codeblock><i>loginResponse</i> <b>login</b>(<i>string</i> userid, <i>string</i> password)</codeblock>


<p>The <code><strong>userid</strong></code> is the name of the user and <code><strong>password</strong></code> is the user's password. Note that the function parameters for web service functions have to be passed as an associative array within an array.</p>
<p>For instance, if the user ID is 'andy' and the password is 'foobar', then log in using the following script in PHP:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$client</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> SoapClient<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'http://myserver.com/sysworkflow/en/neoclassic/services/wsdl2'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'userid'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'andy'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'password'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'foobar'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'login'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h4><span id="Using_Hashed_Passwords_from_the_Database">Using Hashed Passwords from the Database</span></h4>

<p>The <strong><code>password</code></strong> can also be an MD5 or SHA256 hash, which is how the passwords are stored in the ProcessMaker database.</p>
<p>The hashed passwords can be found by entering MySQL and examining the field <strong><tt>wf_<em>&lt;WORKSPACE&gt;</em>.RBAC_USERS.USR_PASSWORD</tt></strong> in your installation of ProcessMaker. For instance if using the "workflow" workspace (which is the default), enter the following commands in the command line:</p>

<codeblock>C:\> <strong>cd "C:\Program Files\ProcessMaker\mysql\bin"</strong>   <em>(not necessary in Linux/UNIX)</em>
C:\Program Files\ProcessMaker\mysql\bin> <strong>mysql -u root -p</strong>
Enter password: <strong>*********</strong>

mysql> <strong>select USR_USERNAME, USR_PASSWORD from wf_workflow.RBAC_USERS;</strong>
+--------------+----------------------------------+
| USR_USERNAME | USR_PASSWORD                     |
+--------------+----------------------------------+
| admin        | 21232f297a57a5a743894a0e4a801fc3 |
| vato         | 8185527669f0b54109c7c99488cd08e8 |
| amy          | 7771fbb20af6ef10827c593daa3aff7b |
| patricia     | 823fec7a2632ea7b498c1d0d11c11377 |
| andy         | 10b28c9abf3a62e9dcb63da27a7186d8 |
+--------------+----------------------------------+
5 rows in set (0.00 sec)

mysql> <strong>quit;</strong>
</codeblock>

<p>In the above example, the password is 32 characters long which is the length of an MD5 hash. Most installations of MySQL 5.6 and later are <a href="https://dev.mysql.com/doc/refman/5.6/en/sha256-pluggable-authentication.html">configured to use SHA256</a> instead MD5, so the hashes will be 64 characters long. The encrypted passwords need to identify that they are using encryption when passed to the <code><strong>login()</strong></code> function. Prepend the string <code>"md5:"</code> to the front of each password, so the password for <code>"andy"</code> in the case above would be <code>"md5:10b28c9abf3a62e9dcb63da27a7186d8"</code>. Even if using SHA256, prepending "MD5:" will work. For example:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$client</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> SoapClient<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'http://myserver.com/sysworkflow/en/neoclassic/services/wsdl2'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'userid'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'andy'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'password'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'md5:10b28c9abf3a62e9dcb63da27a7186d8823fec7a2632ea7b498c1d0d11c11377'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//SHA256 hash</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'login'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>If the passwords of the ProcessMaker users are already known, then PHP's <a href="http://www.php.net/md5">md5()</a> function can be used to create the MD5 hash for their passwords. For instance, if the user ID is 'andy' and the password is 'foobar':</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$client</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> SoapClient<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'http://myserver.com/sysworkflow/en/neoclassic/services/wsdl2'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$pass</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'md5:'</span> <span style="color: #339933;">.</span> <a href="http://php.net/md5"><span style="color: #990000;">md5</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'foobar'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'userid'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'andy'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'password'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$pass</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'login'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>Likewise, if MySQL stores the passwords as SHA256 hashes, then use PHP's hash('sha256','password') function. For example:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$client</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> SoapClient<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'http://myserver.com/sysworkflow/en/neoclassic/services/wsdl2'</span><span style="color: #009900;">&#41;</span><br />
<span style="color: #000088;">$pass</span><span style="color: #339933;">=</span><span style="color: #0000ff;">'md5:'</span><span style="color: #339933;">.</span> <a href="http://php.net/hash"><span style="color: #990000;">hash</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sha256'</span><span style="color: #339933;">,</span><span style="color: #0000ff;">'p4sSw0rD'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'userid'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'andy'</span><span style="color: #339933;">,</span><span style="color: #0000ff;">'password'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$pass</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span><span style="color: #339933;">=</span><span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>_SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'login'</span><span style="color: #339933;">,</span><span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h4><span id="Looking_up_Hashed_Password">Looking up Hashed Password</span></h4>

<p>If passwords might change, it is a good idea to have the script lookup the password hash directly from the MySQL database right before calling the <strong><code>login()</code></strong> web service. If using web services inside a ProcessMaker trigger, then the password for a user can be looked up with the <a href="../index.php/ProcessMaker_Functions.html#executeQuery.28.29" title="ProcessMaker Functions">executeQuery()</a> function. For instance, the following code would look up the password for the user "andy":</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$client</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> SoapClient<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'http://myserver.com/sysworkflow/en/neoclassic/services/wsdl2'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$user</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;andy&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;SELECT USR_PASSWORD FROM RBAC_USERS WHERE USR_USERNAME='<span style="color: #006699; font-weight: bold;">$user</span>'&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$pass</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;md5:&quot;</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'USR_PASSWORD'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'userid'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$user</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'password'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$pass</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'login'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
<p style="margin-left:25px"><strong><font color="green">Note:</font></strong> <font color="dimgray">If using a workspace that has been upgraded from version 2, then the workspace information will be stored in 3 database, rather than 1. The hashed passwords can be found in the rb_{workspace}.USERS.USR_PASSWORD field. To looking up the password with executeQuery() the query would be:</font><br>
<div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">$result = executeQuery(&quot;SELECT USR_PASSWORD FROM USERS WHERE USR_USERNAME='$user'&quot;, 'rbac');</div></div>
</p>

<p>If using web services from an external script, then use the MySQL functions provided by your programming language to look up the password. For example, if programming in PHP, use the <a href="http://php.net/manual/en/function.mysql-query.php">mysql_query()</a> function. The MD5 password for the user "andy" is queried on a MySQL server at 192.168.1.100, running on port 3306, which is the default port for MySQL.</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$conn</span> <span style="color: #339933;">=</span> <a href="http://php.net/mysql_connect"><span style="color: #990000;">mysql_connect</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'192.168.1.100:3306'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'root'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'XXXXXXX'</span><span style="color: #009900;">&#41;</span> or<br />
&nbsp; &nbsp;<a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Error connecting to MySQL database.<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/mysql_select_db"><span style="color: #990000;">mysql_select_db</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'wf_workflow'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$user</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;andy&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <a href="http://php.net/mysql_query"><span style="color: #990000;">mysql_query</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;SELECT USR_PASSWORD FROM RBAC_USERS WHERE USR_USERNAME='<span style="color: #006699; font-weight: bold;">$user</span>'&quot;</span><span style="color: #009900;">&#41;</span> or<br />
&nbsp; &nbsp;<a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Error: Unable to query the RBAC_USER table.<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$record</span> <span style="color: #339933;">=</span> <a href="http://php.net/mysql_fetch_array"><span style="color: #990000;">mysql_fetch_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #339933;">,</span> MYSQL_ASSOC<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">!</span><span style="color: #000088;">$record</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Error: Unable to find password for '<span style="color: #006699; font-weight: bold;">$user</span>' in the RBAC_USER table.<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #000088;">$client</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> SoapClient<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'http://myserver.com/sysworkflow/en/neoclassic/services/wsdl2'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$pass</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$record</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'USR_PASSWORD'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'userid'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$user</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'password'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$pass</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'login'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
<p style="margin-left:25px"><strong><font color="green">Note:</font></strong> <font color="dimgray">If using a workspace that has been upgraded from version 2, so the password hash is stored in the <tt><b>tb_{workspace}.USERS.USR_PASSWORD</b></tt> field, then use a database query like the following:</font><br>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><a href="http://php.net/mysql_select_db"><span style="color: #990000;">mysql_select_db</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'rb_workflow'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$user</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;andy&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <a href="http://php.net/mysql_query"><span style="color: #990000;">mysql_query</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;SELECT USR_PASSWORD FROM USERS WHERE USR_USERNAME='<span style="color: #006699; font-weight: bold;">$user</span>'&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
</p>


<h4><span id="loginResponse_object"><code>loginResponse</code> object</span></h4>


<p>The <strong><code>login()</code></strong> function returns a <strong><code>loginResponse</code></strong> object, which contains the following data members:</p>
<ul>
    <li><code><em>integer</em> <strong>status_code</strong>:</code> Zero if a successful login, or a non-zero error number if unsuccessful.</li>
    <li><code><em>string</em> <strong>message</strong>:</code> If a successful login, the session ID. If an unsuccessful login, an error message.</li>
    <li><code><em>string</em> <strong>version</strong>:</code> The version number of ProcessMaker's web services, which is currently "2.0". This number can be checked to verify that the web services haven't changed when upgrading ProcessMaker.</li>
    <li><code><em>string</em> <strong>timestamp</strong>:</code> The datetime when the session began.</li></ul>
<p>It is a good idea to check whether a login was successful by checking the <strong><code>status_code</code></strong> of the <strong><code>loginResponse</code></strong> object:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">status_code</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$sessionId</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">message</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Unable to connect to ProcessMaker.<span style="color: #000099; font-weight: bold;">\n</span>Error Number: <span style="color: #006699; font-weight: bold;">$result-&gt;status_code</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span> <span style="color: #339933;">.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #0000ff;">&quot;Error Message: <span style="color: #006699; font-weight: bold;">$result-&gt;message</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span></div></div>


<p>Once logged in, use web services to remotely control ProcessMaker.</p>

<h3><span id="LDAP_and_Active_Directory_Users">LDAP and Active Directory Users</span></h3>

<p>If logging in as a user who was imported from LDAP or Active Directory, then MD5 passwords can NOT be used. Imported users can <em>only</em> log in using using their real passwords (except if the Authentication Source for those users is switched from LDAP or AD to MySQL).</p>

<p>To use LDAP or Active Directory users in your scripts whose passwords might change, it is recommended to create a dummy user whose password will not change to do all your web services work. To <a href="../index.php/ProcessMaker_Functions.html#PMFSendVariables.28.29">send in variables</a> and <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#Uploading_Input_Documents">upload input documents</a> to the case, then make the dummy user a <a href="../index.php/Process_Supervisors.html">Process Supervisor</a> and give their rights to update specific Dynaforms and input documents. For the dummy user to be able
<a href="../index.php/ProcessMaker_Functions.html#PMFNewCase.28.29">start cases</a>, assign the dummy user to the initial task(s) in the process.</p>


<p>To <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#routeCase.28.29">route cases</a>, then add the dummy user to the list of <a href="../index.php/2.0/Processes.html#Assign_Users_and_User_Groups_.28Ad-hoc.29"><em>ad hoc</em> users</a> for tasks. Then, <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#reassignCase.28.29" > reassign the case</a> to the dummy user and route on the case. For ProcessMaker to show that a real user worked on the case, write a trigger to set the real user in the database after the task has been closed. For example, create the following trigger in ProcessMaker:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$caseId</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;">//case variables set with sendVariables() web service:</span><br />
<span style="color: #000088;">$lastIndex</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>lastIndex<span style="color: #339933;">;</span><br />
<span style="color: #000088;">$realUserId</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>realUserId<span style="color: #339933;">;</span><br />
executeQuery<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;UPDATE APP_DELEGATION SET USR_UID='<span style="color: #006699; font-weight: bold;">$realUserId</span>' WHERE APP_UID='<span style="color: #006699; font-weight: bold;">$caseId</span>' AND DEL_INDEX=<span style="color: #006699; font-weight: bold;">$lastIndex</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>


<p>In the web services script, first route the case to the next task in the process with <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#routeCase.28.29">routeCase()</a>, then send in the index number for the previous task and the real user's unique ID with <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#sendVariables.28.29">sendVariables()</a>. Then, call <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#executeTrigger.28.29"> executeTrigger()</a> to fire the above trigger to change the user in the database. Remember to only change the user in this way for <em>closed</em> tasks in the case.</p>

<h2><span id="Web_Services_Response_Objects">Web Services Response Objects</span></h2>


<p>The ProcessMaker Web Services functions generally return two types of response objects, either a <strong><code>pmResponse</code></strong> object or an object containing an object containing an array of objects.</p>
<p><strong>1.</strong> The ProcessMaker web services functions that do not return lists return a <strong><code>pmResponse</code></strong> object. The object has the following structure:</p>

<codeblock>   object pmResponse
   (
      [integer status_code]
      [string message]
      [string time_stamp]
   )
</codeblock>


<p><strong>Where:</strong></p>
<ul>
    <li><code><em>integer</em> <strong>status_code</strong>:</code> If the function was executed successfully this parameter is 0, otherwise it is a non-zero error number.</li>
    <li><code><em>string</em> <strong>message</strong>:</code> The returned function message. If an error, then it will return an error message.</li>
    <li><code><em>string</em> <strong>time_stamp</strong>:</code> The date and time when the function was performed.</li></ul>
<p>It is recommended to always check the status_code to verify that a web services function executed correctly.</p>
<p><strong>2.</strong> Web services functions that return lists such as, <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#userList.28.29">userList()</a> and <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#processList.28.29">processList()</a>, will return an object containing an object which contains an array of objects. Here is the structure of the <strong><code>processListResponse</code></strong> object returned by <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#processList.28.29">processList()</a>:</p>

<codeblock><em>object</em> processListResponse
(
   <em>object</em> processes
   (
       [0]<em>array</em>
       (
            <em>object</em> processListStruct
           (
                [<em>string</em> guid]
                [<em>string</em> name]
           )
       )
       [1]<em>array</em>
       (
            <em>object</em> processListStruct
           (
                [<em>string</em> guid]
                [<em>string</em> name]
           )
       )
       ...
   )
)
</codeblock>


<p><strong>Where:</strong></p>
<ul>
    <li><code><em>string</em> <strong>guid</strong>:</code> Process ID.</li>
    <li><code><em>string</em> <strong>name</strong>:</code> Process name.</li></ul>
<p>All the web services that return lists use the same basic object structure, although the names of the objects change. The innermost objects always contain the <strong>guid</strong> and <strong>name</strong> member variables, so the data can be accessed in basically the same way for all the web services functions.</p>
<p>For each function, check the provided example to find out the names of the objects and see how to access their data. It is also recommended to use PHP's <a href="http://www.php.net/manual/en/function.var-dump.php">var_dump()</a> function to investigate the structure of web services objects.</p>

<p>When there is an error obtaining a list, the object returned has a slightly different structure. It contains the same objects, but does not contain an array:</p>

<codeblock><em>object</em> processListResponse
(
   <em>object</em> processes
   (
       <em>object</em> processListStruct
       (
           [<em>string</em> guid]
           [<em>string</em> name]
       )
   )
)
</codeblock>


<p><strong>Where:</strong></p>
<ul>
    <li><code><em>string</em> <strong>guid</strong>:</code> The error number.</li>
    <li><code><em>string</em> <strong>name</strong>:</code> The error message.</li></ul>
<p>When using a web services list function, it is recommended to use PHP's <a href="http://us3.php.net/manual/en/function.is-array.php">is_array()</a> function to check the return object to verify whether it contains an array. If it does not contain an array, an error has occurred.</p>

<h2><span id="Web_Services_Error_Numbers">Web Services Error Numbers</span></h2>


<p>After calling a web services function, it is a good idea to check its return object to verify that the function executed correctly. The <strong><code>guid</code></strong> contains the error number and the <strong><code>name</code></strong> contains the error message, but these member variables have to be accessed differently depending on the type of return object. To see how to check for the error number, see the provided examples for the different web services functions.</p>

<table border="1" cellspacing="0" cellpadding="2">
    <tbody>
        <tr>
            <th>Error Number</th>
            <th>Function</th>
            <th>Status Message</th>
        </tr>
        <tr>
            <td>0</td>
            <td>all</td>
            <td>Command executed successfully</td>
        </tr>
        <tr>
            <td>1</td>
            <td>login</td>
            <td>User does not have access to system</td>
        </tr>
        <tr>
            <td>2</td>
            <td><em>many functions</em></td>
            <td>Insufficient privileges to execute this function</td>
        </tr>
        <tr>
            <td>3</td>
            <td>login<br>assignUserToGroup</td>
            <td>User not registered in the system</td>
        </tr>
        <tr>
            <td>4</td>
            <td>login</td>
            <td>Wrong password</td>
        </tr>
        <tr>
            <td>5</td>
            <td>login</td>
            <td>user is inactive</td>
        </tr>
        <tr>
            <td>6</td>
            <td>createUser</td>
            <td>Invalid role</td>
        </tr>
        <tr>
            <td>7</td>
            <td>createUser</td>
            <td>User ID: <strong><code>$userId</code></strong> already exists!</td>
        </tr>
        <tr>
            <td>8</td>
            <td>assignUserToGroup</td>
            <td>User exists in the group</td>
        </tr>
        <tr>
            <td>9</td>
            <td>assignUserToGroup</td>
            <td>Group not registered in the system</td>
        </tr>
        <tr>
            <td>10</td>
            <td>newCase</td>
            <td>Array of variables is empty</td>
        </tr>
        <tr>
            <td>11</td>
            <td>newCase</td>
            <td>Invalid process <strong><code>$processId</code></strong></td>
        </tr>
        <tr>
            <td>12</td>
            <td>newCase</td>
            <td>No starting task defined</td>
        </tr>
        <tr>
            <td>13</td>
            <td>newCase</td>
            <td>Multiple starting tasks</td>
        </tr>
        <tr>
            <td>14</td>
            <td>newCase</td>
            <td>Task invalid or the user is not assigned to the task</td>
        </tr>
        <tr>
            <td>15</td>
            <td>derivateCase</td>
            <td>The task is defined for Manual assignment</td>
        </tr>
        <tr>
            <td>16</td>
            <td>getCaseInfo</td>
            <td>Case <strong><code>$caseNumber</code></strong> doesn't exist</td>
        </tr>
        <tr>
            <td>17</td>
            <td>routeCase <br>executeTrigger</td>
            <td>This case is assigned to another user</td>
        </tr>
        <tr>
            <td>18</td>
            <td>routeCase <br>executeTrigger <br>sendVariables</td>
            <td>This delegation is already closed or does not exist</td>
        </tr>
        <tr>
            <td>19</td>
            <td>routeCase <br>executeTrigger</td>
            <td>This case is in status <strong><code>$caseType</code></strong></td>
        </tr>
        <tr>
            <td>20</td>
            <td>routeCase</td>
            <td>Please specify the delegation index</td>
        </tr>
        <tr>
            <td>21</td>
            <td>routeCase</td>
            <td>Can not route a case with Manual Assignment using web services</td>
        </tr>
        <tr>
            <td>22</td>
            <td>routeCase</td>
            <td>Task does not have a routing rule; check process definition</td>
        </tr>
        <tr>
            <td>23</td>
            <td>sendVariables</td>
            <td>The variable's parameter length is zero</td>
        </tr>
        <tr>
            <td>24</td>
            <td>sendVariables</td>
            <td>The variable's parameter is not a array</td>
        </tr>
        <tr>
            <td>25</td>
            <td>createUser</td>
            <td>User ID is required</td>
        </tr>
        <tr>
            <td>26</td>
            <td>createUser</td>
            <td>Password is required</td>
        </tr>
        <tr>
            <td>27</td>
            <td>createUser</td>
            <td>First name is required</td>
        </tr>
        <tr>
            <td>28</td>
            <td>sendMessage</td>
            <td>Template file doesn't exist</td>
        </tr>
        <tr>
            <td>29</td>
            <td>sendMessage</td>
            <td>Problems sending the email</td>
        </tr>
        <tr>
            <td>30</td>
            <td>reassignCase</td>
            <td>Target and Origin user are the same</td>
        </tr>
        <tr>
            <td>31</td>
            <td>reassignCase</td>
            <td>Invalid origin user</td>
        </tr>
        <tr>
            <td>32</td>
            <td>reassignCase</td>
            <td>This case is not open.</td>
        </tr>
        <tr>
            <td>33</td>
            <td>reassignCase</td>
            <td>Invalid Case Delegation index for this user</td>
        </tr>
        <tr>
            <td>34</td>
            <td>reassignCase</td>
            <td>The target user does not have rights to execute the task</td>
        </tr>
        <tr>
            <td>35</td>
            <td>reassignCase</td>
            <td>The target user destination is invalid</td>
        </tr>
        <tr>
            <td>36</td>
            <td>reassignCase</td>
            <td>The case could not be reassigned.</td>
        </tr>
        <tr>
            <td>100</td>
            <td>systemInformation</td>
            <td>A system error message.</td>
        </tr>

    </tbody>
</table>

<h2><span id="Web_Services_Security">Web Services Security</span></h2>


<p>Remember that login passwords are sent as plain text inside SOAP packets, so any packet sniffer watching the traffic can grab passwords. For this reason, it is recommended to store and execute your web services script on the same machine as the ProcessMaker server, so the packets aren't passing over a public network. If planning on passing SOAP packets over a public network, use an SSL or TLS connection to encrypt the traffic.</p>

<p>Remember that using an MD5 password is little protection. MD5 hashes can be cracked (and passwords that are common words in dictionaries are especially easy to crack with a password dictionary). More importantly, anyone watching the internet traffic can grab the password hashes and use those hashes directly in a script to log in.</p>

<p>Also remember to protect your passwords if your web services script is stored in a publicly accessible place. If your script is executable from the internet, your script should NOT contain passwords either in plain text form or a MD5 hash. Either use a database query in the script to look up the password or store the passwords in a separate file that is not publicly readable.</p>
<p>For example, create a separate file which is not publicly accessible named <strong><tt>credentials.php</tt></strong>:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">&lt;?php</span><br />
<span style="color: #000088;">$username</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'janedoe'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$password</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'p@55w0rd'</span><span style="color: #339933;">;</span><br />
<span style="color: #000000; font-weight: bold;">?&gt;</span></div></div>


<p>Then, import the <strong><tt>credentials.php</tt></strong> file into your publicly accessible script:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">&lt;?php</span><br />
<span style="color: #b1b100;">require_once</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'credentials.php'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$client</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> SoapClient<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'http://myserver.com/sysworkflow/en/neoclassic/services/wsdl2'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'userid'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$username</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'password'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$password</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'login'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">...</span></div></div>

<h2><span id="WSDL_Web_Services_Functions">WSDL Web Services Functions</span></h2>
<h3><span id="userList.28.29">userList()</span></h3>


<p><span id="User_List"><strong><code>userList()</code></strong></span> returns a list of the users. For privileges to see the list, the user logged must have the <a href="../3.0/Roles.html#PM_USERS" title="3.0/Roles">PM_USERS</a> permission in their <a href="../3.0/Roles.html" title="3.0/Roles">role</a>.</p>

<codeblock>  userListResponse <strong>userList</strong>(<em>string</em> sessionId)
</codeblock>


<p><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID, which was obtained during <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#Logging_in_with_ProcessMaker.27s_WSDL_web_services">login</a>.</li></ul>
<p><strong>Return value:</strong></p>
<p>The <strong><code>userListResponse</code></strong> object with the following structure:</p>

<codeblock><em>object</em> userListResponse
(
   <em>object</em> users
   (
       [0]<em>array</em>
       (
            <em>object</em> userListStruct
           (
                [<em>string</em> guid]
                [<em>string</em> name]
           )
       )
       ...
   )
)
</codeblock>


<p><strong>Where:</strong></p>
<ul>
<li><code><em>string</em> <strong>guid</strong>:</code> The user ID.</li>
<li><code><em>string</em> <strong>name</strong>:</code> The user name.</li></ul>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'userList'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$usersArray</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">users</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$usersArray</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$usersArray</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$user</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;User name: <span style="color: #006699; font-weight: bold;">$user-&gt;name</span>, User ID: <span style="color: #006699; font-weight: bold;">$user-&gt;guid</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error: <span style="color: #006699; font-weight: bold;">$usersArray-&gt;name</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span id="groupList.28.29">groupList()</span></h3>


<p><span id="Group_List"><strong><code>groupList()</code></strong> returns a list of the groups. For privileges to see the list, the user logged in must have the <a href="../3.0/Roles.html#PM_USERS" title="3.0/Roles">PM_USERS</a> permission in their <a href="../3.0/Roles.html" title="3.0/Roles">role</a>.</span></p>

<codeblock>groupListResponse <strong>groupList</strong>(<em>string</em> sessionId)
</codeblock>


<p><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID, which was obtained during <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#Logging_in_with_ProcessMaker.27s_WSDL_web_services">login</a>.</li></ul>
<p><strong>Return value:</strong></p>
<p>The <strong>groupListResponse</strong> object with the following structure:</p>

<codeblock><em>object</em> groupListResponse
(
   <em>object</em> groups
   (
       [0]<em>array</em>
       (
            <em>object</em> groupListStruct
           (
                [<em>string</em> guid]
                [<em>string</em> name]
           )
       )
       ...
   )
)
</codeblock>


<p><strong>Where:</strong></p><ul>
<li><code><em>string</em> <strong>guid</strong>:</code> The group ID.</li>
<li><code><em>string</em> <strong>name</strong>:</code> The group name.</li></ul>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'groupList'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$groupsArray</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">groups</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$groupsArray</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$groupsArray</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$group</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Group name: <span style="color: #006699; font-weight: bold;">$group-&gt;name</span>, Group ID: <span style="color: #006699; font-weight: bold;">$group-&gt;guid</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error: <span style="color: #006699; font-weight: bold;">$groupsArray-&gt;guid</span> <span style="color: #006699; font-weight: bold;">$groupsArray-&gt;name</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span id="departmentList.28.29">departmentList()</span></h3>


<p><span id="Department_List"><strong><code>departmentList()</code></strong></span> returns a list of the departments. For privileges to see the list, the user logged in must have the <a href="../3.0/Roles.html#PM_USERS" title="3.0/Roles">PM_USERS</a> permission in their <a href="../3.0/Roles.html">role</a>. This function is available as of version 1.2-3862Beta and later.</p>

<codeblock>departmentListResponse <strong>departmentList</strong>(<em>string</em> sessionId)
</codeblock>


<p><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID, which was obtained during <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#Logging_in_with_ProcessMaker.27s_WSDL_web_services">login</a>.</li></ul>
<p><strong>Return value:</strong></p>
<p>The <strong><code>departmentListResponse</code></strong> object with the following structure:</p>

<codeblock><em>object</em> departmentListResponse
(
   <em>object</em> departments
   (
       [0]<em>array</em>
       (
            <em>object</em> departmentListStruct
           (
                [<em>string</em> guid]
                [<em>string</em> name]
                [<em>string</em> parentUID]
           )
       )
       ...
   )
)
</codeblock>


<p><strong>Where:</strong></p><ul>
<li><code><em>string</em> <strong>guid</strong>:</code> The department unique ID.</li>
<li><code><em>string</em> <strong>name</strong>:</code> The department name.</li>
<li><code><em>string</em> <strong>parentUID</strong>:</code> The unique ID for the parent department. If it is a top-level department, then parentUID will be an empty string.</li></ul>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'departmentList'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$deptsArray</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">departments</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$deptsArray</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$deptsArray</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$dept</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Department name: <span style="color: #006699; font-weight: bold;">$dept-&gt;name</span>, ID: <span style="color: #006699; font-weight: bold;">$dept-&gt;guid</span>, Parent: <span style="color: #006699; font-weight: bold;">$dept-&gt;parentUID</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error: <span style="color: #006699; font-weight: bold;">$deptsArray-&gt;guid</span> <span style="color: #006699; font-weight: bold;">$deptsArray-&gt;name</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span id="roleList.28.29">roleList()</span></h3>


<p><span id="Role_List"><strong><code>roleList()</code></strong></span> returns a list of the roles. For privileges to see the list, the user logged in must have the <a href="../3.0/Roles.html#PM_USERS" title="3.0/Roles"><strong><code>PM_USERS</code></strong></a> permission in their <a href="../3.0/Roles.html" title="3.0/Roles">role</a>.</p>

<codeblock>  roleListResponse <strong>roleList</strong>(<em>string</em> sessionId)
</codeblock>


<p><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID, which was obtained during <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#Logging_in_with_ProcessMaker.27s_WSDL_web_services">login</a>.</li></ul>
<p><strong>Return value:</strong></p>


<p>The <strong><code>roleListResponse</code></strong> object with the following structure:</p>

<codeblock><em>object</em> roleListResponse
(
   <em>object</em> roles
   (
       [0]array
       (
            <em>object</em> roleListStruct
           (
                [<em>string</em> guid]
                [<em>string</em> name]
           )
       )
       ...
   )
)
</codeblock>


<p><strong>Where:</strong></p><ul>
<li><code><em>string</em> <strong>guid</strong>:</code> The role ID.</li>
<li><code><em>string</em> <strong>name</strong>:</code> The role name.</li></ul>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'roleList'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$rolesArray</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">roles</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$rolesArray</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$rolesArray</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$role</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Role name: <span style="color: #006699; font-weight: bold;">$role-&gt;name</span>, Role ID: <span style="color: #006699; font-weight: bold;">$role-&gt;guid</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error: <span style="color: #006699; font-weight: bold;">$rolesArray-&gt;name</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span id="createUser.28.29">createUser()</span></h3>


<p><span id="Create_a_new_User"><strong><code>createUser()</code></strong></span> creates a new user. For privileges to create a user, the user logged in must have the <strong><code>PM_USERS</code></strong> permission in their <a href="../index.php/2.0/Roles.html" title="Roles">role</a>.</p>

<codeblock>pmResponse <strong>createUser</strong>(<em>string</em> sessionId, <em>string</em> userId, <em>string</em> firstname,
                      <em>string</em> lastname, <em>string</em> email, <em>string</em> role, <em>string</em> password)
</codeblock>


<p><strong>Parameters:</strong></p>
<ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID, which was obtained during <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#Logging_in_with_ProcessMaker.27s_WSDL_web_services">login</a>.</li>


<li><code><em>string</em> <strong>userId</strong>:</code> The username for the new user. (The unique ID for the user will be automatically generated.)</li>
<li><code><em>string</em> <strong>firstname</strong>:</code> The user's first name.</li>
<li><code><em>string</em> <strong>lastname</strong>:</code> The user's last name.</li>
<li><code><em>string</em> <strong>email</strong>:</code> The user's email address.</li>
<li><code><em>string</em> <strong>role</strong>:</code> The user's role, such as <code>'PROCESSMAKER_ADMIN'</code>, <code>'PROCESSMAKER_MANAGER'</code> or <code>'PROCESSMAKER_OPERATOR'</code>. Possible values can be looked up with the <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#Role_List">roleList()</a> function.</li>
<li><code><em>string</em> <strong>password</strong>:</code> The user's password, such as <code>'Be@gle2'</code>. (It will be automatically converted into an MD5 hash when inserted in the database.)</li></ul>
<p>Parameters <strong><code>userId</code></strong>, <strong><code>firstname</code></strong> and <strong><code>role</code></strong> are required and may not be empty strings.</p>
<p><strong>Return value:</strong></p>
<p>From version 1.2-2740 on, <strong><code>createUser()</code></strong> returns a <strong><code>createUserResponse</code></strong> object with the following structure:</p>

<codeblock><em>object</em> createUserResponse
(
    [<em>integer</em> status_code]
    [<em>string</em> message]
    [<em>string</em> userUID]
    [<em>string</em> timestamp]
)
</codeblock>


<p>If successful, the <strong><code>message</code></strong> will contain the first name, last name and username of the new user, otherwise it will contain an error message.</p>
<p>Before version 1.2-2740, <strong><code>createUser()</code></strong> returned a <strong><code>pmResponse</code></strong> object. If the function executed successfully, the <strong><code>message</code></strong> contained the new user's role.</p>
<p>Example:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'userId'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'howdy4'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'firstname'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'Howdy'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'lastname'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'Foobar'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'email'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'howdy@example.com'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'role'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'PROCESSMAKER_ADMIN'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'password'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'HowDy123'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'createUser'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">status_code</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;<span style="color: #006699; font-weight: bold;">$result-&gt;message</span><span style="color: #000099; font-weight: bold;">\n</span>User UID: <span style="color: #006699; font-weight: bold;">$result-&gt;userUID</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Unable to create user.<span style="color: #000099; font-weight: bold;">\n</span>Error Number: <span style="color: #006699; font-weight: bold;">$result-&gt;status_code</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span> <span style="color: #339933;">.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #0000ff;">&quot;Error Message: <span style="color: #006699; font-weight: bold;">$result-&gt;message</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="createGroup.28.29">createGroup()</span></h3>


<p><span id="Create_Group"><strong><code>createGroup()</code></strong></span> creates a new group. For privileges to create a group, the user logged in must have the <a href="../3.0/Roles.html#PM_USERS" title="3.0/Roles"><strong><code>PM_USERS</code></strong></a> permission in their <a href="../3.0/Roles.html" title="3.0/Roles">role</a>. Available as of version 1.2-3862Beta and later.</p>

<codeblock>createGroupResponse <strong>createGroup</strong>(<em>string</em> sessionId, <em>string</em> name)
</codeblock>


<p><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID (which was obtained at login).</li>
<li><code><em>string</em> <strong>name</strong>:</code> The name of the new group.</li></ul>
<p><strong>Return value:</strong></p>
<p>A <strong><code>createGroupResponse</code></strong> object with the following structure:</p>

<codeblock><em>object</em> createGroupResponse
(
    [<em>integer</em> status_code]
    [<em>string</em> message]
    [<em>string</em> groupUID]
    [<em>string</em> timestamp]
)
</codeblock>


<p>If successful, the <strong><code>message</code></strong> will contain the text "Group X created successfully", otherwise it will contain an error message.</p>
<p>Example:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'name'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'Independent Contractors'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'createGroup'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">status_code</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;<span style="color: #006699; font-weight: bold;">$result-&gt;message</span><span style="color: #000099; font-weight: bold;">\n</span>Group UID: <span style="color: #006699; font-weight: bold;">$result-&gt;groupUID</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Unable to create group.<span style="color: #000099; font-weight: bold;">\n</span>Error Number: <span style="color: #006699; font-weight: bold;">$result-&gt;status_code</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span> <span style="color: #339933;">.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #0000ff;">&quot;Error Message: <span style="color: #006699; font-weight: bold;">$result-&gt;message</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="createDepartment.28.29">createDepartment()</span></h3>


<p><span id="Create_Department"><strong><code>createDepartment()</code></strong></span> creates a new department. For privileges to create a department, the user logged in  must have the <a href="../3.0/Roles.html#PM_USERS" title="3.0/Roles"><strong><code>PM_USERS</code></strong></a> permission in their <a href="../3.0/Roles.html" title="3.0/Roles">role</a>. Available as of version 1.2-3862Beta and later.</p>

<codeblock>createDepartmentResponse <strong>createDepartment</strong>(<em>string</em> sessionId, <em>string</em> name, <em>string</em> parentUID)
</codeblock>


<p><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID, which was obtained during <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#Logging_in_with_ProcessMaker.27s_WSDL_web_services">login</a>.</li>
<li><code><em>string</em> <strong>name</strong>:</code> The name of the new department.</li>
<li><code><em>string</em> <strong>parentUID</strong>:</code> The unique ID of the parent department, which can be obtained with <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#departmentList.28.29">departmentList()</a>. To make a top-level department, set to '' (an empty string).</li></ul>
<p><strong>Return value:</strong></p>
<p>A <strong><code>createDepartmentResponse</code></strong> object with the following structure:</p>

<codeblock><em>object</em> createDepartmentResponse
(
    [<em>integer</em> status_code]
    [<em>string</em> message]
    [<em>string</em> departmentUID]
    [<em>string</em> timestamp]
)
</codeblock>


<p>If successful, the <strong><code>message</code></strong> will contain the text "Department X created successfully", otherwise it will contain the error message.</p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'name'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'Human Resources'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'parentUID'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">''</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'createDepartment'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">status_code</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;<span style="color: #006699; font-weight: bold;">$result-&gt;message</span><span style="color: #000099; font-weight: bold;">\n</span>Department UID: <span style="color: #006699; font-weight: bold;">$result-&gt;departmentUID</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Unable to create department.<span style="color: #000099; font-weight: bold;">\n</span>Error Number: <span style="color: #006699; font-weight: bold;">$result-&gt;status_code</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span> <span style="color: #339933;">.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #0000ff;">&quot;Error Message: <span style="color: #006699; font-weight: bold;">$result-&gt;message</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="assignUserToGroup.28.29">assignUserToGroup()</span></h3>


<p><span id="Assign_a_User_to_a_Group"><strong><code>assignUserToGroup()</code></strong> assigns a user to a group. For privileges to assign a user, the user logged in must have the <a href="../3.0/Roles.html#PM_USERS" title="3.0/Roles"><strong><code>PM_USERS</code></strong></a> permission in their <a href="../3.0/Roles.html" title="3.0/Roles">role</a>.</span></p>

<codeblock>pmResponse <strong>assignUserToGroup</strong>(<em>string</em> sessionId, <em>string</em> userId, <em>string</em> groupId)
</codeblock>


<p><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID, which was obtained during <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#Logging_in_with_ProcessMaker.27s_WSDL_web_services">login</a>.</li>
<li><code><em>string</em> <strong>userId</strong>:</code> The ID of the user, which can be found with the <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#userList.28.29">userList()</a> function.</li>
<li><code><em>string</em> <strong>groupId</strong>:</code> The ID of the group, which can be found with the <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#groupList.28.29">groupList()</a> function.</li></ul>
<p><strong>Return value:</strong></p>


<p>A <strong><code>pmResponse</code></strong> object.</p>

<h3><span id="assignUserToDepartment.28.29">assignUserToDepartment()</span></h3>


<p><span id="Assign_a_User_to_a_Department"><strong><code>assignUserToDepartment()</code></strong></span> assigns a user to a department. For privileges to assign a user, the user logged in must have the <a href="../index.php/2.0/Roles.html#PM_USERS"><strong><code>PM_USERS</code></strong></a> permission in their <a href="../index.php/2.0/Roles.html" title="2.0/Roles">role</a>.</p>

<codeblock>pmResponse <strong>assignUserToDepartment</strong>(<em>string</em> sessionId, <em>string</em> userId, <em>string</em> departmentId, <em>string</em> manager)
</codeblock>


<p><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID, which was obtained during <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#Logging_in_with_ProcessMaker.27s_WSDL_web_services">login</a>.</li>
<li><code><em>string</em> <strong>userId</strong>:</code> The ID of the user, which can be found with the <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#userList.28.29">userList()</a> function.</li>
<li><code><em>string</em> <strong>departmentId</strong>:</code> The ID of the group, which can be found with the <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#departmentList.28.29">departmentList()</a> function.</li>
<li><code><em>string</em> <strong>manager</strong>:</code> The ID of the department's manager, which can be found with the <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#userList.28.29">userList()</a> function.</li></ul>


<p><strong>Return value:</strong></p>
<p>A <strong><code>pmResponse</code></strong> object.</p>

<h3><span id="processList.28.29">processList()</span></h3>


<p><span id="Process_List"><strong><code>processList()</code></strong></span> returns a list of the processes. For privileges to see the list, the user logged in must have the <a href="../3.0/Roles.html#PM_FACTORY" title="3.0/Roles"><strong><code>PM_FACTORY</code></strong></a> permission in their <a href="../3.0/Roles.html" title="3.0/Roles">role</a>.</p>
<codeblock>  processListResponse <strong>processList</strong>(<em>string</em> sessionId)
</codeblock>


<p><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID, which was obtained during <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#Logging_in_with_ProcessMaker.27s_WSDL_web_services">login</a>.</li></ul>
<p><strong>Return value:</strong></p>
<p>The <strong>processListResponse</strong> object with the following structure:</p>

<codeblock><em>object</em> processListResponse
(
   <em>object</em> processes
   (
       [0]<em>array</em>
       (
            <em>object</em> processListStruct
           (
                [<em>string</em> guid]
                [<em>string</em> name]
           )
       )
       ...
   )
)
</codeblock>


<p><strong>Where:</strong></p><ul>
<li><code><em>string</em> <strong>guid</strong>:</code> The process ID.</li>
<li><code><em>string</em> <strong>name</strong>:</code> The process name.</li></ul>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'processList'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$processesArray</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">processes</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$processesArray</span> <span style="color: #339933;">!=</span> <span style="color: #009900;">&#40;</span>object<span style="color: #009900;">&#41;</span> <span style="color: #009900; font-weight: bold;">NULL</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$processesArray</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$processesArray</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$process</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Process name: <span style="color: #006699; font-weight: bold;">$process-&gt;name</span>, Process ID: <span style="color: #006699; font-weight: bold;">$process-&gt;guid</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Process name: <span style="color: #006699; font-weight: bold;">$processesArray-&gt;name</span>, Process ID: <span style="color: #006699; font-weight: bold;">$processesArray-&gt;guid</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error: <span style="color: #006699; font-weight: bold;">$processesArray-&gt;name</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span id="taskList.28.29">taskList()</span></h3>


<p><span id="Task_List"><strong><code>taskList()</code></strong></span> returns a list of the tasks in which the user logged in has privileges.</p>

<codeblock>  taskListResponse <strong>taskList</strong>(<em>string</em> sessionId)
</codeblock>


<p><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID, which was obtained during <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#Logging_in_with_ProcessMaker.27s_WSDL_web_services">login</a>.</li></ul>
<p><strong>Return value:</strong></p>
<p>The <strong><code>taskListResponse</code></strong> object with the following structure:</p>

<codeblock><em>object</em> taskListResponse
(
   <em>object</em> tasks
   (
       [0]<em>array</em>
       (
            <em>object</em> tasksListStruct
           (
                [<em>string</em> guid]
                [<em>string</em> name]
           )
       )
       ...
   )
)
</codeblock>


<p>If the user has no assigned tasks, then <strong><code>taskList()</code></strong> returns an empty stdClass, which is equivalent to <code>(object) NULL</code>. To avoid errors, check whether the return object equals <code>(object) NULL</code>.</p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'taskList'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$tasksArray</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">tasks</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$tasksArray</span> <span style="color: #339933;">!=</span> <span style="color: #009900;">&#40;</span>object<span style="color: #009900;">&#41;</span> <span style="color: #009900; font-weight: bold;">NULL</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$tasksArray</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$task</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Task name: <span style="color: #006699; font-weight: bold;">$task-&gt;name</span>, Task ID: <span style="color: #006699; font-weight: bold;">$task-&gt;guid</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;There are zero tasks assigned to this user. <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span id="taskCase.28.29">taskCase()</span></h3>


<p><span id="Task_for_a_Case"><strong><code>taskCase()</code></strong></span> returns the current task for a given case. Note that the user logged in must have the privileges to access the task.</p>

<codeblock>taskCaseResponse <strong>taskCase</strong>(<em>string</em> sessionId, <em>string</em> caseId)
</codeblock>


<p><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID, which was obtained during <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#Logging_in_with_ProcessMaker.27s_WSDL_web_services">login</a>.</li>
<li><code><em>string</em> <strong>caseId</strong>:</code> The case ID. The <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#caseList.28.29">caseList()</a> function can be used to find the ID number for cases.</li></ul>
<p><strong>Return value:</strong></p>


<p>A <strong><code>taskCaseResponse</code></strong> object with the structure:</p>

<codeblock><em>object</em> taskCaseResponse
(
    <em>object</em> taskCases
    (
        <em>object</em> taskCaseStruct
        (
            [<em>string</em> guid]
            [<em>string</em> name]
        )
    )
)
</codeblock>


<p><strong>Where:</strong></p><ul>
<li><code><em>string</em> <strong>guid</strong>:</code> The ID of the current task.</li>
<li><code><em>string</em> <strong>name</strong>:</code> The name of the current task.</li></ul>
<p>If there is no current task, or the user doesn't have privileges to access the current task, an empty <code>stdClass</code> will be returned, which is equivalent to <code>(object) NULL</code>. To avoid errors check whether the returned <strong><code>taskCaseResponse</code></strong> is equal to <code>(object) NULL</code>.</p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'caseId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$caseId</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'taskCase'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span> <span style="color: #339933;">!=</span> <span style="color: #009900;">&#40;</span>object<span style="color: #009900;">&#41;</span> <span style="color: #009900; font-weight: bold;">NULL</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Task name: <span style="color: #006699; font-weight: bold;">{$result-&gt;taskCases-&gt;name}</span>, Task ID: <span style="color: #006699; font-weight: bold;">{$result-&gt;taskCases-&gt;guid}</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;No task or unable to access task. <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="caseList.28.29">caseList()</span></h3>


<p><span id="Case_List"><strong><code>caseList()</code></strong></span> returns a list of the cases for the user logged in.</p>

<codeblock>caseListResponse <strong>caseList</strong>(<em>string</em> sessionId)
</codeblock>


<p><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID, which was obtained during <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#Logging_in_with_ProcessMaker.27s_WSDL_web_services">login</a>.</li></ul>
<p><strong>Return value:</strong></p>


<p>The <strong>caseListResponse</strong> object with the following structure:</p>

<codeblock><em>object</em> caseListResponse
(
   <em>object</em> cases
   (
       [0]<em>array</em>
       (
            <em>object</em> caseListStruct
           (
                [<em>string</em> guid]
                [<em>string</em> name]
                [<em>string</em> status]
                [<em>string</em> delIndex]
           )
       )
       ...
   )
)
</codeblock>


<p><strong>Where:</strong></p><ul>
<li><code><em>string</em> <strong>guid</strong>:</code> The case's unique ID.</li>
<li><code><em>string</em> <strong>name</strong>:</code> The case name.</li>
<li><code><em>string</em> <strong>status</strong>:</code> The case status. Possible values include <code>'TO_DO'</code>, <code>'DRAFT'</code>, <code>'COMPLETED'</code>, <code>'PAUSED'</code> and <code>'CANCELED'</code>.</li>
<li><code><em>int</em> <strong>delIndex</strong>:</code> The delegation index, which is a positive integer, to identify the current task of the case. The first task is 1, the second task is 2, etc.</li></ul>
<p>If the user has no cases, then <strong><code>caseList()</code></strong> returns an empty <code>stdClass</code>, which is equivalent to <code>(object) NULL</code>. To avoid errors, check whether whether the return object equals <code>(object) NULL</code>.</p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'caseList'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$casesArray</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">cases</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$casesArray</span> <span style="color: #339933;">!=</span> <span style="color: #009900;">&#40;</span>object<span style="color: #009900;">&#41;</span> <span style="color: #009900; font-weight: bold;">NULL</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$casesArray</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$case</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Case name: <span style="color: #006699; font-weight: bold;">$case-&gt;name</span>, Case ID: <span style="color: #006699; font-weight: bold;">$case-&gt;guid</span>, Status: <span style="color: #006699; font-weight: bold;">$case-&gt;status</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;There are zero cases. <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span id="unassignedCaseList.28.29">unassignedCaseList()</span></h3>


<p><span id="Unassigned_Case_List"><strong><code>unassignedCaseList()</code></strong></span> returns a list of the unassigned cases that the user logged in has rights to be assigned to. Available as of version 2.0.36 and later.</p><codeblock>unassignedCaseListResponse <strong>unassignedCaseList</strong>(<em>string</em> sessionId)
</codeblock>
<p><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID, which was obtained during <a href="981.html#Logging_in_with_ProcessMaker.27s_WSDL_web_services">login</a>.</li></ul>
<p><strong>Return value:</strong></p>
<p>The <strong><code>unassignedCaseListResponse</code></strong> object with the following structure:</p>

<codeblock><em>object</em> unassignedCaseListResponse
(
   <em>object</em> cases
   (
       [0]<em>array</em>
       (
            <em>object</em> unassignedCaseListStruct
           (
                [<em>string</em> guid]
                [<em>string</em> name]
                [<em>string</em> delIndex]
           )
       )
       ...
   )
)
</codeblock>
<p><strong>Where:</strong></p><ul>
<li><code><em>string</em> <strong>guid</strong>:</code> The case's unique ID.</li>
<li><code><em>string</em> <strong>name</strong>:</code> The case title.</li>
<li><code><em>int</em> <strong>delIndex</strong>:</code> The delegation index, which is a positive integer to identify the current task of the case. The first task is 1, the second task is 2, etc.</li></ul>
<p>If the user has no unassigned cases, then <strong><code>unassignedCaseList()</code></strong> returns an empty <code>stdClass</code>, which is equivalent to <code>(object) NULL</code>. To avoid errors, check whether whether the return object equals <code>(object) NULL</code>.</p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'unassignedCaseList'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$casesArray</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">cases</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$casesArray</span> <span style="color: #339933;">!=</span> <span style="color: #009900;">&#40;</span>object<span style="color: #009900;">&#41;</span> <span style="color: #009900; font-weight: bold;">NULL</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$casesArray</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$case</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Case name: <span style="color: #006699; font-weight: bold;">$case-&gt;name</span>, Case ID: <span style="color: #006699; font-weight: bold;">$case-&gt;guid</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;There are zero unassigned cases.<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div><h3><span id="getCaseInfo.28.29" class="mw-headline">getCaseInfo()</span></h3>
<p><span id="Get_Case_Information"><strong><code>getCaseInfo()</code></strong></span> returns information about a given case (as long as the user logged in has the privileges to access the case).</p>

<codeblock>getCaseInfoResponse <strong>getCaseInfo</strong>(<em>string</em> sessionId, <em>string</em> caseId, <em>string</em> delIndex)
</codeblock>

<p><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID, which was obtained during <a href="981.html#Logging_in_with_ProcessMaker.27s_WSDL_web_services">login</a>.</li>
<li><code><em>string</em> <strong>caseId</strong>:</code> The case ID, which can be obtained with the <a href="981.html#caseList.28.29">caseList()</a> function.</li>
<li><code><em>string</em> <strong>delIndex</strong>:</code> The delegation index, which is a positive integer to identify the current task of the case. The first task is 1, the second task is 2, etc. This number can be obtained with the <a href="981.html#caseList.28.29">caseList()</a> function.</li></ul>
<p><strong>Return value:</strong></p>
<p>The <strong><code>getCaseInfo()</code></strong> returns a <strong><code>getCaseInfoResponse</code></strong> object with the following structure:</p>

<codeblock><em>object</em> getCaseInfoResponse
(
    [<em>integer</em> status_code]
    [<em>string</em> message]
    [<em>string</em> caseId]
    [<em>string</em> caseNumber]
    [<em>string</em> caseName]
    [<em>string</em> caseStatus]
    [<em>string</em> caseParalell]
    [<em>string</em> caseCreatorUser]
    [<em>string</em> caseCreatorUserName]
    [<em>string</em> processId]
    [<em>string</em> processName]
    [<em>string</em> createDate]
    [<em>object</em> currentUsers]
    (
        [0]<em>array</em>
        (
           <em>object</em> getCaseInfoStruct
            (
                [<em>string</em> userId]
                [<em>string</em> userName]
                [<em>string</em> taskId]
                [<em>string</em> taskName]
                [<em>integer</em> delIndex]
                [<em>integer</em> delThread]
                [<em>string</em> delThreadStatus]
            )
        )
        ...
    )
)
</codeblock>
<p>Before version 1.2-2740, <strong><code>getCaseInfo()</code></strong> returns a <strong><code>getCaseInfoResponse</code></strong> object with fewer elements:</p>

<codeblock><em>object</em> getCaseInfoResponse
(
    [<em>integer</em> status_code]
    [<em>string</em> message]
    [<em>string</em> caseId]
    [<em>string</em> caseNumber]
    [<em>string</em> caseStatus]
    [<em>string</em> caseParalell]
    [<em>string</em> caseCurrentUser]
    [<em>string</em> timestamp]
)
</codeblock>
<p>If the case does not exist, the <code>delIndex</code> isn't found in the case, or an error occurred, <strong><code>getCaseInfo()</code></strong> before version 1-2.2740 did NOT return a <strong><code>getCaseInfoResponse</code></strong>. Instead, it returned a <strong><code>pmResponse</code></strong> object with a non-zero error number in the <strong><code>status_code</code></strong> and the error message in the <strong><code>message</code></strong>.</p>

<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'caseId'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'9636840824a76fab5df5714036136565'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'delIndex'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'3'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'getCaseInfo'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">status_code</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Case ID: <span style="color: #006699; font-weight: bold;">$result-&gt;caseId</span>, Current UserID: <span style="color: #006699; font-weight: bold;">$result-&gt;caseCurrentUser</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error: <span style="color: #006699; font-weight: bold;">$result-&gt;message</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="newCase.28.29" class="mw-headline">newCase()</span></h3>
<p><strong><code>newCase()</code></strong> begins a new case under the name of the user logged in.</p>

<codeblock>newCaseResponse <strong>newCase</strong>(<em>string</em> sessionId, <em>string</em> processId, <em>string</em> taskId, <em>array</em> variables)
</codeblock>

<p><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The ID of the session, which is obtained during <a href="981.html#Logging_in_with_ProcessMaker.27s_WSDL_web_services">login</a>.</li>
<li><code><em>string</em> <strong>processId</strong>:</code> The ID of the process where the case should start, which can be obtained with <a href="981.html#processList.28.29">processList()</a>.</li>
<li><code><em>string</em> <strong>taskId</strong>:</code> The ID of the task where the case should start. This will generally be the first task in a process, which can be obtained with <a href="981.html#taskList.28.29">taskList()</a>.</li>
<li><code><em>array</em> <strong>variables</strong>:</code> An array of <strong><code>variableStruct</code></strong> objects which contain variables to store in the new case. This array has the following format:</li></ul>
<codeblock><em>array</em> (
    <em>object</em> variableStruct (
          [<em>string</em> name]
          [<em>string</em> value]
    )
    ...
)
</codeblock>
<p><strong>Return value:</strong></p>
<p>A <strong><code>newCaseResponse</code></strong> object, with the structure:</p>

<codeblock>newCaseResponse
(
    [<em>integer</em> status_code]
    [<em>string</em> message]
    [<em>string</em> caseId]
    [<em>string</em> caseNumber]
    [<em>string</em> timestamp]
)
</codeblock>
<p>If an error occurred, <strong><code>status_code</code></strong> will contain a non-zero error number and the <strong><code>message</code></strong> will hold the error message.</p>

<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;"># Script to create a new case for the &quot;Credit Card Application&quot; process,<br />
</span><span style="color: #666666; font-style: italic;"># which is available for download at http://library.processmaker.com<br />
</span><span style="color: #000000; font-weight: bold;">class</span> variableStruct <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000088;">$name</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000088;">$value</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #000088;">$name</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> variableStruct<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$vars</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'APPLICANT_NAME'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'John'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'APPLICANT_LAST'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'Doe'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'APPLICANT_ID'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'123456'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'APPLICANT_EMAIL'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'johndoe@example.com'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'$APPLICANT_EMPLOYER'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'Example Corp, Inc.'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aVars</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$vars</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$key</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$val</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$obj</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> variableStruct<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$obj</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">name</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$key</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$obj</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">value</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$val</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$aVars</span><span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$obj</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<br />
<span style="color: #666666; font-style: italic;"># Use the functions processList() and taskList() to look up the IDs for the<br />
</span><span style="color: #666666; font-style: italic;"># process and its first task.<br />
</span><span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'processId'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'447CEAF7BE6AEB'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'taskId'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'347CEB10B72D11'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'variables'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$aVars</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'newCase'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">status_code</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;New case ID: <span style="color: #006699; font-weight: bold;">$result-&gt;caseId</span>, Case No: <span style="color: #006699; font-weight: bold;">$result-&gt;caseNumber</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error creating case: <span style="color: #006699; font-weight: bold;">$result-&gt;message</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span></div></div>
<p style="margin-left:25px"><strong><font color="green">Note:</font></strong> <font color="dimgray"> The status of the new case will be set to <code>"DRAFT"</code>, not <code>"TO_DO"</code> after being created. To get around this problem, create a trigger with the following code:</font></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$caseId</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">;</span><br />
<span style="color: #000088;">$index</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@%</span>INDEX<span style="color: #339933;">;</span><br />
executeQuery<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;UPDATE APPLICATION SET APP_STATUS='TO_DO' WHERE APP_UID='<span style="color: #006699; font-weight: bold;">$caseId</span>' AND APP_STATUS='DRAFT'&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>Then call <a href="981.html#executeTrigger.28.29">executeTrigger()</a> to fire the above trigger after creating the case with <code>newCase()</code>.</p><h3><span id="newCaseImpersonate.28.29" class="mw-headline">newCaseImpersonate()</span></h3>
<p><span id="Create_a_New_Case_Impersonating_a_User"><strong><code>newCaseImpersonate()</code></strong></span> creates a new case impersonating a user who has the proper privileges to create new cases. Use this function to allow any user to initiate new cases. Note that the new case's status will be set to "DRAFT", not "TO_DO". See the above workaround.</p>

<codeblock>pmResponse <strong>newCaseImpersonate</strong>(<em>string</em> sessionId, <em>string</em> processId, <em>string</em> taskId, <em>string</em> userId, <em>array</em> variables)
</codeblock>

<p><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID, which was obtained during <a href="981.html#Logging_in_with_ProcessMaker.27s_WSDL_web_services">login</a>.</li>
<li><code><em>string</em> <strong>processId</strong>:</code> The unique ID of the process where the case should start, which can be obtained with <a href="981.html#ProcessList.28.29" title="ProcessList.28.29 (page does not exist)" class="new">processList()</a>.</li>
<li><code><em>string</em> <strong>taskId</strong>:</code> The unique ID of the starting task in the process, which can be obtained with <a href="981.html#taskList.28.29">taskList()</a>.</li>
<li><code><em>string</em> <strong>userId</strong>:</code> The unique ID of the user who initiates the case, which can be obtained with <a href="981.html#userList.28.29">userList()</a>.</li>
<li><code><em>array</em> <strong>variables</strong>:</code> An array of <code>variableStruct</code> objects which contain variables to store in the new case. This array has the following format:</li></ul>
<codeblock>array(
    <em>object</em> variableStruct (
          [<em>string</em> name]
          [<em>string</em> value]
    ),
    ...
)
</codeblock>
<p><strong>Return value:</strong></p>
<p>A <strong><code>pmResponse</code></strong> object.</p><h3><span id="reassignCase.28.29" class="mw-headline">reassignCase()</span></h3>
<p><span id="Reassign_a_case"><strong><code>reassignCase()</code></strong></span> reassigns a case to a different user. Note that the user logged in needs to have the <a href="../3.0/Roles.html#PM_REASSIGNCASE" title="3.0/Roles"><strong><code>PM_REASSIGNCASE</code></strong></a> permission in their <a href="../3.0/Roles.html" title="3.0/Roles">role</a> in order to be able to reassign the case.</p>

<codeblock>pmResponse <strong>reassignCase</strong>(<em>string</em> sessionId, <em>string</em> caseId, <em>string</em> delIndex,
                        <em>string</em> userIdSource, <em>string</em> userIdTarget)
</codeblock>
<p><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID, which was obtained during <a href="981.html#Logging_in_with_ProcessMaker.27s_WSDL_web_services">login</a>.</li>
<li><code><em>string</em> <strong>caseId</strong>:</code> The case ID, which can be obtained with the <a href="981.html#caseList.28.29">caseList()</a> function.</li>
<li><code><em>string</em> <strong>delIndex</strong>:</code> The delegation index number of the case, which can be obtained with the <a href="981.html#caseList.28.29">caseList()</a> function.</li>
<li><code><em>string</em> <strong>userIdSource</strong>:</code> The user who is currently assigned to the case, which can be obtained with the <a href="981.html#caseList.28.29">caseList()</a> function.</li>
<li><code><em>string</em> <strong>userIdTarget</strong>:</code> The target user who will be newly assigned to the case, which can be obtained with <a href="981.html#userList.28.29">userList()</a>. The case can only be reassigned to a user who is one of the assigned users or <em>ad hoc</em> users of the current task in the case.</li></ul>
<p><strong>Return value:</strong></p>
<p>A <strong><code>pmResponse</code></strong> object.</p>

<h3><span id="routeCase.28.29" class="mw-headline">routeCase()</span></h3>
<p><span id="Route_.28derivate.29_a_case"><strong><code>routeCase()</code></strong></span>, which was named <strong><code>derivateCase()</code></strong> before version 1.2-2740, routes a case (i.e., moves the case to the next task in the process according to the routing rules).</p>
<p>In version 1.2-2740 and later:</p>

<codeblock>routeCaseResponse <strong>routeCase</strong>(<em>string</em> sessionId, <em>string</em> caseId, <em>string</em> delIndex)
</codeblock>
<p>Before version 1.2-2740:</p>

<codeblock>pmResponse <strong>derivateCase</strong>(<em>string</em> sessionId, <em>string</em> caseId, <em>string</em> delIndex)
</codeblock>
<p><br><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID, which was obtained during <a href="981.html#Logging_in_with_ProcessMaker.27s_WSDL_web_services">login</a>.</li>
<li><code><em>string</em> <strong>caseId</strong>:</code> The case ID (which can be obtained with the <a href="981.html#caseList.28.29">caseList()</a> function).</li>
<li><code><em>string</em> <strong>delIndex</strong>:</code> The delegation index number for the case (which can be obtained with the <a href="981.html#caseList.28.29">caseList()</a> function or by examining the field <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DELEGATION.DEL_INDEX</tt></strong>).</li></ul>
<p><br><strong>Return value:</strong></p>
<p>From version 1.2-2740 on, <strong><code>routeCase()</code></strong> returns a <strong><code>routeCaseResponse</code></strong> object with the following structure:</p>

<codeblock><em>object</em> routeCaseResponse
(
    [<em>integer</em> status_code]
    [<em>string</em> message]
    [<em>string</em> timestamp]
    <em>object</em> routing
    (
        [0] <em>array</em>
        (
            <em>object</em> routeListStruct
            (
                [<em>string</em> userId]
                [<em>string</em> userName]
                [<em>string</em> taskId]
                [<em>string</em> taskName]
                [<em>integer</em> delIndex]
                [<em>integer</em> delThread]
                [<em>string</em> delThreadStatus]
            )
        )
        ...
    )
)
</codeblock>
<p>If <strong><code>routeCase()</code></strong> returns error number 22 ("Task does not have a routing rule, check process definition"), the routing rule that follows the current task probably contains a condition with a case variable which has not been defined. If a case variable was defined by a Dynaform and the DynaForm was never displayed, then the case variable won't be created. In this case, you will have to use the <a href="981.html#sendVariables.28.29">sendVariables()</a> function to send the case variable to the case so it can be used in the routing rule.</p>
<p>If <strong><code>routeCase()</code></strong> returns error number 18 ("This delegation is already closed or does not exist"), either the case ID is wrong, the user doesn't have privileges to route the case, or a delegation index from a previous task that has already been completed was used. Remember that a new delegation index is assigned every time a case is routed to another task. Use <a href="981.html#caseList.28.29">caseList()</a> to find the current <strong><code>delIndex</code></strong> for the case before calling <strong><code>routeCase()</code></strong>.</p>
<p>Prior to version 1.2-2470, <strong><code>derivateCase()</code></strong> returned a <strong><code>pmResponse</code></strong> object. If the routing was unsuccessful, the message will list the error message, which is useful for debugging problems with routing. If the routing was successful, the <strong><code>message</code></strong> will list the next task, and in parenthesis, the user(s) or group(s) to which the task is assigned, plus any triggers that were executing during the routing:</p>
<div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">&lt;NEXT_TASK_NAME&gt;(&lt;WHO_ASSIGNED_TO_NEXT_TASK&gt;)<br />
&lt;WHEN_TRIGGER EXECUTED&gt; ----------<br />
&lt;TRIGGER_CODE&gt;</div></div>

<p style="margin-left:25px"><strong><font color="green">Note:</font></strong> <font color="dimgray">Add <strong><code>die()</code></strong> at the end of the trigger to avoid replacing the current appData of the <strong><code>routeCase()</code></strong> function.</font>
</p>

<p><strong>Example:</strong></p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">#Use caseList() to get the caseId and delIndex.<br />
</span><span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'caseId'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'3291015624a7c9d85b71b21074133813'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'delIndex'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'1'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'routeCase'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">status_code</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Case derived: <span style="color: #006699; font-weight: bold;">$result-&gt;message</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error deriving case: <span style="color: #006699; font-weight: bold;">$result-&gt;message</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>


<h3><span id="claimCase.28.29">claimCase()</span></h3>
<p><span id="Claim_a_case"><strong><code>claimCase()</code></strong></span> allows the logged-in user to "claim" a case, which means that the user assigns herself to a <a href="../3.2/Tasks.html#Self-Service">Self Service</a> or <a href="../3.2/Tasks.html#Self_Service_Value_Based_Assignment">Self Service Value Based Assignment</a> task in a case.</p>

<codeblock>claimCaseResponse <strong>claimCase</strong>(<em>string</em> sessionId, <em>string</em> guid, <em>string</em> delIndex)
</codeblock>

<p><br><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID, which was obtained during <a href="981.html#Logging_in_with_ProcessMaker.27s_WSDL_web_services">login</a>.</li>
<li><code><em>string</em> <strong>guid</strong>:</code> The case ID (which can be obtained with the <a href="981.html#caseList.28.29">caseList()</a> function).</li>
<li><code><em>string</em> <strong>delIndex</strong>:</code> The delegation index number for the case (which can be obtained with the <a href="981.html#caseList.28.29">caseList()</a> function or by examining the field <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DELEGATION.DEL_INDEX</tt></strong> in the database).</li></ul>

<p><br><strong>Return value:</strong></p>
<p><strong><code>claimCase()</code></strong> returns a <strong><code>claimCaseResponse</code></strong> object with the following structure:</p>

<codeblock><em>object</em> routeCaseResponse
(
    [<em>integer</em> status_code]
    [<em>string</em> message]
    [<em>string</em> timestamp]
)
</codeblock>

<p><strong>Example:</strong></p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">//Use caseList() to get the caseId and delIndex.</span><br />
<span style="color: #000088;">$caseId</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'3291015624a7c9d85b71b21074133813'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$index</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">2</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'sessionId'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$sessionId</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'guid'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$caseId</span><span style="color: #339933;">,</span> <br />
&nbsp; &nbsp;<span style="color: #0000ff;">'delIndex'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$index</span><br />
<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'routeCase'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">status_code</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Case claimed: <span style="color: #006699; font-weight: bold;">$result-&gt;message</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error claiming case: <span style="color: #006699; font-weight: bold;">$result-&gt;message</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>



<h3><span id="getVariables.28.29" class="mw-headline">getVariables()</span></h3>
<p><span id="Get_Variables"><strong><code>getVariables()</code></strong></span> returns variables from a given case. The variables can be system variables and/or case variables.</p>

<codeblock>variableListResponse <strong>getVariables</strong>(<em>string</em> sessionId, <em>string</em> caseId, <em>array</em> variables)
</codeblock>
<p><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID, which is obtained during the login.</li>
<li><code><em>string</em> <strong>caseId</strong>:</code> The ID of the case, which provides the variable values. This ID can be obtained with <a href="981.html#caseList.28.29">caseList()</a>.</li>
<li><code><em>array</em> <strong>variables</strong>:</code> An array of <code>variableStruct</code> objects, which holds the names of the variables that will be returned. The array has the following structure:</li></ul>

<codeblock><em>array</em>
(
   [0]
   (
      <em>object</em> variableStruct
      (
         [<em>string</em> name]
      )
   )
   [1]
   (
      <em>object</em> variableStruct
      (
         [<em>string</em> name]
      )
   )
   ...
)
</codeblock>
<p><strong>Return value:</strong></p>
<p>A <strong>variableListResponse</strong> object, with the structure:</p>

<codeblock><em>object</em> variableListResponse
(
   [<em>integer</em> status_code]
   [<em>string</em> message]
   [<em>string</em> timestamp]
   <em>object</em> variables
   (
      <em>array</em>
      (
         [0]
         (
            <em>object</em> variableListStruct
            (
               [<em>string</em> name]
               [<em>string</em> value]
            )
         )
         [1]
         (
            <em>object</em> variableListStruct
            (
               [<em>string</em> name]
               [<em>string</em> value]
            )
         )
         ...
      )
   )
)
</codeblock>
<p>If the variables don't exist or an error occurred, the object <strong><code>variables</code></strong> will be an empty <code>stdClass</code>, which is equal to <code>(object)NULL</code>. To avoid errors, check that <code>variables</code> does not equal <code>(object)NULL</code>.</p>
<p><span style="color: green;"><strong>Note 1:</strong></span> All <code>value</code>'s will be returned as strings, so they may need to be converted to other variable types, such as <code>int</code>, <code>float</code>, <code>boolean</code>, etc. If passing complex data types, such as objects or arrays, then fire a trigger beforehand to convert them into serialized strings with <a href="http://www.php.net/manual/en/function.serialize.php" class="external text" rel="nofollow">serialize()</a> or <a href="http://www.php.net/manual/en/function.json-encode.php" class="external text" rel="nofollow">json_encode()</a> before calling the getVariables() web service. See <a href="981.html#Variable_Type_Conversion">Variable Type Conversion</a> and the example below.</p>
<p><span style="color: green;"><strong>Note 2:</strong></span> Before version 1.2-2740, this function did not work properly due to a bug</a>.</p>
<p><span style="color: green;"><strong>Note 3:</strong></span> Due to this bug</a>, getVariables() cannot retrieve only <em>one</em> variable. It must retrieve at least 2 variables. If needing only one variable, include a second variable in the <code>variables</code> array.</p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">class</span> variableStruct <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000088;">$name</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<br />
<span style="color: #000088;">$p</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> variableStruct<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$p</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">name</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'clientName'</span><span style="color: #339933;">;</span> &nbsp; &nbsp; <span style="color: #666666; font-style: italic;">//a case variable</span><br />
<span style="color: #000088;">$s</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> variableStruct<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$s</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">name</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'SYS_LANG'</span><span style="color: #339933;">;</span> &nbsp; &nbsp; &nbsp; <span style="color: #666666; font-style: italic;">//a system variable</span><br />
<span style="color: #000088;">$variables</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$p</span><span style="color: #339933;">,</span> <span style="color: #000088;">$s</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'caseId'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'3188781734a71c99e356809057266790'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'variables'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$variables</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'getVariables'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">status_code</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span> <span style="color: #339933;">&amp;&amp;</span> <span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">variables</span> <span style="color: #339933;">!=</span> <span style="color: #009900;">&#40;</span>object<span style="color: #009900;">&#41;</span> <span style="color: #009900; font-weight: bold;">NULL</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$variablesArray</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">variables</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$variablesArray</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$variable</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Variable name: <span style="color: #006699; font-weight: bold;">$variable-&gt;name</span>, Value: <span style="color: #006699; font-weight: bold;">$variable-&gt;value</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span></div></div>
<p>It is possible to dynamically construct the array of $variables, based upon an array. The following code would do the same as the example above:</p><div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">class</span> variableStruct <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000088;">$name</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #000088;">$vars</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'clientName'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'SYS_LANG'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$variables</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$vars</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$var</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$obj</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> variableStruct<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$obj</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">name</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$var</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$variables</span><span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$obj</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'caseId'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'3188781734a71c99e356809057266790'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'variables'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$variables</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'getVariables'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">status_code</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span> <span style="color: #339933;">&amp;&amp;</span> <span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">variables</span> <span style="color: #339933;">!=</span> <span style="color: #009900;">&#40;</span>object<span style="color: #009900;">&#41;</span> <span style="color: #009900; font-weight: bold;">NULL</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$variablesArray</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">variables</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$variablesArray</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$variable</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Variable name: <span style="color: #006699; font-weight: bold;">$variable-&gt;name</span>, Value: <span style="color: #006699; font-weight: bold;">$variable-&gt;value</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span></div></div>
<p>To get a grid from ProcessMaker, which is stored as an associative array of associative arrays, it first must be converted to a serialized string, so it can returned as a string by <code>getVariables()</code>. Create a trigger in ProcessMaker to convert the string. For example:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@@</span>MyGridSerialized <span style="color: #339933;">=</span> <a href="http://php.net/serialize"><span style="color: #990000;">serialize</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>MyGrid<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>Before calling the getVariables() web service, first call the <a href="981.html#executeTrigger.28.29">executeTrigger()</a> to convert the grid to a serialized string. After receiving the string, convert it into an associative array of associative arrays with the <a href="http://www.php.net/manual/en/function.unserialize.php" class="external text" rel="nofollow">unserialize()</a> function.</p><h3><span id="sendVariables.28.29" class="mw-headline">sendVariables()</span></h3>
<p><span id="Send_Variables"><strong><code>sendVariables()</code></strong></span> sends variables to a case.</p>

<codeblock>pmResponse <strong>sendVariables</strong>(<em>string</em> sessionId, <em>string</em> caseId, <em>array</em> variables)
</codeblock>

<p><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID, which was obtained during <a href="981.html#Logging_in_with_ProcessMaker.27s_WSDL_web_services">login</a>.</li>
<li><code><em>string</em> <strong>caseId</strong>:</code> The case ID (which can be obtained with the <a href="981.html#caseList.28.29">caseList()</a> function).</li>
<li><code><em>array</em> <strong>variables</strong>:</code> An array of <code>variableListStruct</code> objects that contains the variable names and their values to be sent. This array has the following format:</li></ul>

<codeblock><em>array</em>
(
   [0]
   (
      <em>object</em> variableListStruct
      (
         [<em>string</em> name]
         [<em>string</em> value]
      )
   )
   [1]
   (
      <em>object</em> variableListStruct
      (
         [<em>string</em> name]
         [<em>string</em> value]
      )
   )
   ...
)
</codeblock>

<p><strong>Return value:</strong></p>
<p>A <strong><code>pmResponse</code></strong> object. If successful, the <strong><code>message</code></strong> will indicate how many variables have been received; otherwise, it will contain an error message.</p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">class</span> variableListStruct <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000088;">$name</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000088;">$value</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<br />
<span style="color: #000088;">$position</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> variableListStruct<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$position</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">name</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;position&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$position</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">value</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;manager&quot;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$salary</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> variableListStruct<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$salary</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">name</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;salary&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$salary</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">value</span> <span style="color: #339933;">=</span> <span style="color:#800080;">3896.78</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$startdate</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> variableListStruct<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$startdate</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">name</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;startdate&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$startdate</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">value</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;2009-08-20&quot;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$variables</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$position</span><span style="color: #339933;">,</span> <span style="color: #000088;">$salary</span><span style="color: #339933;">,</span> <span style="color: #000088;">$startdate</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'caseId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$caseId</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'variables'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$variables</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sendVariables'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">status_code</span> <span style="color: #339933;">!=</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error: <span style="color: #006699; font-weight: bold;">$result-&gt;message</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span></div></div>
<p>It is possible to dynamically construct the array of $variables, based upon an associative array. The following code would do the same as the example above:</p><div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">class</span> variableListStruct <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000088;">$name</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000088;">$value</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #000088;">$vars</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'position'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'manager'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'salary'</span><span style="color: #339933;">=&gt;</span><span style="color:#800080;">3896.78</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'startdate'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'2009-08-20'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$variables</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$vars</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$key</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$val</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$obj</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> variableListStruct<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$obj</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">name</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$key</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$obj</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">value</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$val</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$variables</span><span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$obj</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'caseId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$caseId</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'variables'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$variables</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sendVariables'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">status_code</span> <span style="color: #339933;">!=</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error: <span style="color: #006699; font-weight: bold;">$result-&gt;message</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span></div></div>

<h4><span id="Variable_Type_Conversion" class="mw-headline">Variable Type Conversion</span></h4>
<p>All variable values are sent as strings. In most cases, ProcessMaker will gracefully convert these string values to one of the other basic PHP data types (int, float or boolean) when needed in the process. If this doesn't occur, it may be necessary to use executeTrigger() to fire a trigger afterwards that will convert the data. For example, it might be necessary to execute this trigger after sending the "salary" variable:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@=</span>salary <span style="color: #339933;">=</span> <span style="color: #009900;">&#40;</span>float<span style="color: #009900;">&#41;</span><span style="color: #339933;">@@</span>salary<span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//explicit conversion</span></div></div>

<p>or:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@=</span>salary <span style="color: #339933;">=</span> <span style="color: #339933;">@</span><span style="color: #666666; font-style: italic;">#salary; //convert with ProcessMaker case variable data typing</span></div></div>

<p><strong>Complex data types</strong><br>If sending a complex data type such as an array or an object, it is best to pass the variable as a serialized string, then use <a href="981.html#executeTrigger.28.29">executeTrigger()</a> to fire a trigger that will unserialize the object and assign it to a case variable.</p>
<p>For example, if sending this <code>$employees</code> associative array of associative arrays (which is how grids are stored in ProcessMaker):</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$employees</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'1'</span> <span style="color: #339933;">=&gt;</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;position&quot;</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">&quot;manager&quot;</span><span style="color: #339933;">,</span> &nbsp; &nbsp; &nbsp;<span style="color: #0000ff;">&quot;salary&quot;</span><span style="color: #339933;">=&gt;</span><span style="color:#800080;">4000.00</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;startdate&quot;</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">&quot;2009-08-20&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'2'</span> <span style="color: #339933;">=&gt;</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;position&quot;</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">&quot;receptionist&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;salary&quot;</span><span style="color: #339933;">=&gt;</span><span style="color:#800080;">2000.00</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;startdate&quot;</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">&quot;2007-12-01&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'3'</span> <span style="color: #339933;">=&gt;</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;position&quot;</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">&quot;grunt&quot;</span><span style="color: #339933;">,</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #0000ff;">&quot;salary&quot;</span><span style="color: #339933;">=&gt;</span><span style="color:#800080;">2500.00</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;startdate&quot;</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">&quot;2005-03-18&quot;</span><span style="color: #009900;">&#41;</span><br />
<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
<p>First, create the following <a href="../3.0/Triggers.html" title="Triggers">trigger</a> in the process, which will convert a serialized string into an associative array of associative arrays:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@=</span>EmployeesGrid <span style="color: #339933;">=</span> <a href="http://php.net/unserialize"><span style="color: #990000;">unserialize</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>EmployeesGrid<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>Then, create the web service script that uses PHP's <a href="http://www.php.net/manual/en/function.serialize.php" class="external text" rel="nofollow">serialize()</a> function when passing the <code>$employees</code> array to the case with <code>sendVariables()</code>. After sending the grid data to the case, use <code>executeTrigger()</code> to call the trigger that will unserialize <code>@@EmployeesGrid</code> and convert it into an associative array of associative arrays:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$employees</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'1'</span> <span style="color: #339933;">=&gt;</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;position&quot;</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">&quot;manager&quot;</span><span style="color: #339933;">,</span> &nbsp; &nbsp; &nbsp;<span style="color: #0000ff;">&quot;salary&quot;</span><span style="color: #339933;">=&gt;</span><span style="color:#800080;">4000.00</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;startdate&quot;</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">&quot;2009-08-20&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'2'</span> <span style="color: #339933;">=&gt;</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;position&quot;</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">&quot;receptionist&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;salary&quot;</span><span style="color: #339933;">=&gt;</span><span style="color:#800080;">2000.00</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;startdate&quot;</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">&quot;2007-12-01&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'3'</span> <span style="color: #339933;">=&gt;</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;position&quot;</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">&quot;grunt&quot;</span><span style="color: #339933;">,</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #0000ff;">&quot;salary&quot;</span><span style="color: #339933;">=&gt;</span><span style="color:#800080;">2500.00</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;startdate&quot;</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">&quot;2005-03-18&quot;</span><span style="color: #009900;">&#41;</span><br />
<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000000; font-weight: bold;">class</span> variableStruct <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000088;">$name</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000088;">$value</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #000088;">$v</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> variableStruct<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$v</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">name</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;EmployeesGrid&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$v</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">value</span> <span style="color: #339933;">=</span> <a href="http://php.net/serialize"><span style="color: #990000;">serialize</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$employees</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$variables</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$v</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'caseId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$caseId</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'variables'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$v</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sendVariables'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">status_code</span> <span style="color: #339933;">!=</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error: <span style="color: #006699; font-weight: bold;">$result-&gt;message</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;">#look up the caseId and delIndex with caseList() and the triggerIndex with triggerList():<br />
</span><span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'caseId'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'$caseId'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'triggerIndex'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'3126831054a7dd8781e84a7046772575'</span><span style="color: #339933;">,</span><span style="color: #0000ff;">'delIndex'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'1'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'executeTrigger'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">status_code</span> <span style="color: #339933;">!=</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error: <span style="color: #006699; font-weight: bold;">$result-&gt;message</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span></div></div>

<p>A subsequent Dynaform that has a grid object named "EmployeesGrid" can then display the data in a grid.</p>

<h4><span id="Other_Programming_Languages" class="mw-headline">Other Programming Languages</span></h4>

<p>If using a different programming language that doesn't support the <code>serialize()</code> function, then encode objects and arrays as <a href="http://www.json.org/" class="external text" rel="nofollow">JSON</a> strings before passing them to the <code>sendVariables()</code> web service. See this <a href="http://www.json.org/" class="external text" rel="nofollow">list of JSON encoders/decoders</a> for different languages. After sending the variables, then call the <code>executeTrigger()</code> web service to decode the object or array in a ProcessMaker trigger with <a href="http://www.php.net/manual/en/function.json-decode.php" class="external text" rel="nofollow">json_decode()</a>.</p>
<p>If sending associative arrays, note that they will be encoded in JSON as objects. To pass a grid (an associative array of associative arrays) to ProcessMaker with JSON, it is necessary to convert the objects to associative arrays in a trigger before trying to display them in a Dynaform grid. For example, this trigger code decodes the JSON string and converts the object into an associative array of associative arrays that can be displayed in a grid:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$aGrid</span> <span style="color: #339933;">=</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#41;</span> <a href="http://php.net/json_decode"><span style="color: #990000;">json_decode</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>EmployeesGrid<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@=</span>EmployeesGrid <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$aGrid</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$rowNo</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$row</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #339933;">@=</span>EmployeesGrid<span style="color: #009900;">&#91;</span><span style="color: #000088;">$rowNo</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#41;</span> <span style="color: #000088;">$row</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span id="triggerList.28.29" class="mw-headline">triggerList()</span></h3>

<p><span id="Trigger_List"><strong><code>triggerList()</code></strong></span> returns a list of all the available triggers in a workspace. (Available as of version 1.2-2740 and later.)</p>
<codeblock>  triggerListResponse <strong>triggerList</strong>(<em>string</em> sessionId)</codeblock>
<p><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID (which was obtained at login).</li></ul>
<p><strong>Return value:</strong></p>
<p>A <strong>triggerListResponse</strong> object, with the following structure:</p>

<codeblock>[0] <em>array</em>
(
    <em>object</em> triggerListStruct
    (
          [<em>string</em> guid]
          [<em>string</em> name]
          [<em>string</em> processId]
    )
)
...
</codeblock><h3><span id="executeTrigger.28.29" class="mw-headline">executeTrigger()</span></h3>

<p><span id="Execute_Trigger"><strong><code>executeTrigger()</code></strong></span> executes a ProcessMaker trigger. Note that triggers tied to case routing will execute automatically, so this function does not need to be called when deriving cases.</p>
<codeblock>pmResponse <strong>executeTrigger</strong>(<em>string</em> sessionId, <em>string</em> caseId, <em>string</em> triggerIndex, <em>string</em> delIndex)</codeblock>
<p><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID, which was obtained during <a href="981.html#login.28.29_Web_Service">login</a>.</li>
<li><code><em>string</em> <strong>caseId</strong>:</code> The case ID, which can be found with <a href="981.html#caseList.28.29">caseList()</a>.</li>
<li><code><em>string</em> <strong>triggerIndex</strong>:</code> The ID of the trigger to execute, which can be found with <a href="981.html#triggerList.28.29">triggerList()</a>.</li>
<li><code><em>string</em> <strong>delIndex</strong>:</code> The delegation index number of the case, which can be found with <a href="981.html#caseList.28.29">caseList()</a>.</li></ul>
<p><strong>Return value:</strong></p>
<p>A <strong><code>pmResponse</code></strong> object. If successful, the message will contain <span class="geshifilter"><code class="text geshifilter-text">&quot;executed: &lt;TRIGGER_CODE&gt;&quot;</code></span>.</p>

<p>The <code>triggerIndex</code> can be looked up with the <a href="981.html#Triger_List">triggerList()</a> function if using version 1.2-2740 or later. For prior versions, the triggerIndex will have to be looked up in the <strong><code>wf_&lt;WORKSPACE&gt;.CONTENT</code></strong> table in MySQL:</p>
<codeblock>C:\Program Files\ProcessMaker\mysql\bin> <strong>mysql -u root -p</strong>
Enter password: <strong>********</strong>

mysql> <strong>select con_value, con_id from wf_workflow.content where </strong>
 <strong>(con_category = 'TRI_TITLE');</strong>
+----------------------------+----------------------------------+
| con_value                  | con_id                           |
+----------------------------+----------------------------------+
| updateAddinHistory         | 10768559548a5cc2e0fbe52053131576 |
| setRepFinalDec             | 11249313348d67d3d7862a3048595231 |
| getIssueDate               | 11696570848a596568ee996042105082 |
| setStatusOnHold            | 16522080448a5f47eed5b21029801136 |
| ws3                        | 17763769948e29e195dff45029465358 |
| ws2                        | 21947161648e29de1ba6239054599761 |
| getDateAddIn               | 23391845548a5cc9a238ee9056072477 |
| GET DATE                   | 247CEBDB202DE0                   |
| UpdateBugComments          | 25994873048a8e0b157bd28002964410 |
| getCaseNumber              | 28138323548a5e9c5acbb13018874573 |
| Hello World                | 306900500490b24cc8fdd71038114427 |
...
</codeblock>
<p>Once the trigger ID is known, the code for a particular trigger can also be looked up in the <strong><tt>wf_&lt;WORKSPACE&gt;.TRIGGERS</tt></strong> table:</p>
<codeblock>mysql> <strong>select tri_uid, tri_webbot from wf_workflow.triggers where </strong>
 <strong>tri_uid = '306900500490b24cc8fdd71038114427';</strong>
+----------------------------------+------------------------------------+
| tri_uid                          | tri_webbot                         |
+----------------------------------+------------------------------------+
| 306900500490b24cc8fdd71038114427 | @@HELLO='Hello World of  '.@@name; |
+----------------------------------+------------------------------------+
</codeblock>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">#look up the caseId and delIndex with the caseList() web service and the triggerIndex in MySQL<br />
</span><span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'caseId'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'9782409664a7c94433d0920003544388'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'triggerIndex'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'3126831054a7dd8781e84a7046772575'</span><span style="color: #339933;">,</span><span style="color: #0000ff;">'delIndex'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'1'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'executeTrigger'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">status_code</span> <span style="color: #339933;">!=</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error: <span style="color: #006699; font-weight: bold;">$result-&gt;message</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="sendMessage.28.29" class="mw-headline">sendMessage()</span></h3>
<p><span id="Send_Message"><strong><code>sendMessage()</code></strong></span> sends an email with the provided data. Note that ProcessMaker must be properly configured to send email for this option to work.</p>
<codeblock>pmResponse <strong>sendMessage</strong>(<em>string</em> sessionId, <em>string</em> caseId, <em>string</em> from, <em>string</em> to,
                       <em>string</em> cc, <em>string</em> bcc, <em>string</em> subject, <em>string</em> template)
</codeblock>
<p><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID, which was obtained during <a href="981.html#Logging_in_with_ProcessMaker.27s_WSDL_web_services">login</a>.</li>
<li><code><em>string</em> <strong>caseId</strong>:</code> The case ID, which can be found with <a href="981.html#caseList.28.29">caseList()</a>.</li>
<li><code><em>string</em> <strong>from</strong>:</code> The email address of the sender.</li>
<li><code><em>string</em> <strong>to</strong>:</code> A list of email addresses (separated by commas) to receive the email.</li>
<li><code><em>string</em> <strong>cc</strong>:</code> A list of email addresses (separated by commas) to receive carbon copies of the email.</li>
<li><code><em>string</em> <strong>bcc</strong>:</code> A list of email addresses (separated by commas) to receive blind carbon copies of the email.</li>
<li><code><em>string</em> <strong>subject</strong>:</code> The subject line of the email.</li>
<li><code><em>string</em> <strong>template</strong>:</code> The file containing the body of the email. The file should be placed in the <strong><span class="geshifilter"><code class="text geshifilter-text">shared/sites/&lt;WORKSPACE&gt;/mailTemplates/&lt;PROCESS_ID&gt;</code></span></strong> directory. See <a href="../index.php/ProcessMakerDocumentation2_X.html#Defining_HTML_Notification_Template" title="Advanced Options">HTML Notification Templates</a> for more information on how to make an HTML template file containing variables.</li></ul>
<p><strong>Return value:</strong></p>
<p>A <strong><code>pmResponse</code></strong> object. If unable to locate the template file for the email, the error message in the <strong><code>pmResponse</code></strong> will indicate the path where ProcessMaker is searching for the file. Check this error message to find where to save the email template file.</p>

<p style="margin-left:25px"><strong><font color="green">Note:</font></strong> <font color="dimgray">This function does not work in recent versions due to this bug.</font></p>

<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;sessionId&quot;</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;caseId&quot;</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">&quot;3188781734a71c99e356809057266790&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; <span style="color: #0000ff;">&quot;from&quot;</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">&quot;support@colosa.com&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;to&quot;</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">&quot;joe@example.com, jane@example.com&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;cc&quot;</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">&quot;&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;bcc&quot;</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">&quot;&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; <span style="color: #0000ff;">&quot;subject&quot;</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">&quot;Contact Information&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;template&quot;</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">&quot;mail-body.txt&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sendMessage'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">status_code</span> <span style="color: #339933;">!=</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Email error: <span style="color: #006699; font-weight: bold;">$result-&gt;message</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span></div></div><h3><span id="systemInformation.28.29" class="mw-headline">systemInformation()</span></h3>
<p><span id="System_Information"><strong><code>systemInformation()</code></strong></span> returns information about the WAMP/LAMP stack, the workspace database, the IP number and version of ProcessMaker, and the IP number and version of web browser of the user. (Available as of version 1.2-2740 and later.)</p>

<codeblock>systemInformationResponse <strong>systemInformation</strong>(<em>string</em> sessionId)
</codeblock>
<p><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID (which was obtained at login).</li></ul>
<p><strong>Return value:</strong></p>
<p>A <strong>systemInformationResponse</strong> object with the following structure:</p>

<codeblock>object systemInformationResponse
(
    [<em>integer</em> status_code]
    [<em>string</em> message]
    [<em>string</em> timestamp]
    [<em>string</em> version]
    [<em>string</em> operatingSystem]
    [<em>string</em> webServer]
    [<em>string</em> serverName]
    [<em>string</em> serverIp]
    [<em>string</em> phpVersion]
    [<em>string</em> databaseVersion]
    [<em>string</em> databaseServerIp]
    [<em>string</em> databaseName]
    [<em>string</em> availableDatabases]
    [<em>string</em> userBrowser]
    [<em>string</em> userIp]
}
</codeblock>


<h3><span id="inputDocumentList.28.29" class="mw-headline">inputDocumentList()</span></h3>
<p><span id="Input_Document_List"><strong><code>inputDocumentList()</code></strong></span> returns a list of the uploaded documents for a given case. Available as of version 1.2-3104 and later.</p>

<codeblock>inputDocumentListResponse <strong>inputDocumentList</strong>(<em>string</em> sessionId, <em>string</em> caseId)
</codeblock>
<p><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID, which was obtained during <a href="981.html#Logging_in_with_ProcessMaker.27s_WSDL_web_services">login</a>.</li>
<li><code><em>string</em> <strong>caseId</strong>:</code> The case's unique ID, which can be obtained with the <a href="981.html#caseList.28.29">caseList()</a> web service.</li></ul>
<p><strong>Return value:</strong></p>
<p>The <strong><code>inputDocumentListResponse</code></strong> object with the following structure:</p>

<codeblock><em>object</em> inputDocumentListResponse
(
   <em>object</em> cases
   (
       [0]<em>array</em>
       (
           <em>object</em> caseListStruct
          (
                [<em>string</em>  guid]
                [<em>string</em>  filename]
                [<em>string</em>  docId]
                [<em>integer</em> version]
                [<em>string</em>  createDate]
                [<em>string</em>  createBy]
                [<em>string</em>  type]
                [<em>integer</em> index]
                [<em>string</em>  link]
       )
       ...
   )
)

</codeblock>
<p><strong>Where:</strong></p><ul>
<li><code><em>string</em> <strong>guid</strong>:</code> The unique ID of the uploaded document (appDocUid). Every time a new document is uploaded, a UID is assigned.</li>
<li><code><em>string</em> <strong>filename</strong>:</code> The uploaded document name.</li>
<li><code><em>string</em> <strong>docId</strong>:</code> Corresponds to the unique ID of the input document object, which is assigned during the process design.</li>
<li><code><em>integer</em> <strong>version</strong>:</code> The uploaded document version.</li>
<li><code><em>string</em> <strong>createDate</strong>:</code> The date and time when the document was created.</li>
<li><code><em>string</em> <strong>createdBy</strong>:</code> The user name of the user who uploaded the document.</li>
<li><code><em>string</em> <strong>type</strong>:</code> The type of the document.</li>
<li><code><em>integer</em> <strong>index</strong>:</code> Indicates the order in the process the document was uploaded in. The first input document in the process has index=1, the second index=2, etc.</li>
<li><code><em>string</em> <strong>link</strong>:</code> Returns a relative link to download the document: <span class="geshifilter"><code class="text geshifilter-text">cases/cases_ShowDocument?a=&lt;DOCUMENT-UID&gt;&amp;v=&lt;VERSION&gt;</code></span></li></ul><dl><dd>The relative link can be used in a <a href="../index.php/2.0/Links.html" title="2.0/Links">link</a> field in a Dynaform. If using the link in an email or output document, then create an absolute address by concatenating <span class="geshifilter"><code class="text geshifilter-text">&quot;http://&lt;IP-ADDRESS&gt;/sys&lt;WORKSPACE&gt;/&lt;LANG&gt;/&lt;SKIN&gt;/&quot;</code></span> and the relative link.</dd></dl>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'caseId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$caseId</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'InputDocumentList'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$inputDocumentListArray</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">documents</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$inputDocumentListArray</span> <span style="color: #339933;">!=</span> <span style="color: #009900;">&#40;</span>object<span style="color: #009900;">&#41;</span> <span style="color: #009900; font-weight: bold;">NULL</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$inputDocumentListArray</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$inputDocumentListArray</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$iDocList</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;InputDocument Name: &nbsp; &nbsp;<span style="color: #006699; font-weight: bold;">$iDocList-&gt;filename</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; InputDocument ID: &nbsp; &nbsp; &nbsp;<span style="color: #006699; font-weight: bold;">$iDocList-&gt;guid</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; InputDocument Doc ID: &nbsp;<span style="color: #006699; font-weight: bold;">$iDocList-&gt;docId</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; InputDocument Version: <span style="color: #006699; font-weight: bold;">$iDocList-&gt;version</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; InputDocument Created: <span style="color: #006699; font-weight: bold;">$iDocList-&gt;createDate</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;InputDocument name: &nbsp; &nbsp;<span style="color: #006699; font-weight: bold;">$inputDocumentListArray-&gt;filename</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;InputDocument ID: &nbsp; &nbsp; &nbsp;<span style="color: #006699; font-weight: bold;">$inputDocumentListArray-&gt;guid</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;InputDocument Doc ID: &nbsp;<span style="color: #006699; font-weight: bold;">$inputDocumentListArray-&gt;docId</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;InputDocument Version: <span style="color: #006699; font-weight: bold;">$inputDocumentListArray-&gt;version</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;InputDocument Created: <span style="color: #006699; font-weight: bold;">$inputDocumentListArray-&gt;createDate</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error: <span style="color: #006699; font-weight: bold;">$inputDocumentListArray-&gt;filename</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span id="inputDocumentProcessList.28.29" class="mw-headline">inputDocumentProcessList()</span></h3>
<p><span id="Input_Document_List_for_a_Process"><strong><code>inputDocumentProcessList()</code></strong></span> returns a list of the input documents for a given process. Available as of version 1.2-3104 and later.</p>

<codeblock>inputDocumentProcessListResponse <strong>inputDocumentProcessList</strong>(<em>string</em> sessionId, <em>string</em> processId)
</codeblock>

<p><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID, which was obtained during <a href="981.html#Logging_in_with_ProcessMaker.27s_WSDL_web_services">login</a>.</li>
<li><code><em>string</em> <strong>processId</strong>:</code> The process's unique ID, which can be obtained with the webservice <a href="981.html#processList.28.29">processList()</a>.</li></ul>
<p><strong>Return value:</strong></p>
<p>The <strong><code>inputDocumentProcessListResponse</code></strong> object with the following structure:</p>

<codeblock><em>object</em> inputDocumentProcessList
(
   <em>object</em> cases
   (
       [0]<em>array</em>
       (
           <em>object</em> inputDocumentProcessListStruct
          (
                [<em>string</em> guid]
                [<em>string</em> name]
                [<em>string</em> description]
           )
       )
       ...
   )
)
</codeblock>
<p><strong>Where:</strong></p><ul>
<li><code><em>string</em> <strong>inputDocUid</strong>:</code> The input document unique ID.</li>
<li><code><em>string</em> <strong>name</strong>:</code> The input document title.</li>
<li><code><em>string</em> <strong>description</strong>:</code> The input document description.</li></ul>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'processId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$processId</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'inputDocumentProcessList'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$inputDocumentListArray</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">documents</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$inputDocumentListArray</span> <span style="color: #339933;">!=</span> <span style="color: #009900;">&#40;</span>object<span style="color: #009900;">&#41;</span> <span style="color: #009900; font-weight: bold;">NULL</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$inputDocumentListArray</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$inputDocumentListArray</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$iDocList</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Document Name: &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #006699; font-weight: bold;">$iDocList-&gt;name</span> <span style="color: #000099; font-weight: bold;">\n</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;</span>Document ID<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #000088;">$iDocList</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">guid</span> \n<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #0000ff;">&quot;Document Description: <span style="color: #006699; font-weight: bold;">$iDocList-&gt;description</span> <span style="color: #000099; font-weight: bold;">\n</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Document Name: &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #006699; font-weight: bold;">$inputDocumentListArray-&gt;name</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span> <span style="color: #339933;">.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">&quot;Document ID: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #006699; font-weight: bold;">$inputDocumentListArray-&gt;guid</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span> <span style="color: #339933;">.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">&quot;Document Description: <span style="color: #006699; font-weight: bold;">$inputDocumentListArray-&gt;description</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error: <span style="color: #006699; font-weight: bold;">$inputDocumentListArray-&gt;filename</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div><h3><span id="outputDocumentList.28.29" class="mw-headline">outputDocumentList()</span></h3>
<p><span id="Output_Document_List"><strong><code>outputDocumentList()</code></strong></span> returns a list of the output documents for a given case. Available as of version 1.2-3104 and later.</p>

<codeblock> outputDocumentListResponse <strong>outputDocumentList</strong>(<em>string</em> sessionId, <em>string</em> caseId)
</codeblock>

<p><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID, which was obtained during <a href="981.html#Logging_in_with_ProcessMaker.27s_WSDL_web_services">login</a>.</li>
<li><code><em>string</em> <strong>caseId</strong>:</code> The case's unique ID, which can be obtained with <a href="981.html#caseList.28.29">caseList()</a>.</li></ul>

<p><strong>Return value:</strong></p>
<p>The <strong><code>outputDocumentListResponse</code></strong> object with the following structure:</p>

<codeblock><em>object</em> outputDocumentListResponse
(
   <em>object</em> cases
   (
       [0]<em>array</em>
       (
           <em>object</em> caseListStruct
          (
                [<em>string</em>  guid]
                [<em>string</em>  filename]
                [<em>string</em>  docId]
                [<em>integer</em> version]
                [<em>string</em>  createDate]
                [<em>string</em>  createBy]
                [<em>string</em>  type]
                [<em>integer</em> index]
                [<em>string</em>  link]
           )
       )
       ...
   )
)
</codeblock>
<p><strong>Where:</strong></p><ul>
<li><code><em>string</em> <strong>guid</strong>:</code> The generated document's unique ID (<code>appDocUid</code>). Every time a new document is uploaded, a UID is assigned.</li>
<li><code><em>string</em> <strong>filename</strong>:</code> The generated document name.</li>
<li><code><em>string</em> <strong>docId</strong>:</code> Corresponds to output document's object unique ID, which is assigned during the process design.</li>
<li><code><em>integer</em> <strong>version</strong>:</code> The generated document version.</li>
<li><code><em>string</em> <strong>createDate</strong>:</code> The date and time when the document was created.</li>
<li><code><em>string</em> <strong>createBy</strong>:</code> The username of the user who generated the document.</li>
<li><code><em>string</em> <strong>type</strong>:</code> The type of the document.</li>
<li><code><em>integer</em> <strong>index</strong>:</code> Indicates the order in the process the document was generated in. The first output document in the process has index=1, the second index=2, etc.</li>
<li><code><em>string</em> <strong>link</strong>:</code> Returns a relative link to download the document: <span class="geshifilter"><code class="text geshifilter-text">cases/cases_ShowDocument?a=&lt;DOCUMENT-UID&gt;&amp;v=&lt;VERSION&gt;</code></span></li></ul><dl><dd>The relative link can be used in a <a href="../index.php/2.0/Links.html" title="2.0/Links">link</a> field in a Dynaform. If using the link in an email or output document, then create an absolute address by concatenating <span class="geshifilter"><code class="text geshifilter-text">&quot;http://&lt;IP-ADDRESS&gt;/sys&lt;WORKSPACE&gt;/&lt;LANG&gt;/&lt;SKIN&gt;/&quot;</code></span> and the relative link.</dd></dl>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'caseId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$caseId</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'outputDocumentList'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$outputDocumentListArray</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">documents</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$outputDocumentListArray</span> <span style="color: #339933;">!=</span> <span style="color: #009900;">&#40;</span>object<span style="color: #009900;">&#41;</span> <span style="color: #009900; font-weight: bold;">NULL</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$outputDocumentListArray</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$outputDocumentListArray</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$iDocList</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Document Name: &nbsp; &nbsp;<span style="color: #006699; font-weight: bold;">$iDocList-&gt;filename</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Document ID: &nbsp; &nbsp; &nbsp;<span style="color: #006699; font-weight: bold;">$iDocList-&gt;guid</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Document DocID: &nbsp; <span style="color: #006699; font-weight: bold;">$iDocList-&gt;docId</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Document Version: <span style="color: #006699; font-weight: bold;">$iDocList-&gt;version</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Document Created: <span style="color: #006699; font-weight: bold;">$iDocList-&gt;createDate</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Document Name: &nbsp; &nbsp;<span style="color: #006699; font-weight: bold;">$outputDocumentListArray-&gt;filename</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Document ID: &nbsp; &nbsp; &nbsp;<span style="color: #006699; font-weight: bold;">$outputDocumentListArray-&gt;guid</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Document DocID: &nbsp; <span style="color: #006699; font-weight: bold;">$outputDocumentListArray-&gt;docId</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Document Version: <span style="color: #006699; font-weight: bold;">$outputDocumentListArray-&gt;version</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Document Created: <span style="color: #006699; font-weight: bold;">$outputDocumentListArray-&gt;createDate</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error: <span style="color: #006699; font-weight: bold;">$outputDocumentListArray-&gt;filename</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span id="removeDocument.28.29" class="mw-headline">removeDocument()</span></h3>
<p><span id="Remove_Document"><strong><code>removeDocument()</code></strong></span> removes an uploaded or generated document from a case. Available as of version 1.2-3104 and later.</p>

<codeblock> removeDocumentResponse <strong>removeDocument</strong>(<em>string</em> sessionId, <em>string</em> appDocUid)
</codeblock>

<p><strong>Parameters:</strong></p><ul>
<li><code><em>string</em> <strong>sessionId</strong>:</code> The session ID, which was obtained during <a href="981.html#Logging_in_with_ProcessMaker.27s_WSDL_web_services">login</a>.</li>
<li><code><em>string</em> <strong>appDocUid</strong>:</code> The document UID for a case, which can be obtained with the <a href="981.html#inputDocumentList.28.29">inputDocumentList()</a> or <a href="981.html#outputDocumentList.28.29">outputDocumentList()</a> web services.</li></ul>
<p><strong>Return value:</strong><br>A pmResponse object. If successful, the <code>message</code> will contain the appDocUid.</p>

<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'appDocUid'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$appDocUid</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'removeDocument'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>


<h2><span id="Uploading_and_Downloading_Files" class="mw-headline">Uploading and Downloading Files</span></h2>
<p>The SOAP and WSDL protocols were not designed for passing files over the internet, so ProcessMaker WSDL web services can not be used to directly upload and download files such as input documents, output documents and attached files. Instead, ProcessMaker WSDL web services can be used to obtain the necessary information, so that other internet protocols can be used to upload and download files to/from a ProcessMaker server.</p>

<h3><span id="Uploading_Files" class="mw-headline">Uploading Files</span></h3>
<p>In ProcessMaker version 1.2-2372 and later, files can be uploaded to cases at the address:</p>
<dl><dd><strong><span class="geshifilter"><code class="text geshifilter-text">http://&lt;IP-ADDRESS&gt;/sys&lt;WORKSPACE&gt;/&lt;LANG&gt;/&lt;SKIN&gt;/services/upload</code></span></strong></dd></dl>

<p>For example, if uploading files to a ProcessMaker server installed at the IP address 192.168.1.100 and using the default "workflow" workspace, the "en" (English) language, and the "green" skin, then use the URL:</p><dl><dd><strong><tt>http://192.168.1.100/sysworkflow/en/neoclassic/services/upload</tt></strong></dd></dl>
<p>In order to upload a file to a particular case, parameters need to be passed as <a href="http://en.wikipedia.org/wiki/POST_%28HTTP%29" class="external text" rel="nofollow">POST variables</a> that specify the case UID, the user UID, etc. To set the POST variables and upload the files, it is recommended to use the <a href="http://curl.haxx.se/libcurl/" class="external text" rel="nofollow">cURL library</a>, which has bindings for most programming languages such as <a href="http://php.net/manual/en/book.curl.php" class="external text" rel="nofollow">PHP</a>, <a href="https://github.com/pjlegato/curl-java" class="external text" rel="nofollow">Java</a>, <a href="https://github.com/azawawi/perl6-net-curl" class="external text" rel="nofollow">Perl</a>, <a href="http://pycurl.io/" class="external text" rel="nofollow">Python</a>, <a href="https://github.com/taf2/curb" class="external text" rel="nofollow">Ruby</a>, <a href="https://sourceforge.net/projects/libcurl-net/" class="external text" rel="nofollow">.NET</a>, <a href="https://curl.haxx.se/libcurl/bindings.html">etc</a>.</p><h4><span id="upload_POST_variables" class="mw-headline"><tt>upload</tt> POST variables</span></h4>
<p><strong><tt>services/upload</tt></strong> accepts the following POST variables:</p><ul>
<li><strong>ATTACH_FILE:</strong> The name of the file to be uploaded. If not in the same directory, then include the full path. If using <a href="http://curl.haxx.se/libcurl/">cURL</a> to upload the file, then add an <code>@</code> (ampersand) in front of the filename, so cURL will upload the contents of the file, rather than the filename. For example, <code>'@/home/user/id-photo.png'</code> or <code>'@C:\Documents and Settings\user\My Documents\id-photo.png'</code>. PHP version 5.5 and later has added security restrictions to prevent code injection attacks, so use a <a href="https://wiki.php.net/rfc/curl-file-upload">CURLFile</a> object instead of the ampersand. See the code examples below.</li>
<li><strong>APPLICATION:</strong> The unique ID of the case the file will be attached to. The case UID can be obtained by calling the <a href="981.html#caseList.28.29">caseList()</a> web service, by using the <code>@@APPLICATION</code> <a href="../3.0/Triggers.html#System_Variables_in_Triggers" title="Triggers">system variable</a>, or by examining the <strong><tt>wf_&lt;WORKSPACE&gt;.APPLICATION.APP_UID</tt></strong> field in the database.</li>
<li><strong>INDEX:</strong> The delegation index number of the case the file will be attached to. The INDEX is a positive integer that can be obtained by calling the <a href="981.html#caseList.28.29">caseList()</a> web service, by using the <code>@@INDEX</code> <a href="../3.0/Triggers.html#System_Variables_in_Triggers" title="Triggers">system variable</a>, or by examining the <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DELEGATION.DEL_INDEX</tt></strong> field in the database <code>WHERE DEL_STATUS='OPEN'</code>.</li>
<li><strong>USR_UID:</strong> The unique ID of the user who will upload the file to the case. The user ID can be obtained with the <a href="981.html#userList.28.29">userList()</a> or <a href="981.html#caseList.28.29">caseList()</a> web services, from the <code>@@USER_LOGGED</code> <a href="../3.0/Triggers.html#System_Variables_in_Triggers" title="Triggers">system variable</a>, or by examining the <strong><tt>wf_&lt;WORKSPACE&gt;.USERS.USR_UID</tt></strong> field in the database. This user should have at least one of the following privileges in order to be able to upload the file:</li></ul><dl><dd><dl><dd>1. The user is currently assigned to work on the case.</dd><dd>2. Has the <a href="../index.php/2.0/Roles.html#PM_FOLDERS_ADD_FILE" title="2.0/Roles"><strong><tt>PM_FOLDERS_ADD_FILE</tt></strong></a> permission in their <a href="../index.php/2.0/Roles.html" title="2.0/Roles">role</a>.</dd><dd>3. Is a <a href="../index.php/Process_Supervisors.html" title="Process Supervisors">Process Supervisor</a> who has been assigned rights to the specified input document.</dd></dl></dd></dl><ul>

<li><strong>DOC_UID:</strong> The unique ID of the input document definition, which can be obtained by using <a href="981.html#inputDocumentProcessList.28.29">InputDocumentProcessList()</a> web service, by opening the list of input documents in a process and clicking on its <strong>UID</strong> link, or by examining the <strong><tt>wf_&lt;WORKSPACE&gt;.INPUT_DOCUMENT.INP_DOC_UID</tt></strong> field in the database. If uploading an attached file to a case, then set the DOC_UID to '-1'.</li>
<li><strong>APP_DOC_TYPE:</strong> Indicate the type of file to be uploaded: <code>'INPUT'</code> for an input document or <code>'ATTACHED'</code> for a file attached to a case.</li>
<li><strong>APP_DOC_UID:</strong> <i>Optional</i> parameter to specify the unique ID on an existing input document file for a case. This parameter is used to overwrite an existing input document file for a case or add another version of an existing document if <a href="../index.php/2.0/Input_Documents.html#versioning" title="Input Documents">input document versioning</a> is enabled (which is an option available in ProcessMaker 1.2-3306Beta and later). The <code>APP_DOC_UID</code> can be found with the <a href="981.html#inputDocumentList.28.29">InputDocumentList()</a> web service or by examining the <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DOCUMENT.APP_DOC_UID</tt></strong> field in the database. If the <code>APP_DOC_UID</code> parameter is an empty string or unset, then a new file will be added to the input document. Remember that input documents are boxes that can hold multiple files.</li>
<li><strong>TITLE:</strong> <i>Optional.</i> A title to identify the uploaded file.</li>
<li><strong>COMMENT:</strong> <i>Optional.</i> A comment to provide additional information about the uploaded file.</li></ul><h4><span id="Using_PHP.27s_cURL_library_to_upload" class="mw-headline">Using PHP's cURL Library to Upload</span></h4>
<p>These code examples show how to upload a file to a ProcessMaker case using PHP's <a href="http://www.php.net/manual/en/book.curl.php" class="external text" rel="nofollow">cURL library</a>. If using a different programming language, the steps will be similar, although the functions and their parameters might be slightly different.</p>
<p>First, create an <a href="http://www.informit.com/articles/article.aspx?p=31840&seqNum=3" class="external text" rel="nofollow">associative array</a> with the above POST variable names as the array keys:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'ATTACH_FILE'</span> &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/phpversion"><span style="color: #990000;">phpversion</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;=</span> <span style="color: #0000ff;">&quot;5.5&quot;</span><span style="color: #009900;">&#41;</span> ? <span style="color: #000000; font-weight: bold;">new</span> CurlFile<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'myfile.ext'</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">:</span> <span style="color: #0000ff;">'@myfile.ext'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'APPLICATION'</span> &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'INDEX'</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> X<span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'USR_UID'</span> &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'DOC_UID'</span> &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'XXXXXXXXXXXXX'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'APP_DOC_TYPE'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'INPUT|ATTACHED'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'TITLE'</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'Title for myfile.ext'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'COMMENT'</span> &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'Comment for myfile.ext'</span><br />
<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>Then, initiate a cURL session with <a href="http://php.net/manual/en/function.curl-init.php" class="external text" rel="nofollow">curl_init()</a> and save its handle to a variable, so it can be later referenced in the script. If the script has already output something, for example with print() or echo(), it is a good idea to first flush its output buffers with <a href="http://www.php.net/manual/en/function.ob-flush.php">ob_flush()</a>, so they don't corrupt the headers:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><a href="http://php.net/ob_flush"><span style="color: #990000;">ob_flush</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$ch</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_init"><span style="color: #990000;">curl_init</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>Next, use <a href="http://php.net/manual/en/function.curl-setopt.php">curl_setopt()</a> with the <code>CURLOPT_URL</code> option, to set the address where the file will be uploaded:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_URL<span style="color: #339933;">,</span> <span style="color: #0000ff;">'http://&lt;IP-ADDRESS&gt;/sys&lt;WORKSPACE&gt;/en/neoclassic/services/upload'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>Activate the <code>CURLOPT_RETURNTRANSFER</code> option, so <strong><tt>services/upload</tt></strong> will return a message, reporting a successful upload or reporting any errors in the upload:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_RETURNTRANSFER<span style="color: #339933;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>Activate the <code>CURLOPT_POST</code> option in order to set POST variables, then use the <code>CURLOPT_POSTFIELDS</code> option to set those POST variables to the values in the associative array:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_POST<span style="color: #339933;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_POSTFIELDS<span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>If using a secure connection with <a href="http://en.wikipedia.org/wiki/Transport_Layer_Security" class="external text" rel="nofollow">SSL or TLS</a>, activate the <code>CURLOPT_SSL_VERIFYHOST</code> and <code>CURLOPT_SSL_VERIFYPEER</code> options:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_SSL_VERIFYHOST<span style="color: #339933;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_SSL_VERIFYPEER<span style="color: #339933;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
<p>Once all the cURL options are set, execute the file upload with <a href="http://php.net/manual/en/function.curl-exec.php" class="external text" rel="nofollow">curl_exec()</a> and save the return message to a variable, so it can be checked:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$response</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_exec"><span style="color: #990000;">curl_exec</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>Finally, use <a href="http://php.net/manual/en/function.curl-close.php">curl_close()</a> to close the cURL session, free up system resources, and delete the session handle:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><a href="http://php.net/curl_close"><span style="color: #990000;">curl_close</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h4><span id="Uploading_Input_Documents" class="mw-headline">Uploading Input Documents</span></h4>
<p>To upload an input document to a case, set the <code>DOC_UID</code> parameter to the Unique ID for the input document definition and set the <code>APP_DOC_TYPE</code> to <code>'INPUT'</code>.</p>
<p>For example, if uploading the file <b><tt>/home/user/identification.png</tt></b> as an input document to a server located at 192.168.1.100, using the "workflow" workspace:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$path</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'/home/user/identification.png'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a> <span style="color: #009900;">&#40;</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'ATTACH_FILE'</span> &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/phpversion"><span style="color: #990000;">phpversion</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;=</span> <span style="color: #0000ff;">&quot;5.5&quot;</span><span style="color: #009900;">&#41;</span> ? <span style="color: #000000; font-weight: bold;">new</span> CurlFile<span style="color: #009900;">&#40;</span><span style="color: #000088;">$path</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">:</span> <span style="color: #0000ff;">'@'</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$path</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'APPLICATION'</span> &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'5628388134d10f1db768027020151425'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'INDEX'</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'USR_UID'</span> &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'00000000000000000000000000000001'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'DOC_UID'</span> &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'547CEBEE61202A'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'APP_DOC_TYPE'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'INPUT'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'TITLE'</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">&quot;Identification for John Doe&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'COMMENT'</span> &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">&quot;Scanned ID document&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/ob_flush"><span style="color: #990000;">ob_flush</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$ch</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_init"><span style="color: #990000;">curl_init</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_URL<span style="color: #339933;">,</span> <span style="color: #0000ff;">'http://192.168.1.100/sysworkflow/en/neoclassic/services/upload'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;">// curl_setopt($ch, CURLOPT_VERBOSE, 1); &nbsp;//Uncomment to debug</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_RETURNTRANSFER<span style="color: #339933;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_POST<span style="color: #339933;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_POSTFIELDS<span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;">// curl_setopt ($ch, CURLOPT_SSL_VERIFYHOST, 1); //Uncomment for SSL</span><br />
<span style="color: #666666; font-style: italic;">// curl_setopt ($ch, CURLOPT_SSL_VERIFYPEER, 1); //Uncomment for SSL</span><br />
<span style="color: #000088;">$response</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_exec"><span style="color: #990000;">curl_exec</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_close"><span style="color: #990000;">curl_close</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;&lt;html&gt;&lt;body&gt;&lt;pre&gt;<span style="color: #006699; font-weight: bold;">$response</span>&lt;/pre&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span><span style="color: #339933;">;</span></div></div>

<h4><span id="Uploading_Attached_Files" class="mw-headline">Uploading Attached Files</span></h4>
<p>To upload an attached file to a case, set <code>APP_DOC_TYPE</code> to <code>'ATTACHED'</code> and <code>DOC_UID</code> to <code>'-1'</code>.</p>
<p>For example, to upload the file <b><tt>/home/user/identification.png</tt></b> to a case:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$path</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'/home/user/identification.png'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a> <span style="color: #009900;">&#40;</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'ATTACH_FILE'</span> &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/phpversion"><span style="color: #990000;">phpversion</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;=</span> <span style="color: #0000ff;">&quot;5.5&quot;</span><span style="color: #009900;">&#41;</span> ? <span style="color: #000000; font-weight: bold;">new</span> CurlFile<span style="color: #009900;">&#40;</span><span style="color: #000088;">$path</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">:</span> <span style="color: #0000ff;">'@'</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$path</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'APPLICATION'</span> &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'5628388134d10f1db768027020151425'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'INDEX'</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'USR_UID'</span> &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'00000000000000000000000000000001'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'DOC_UID'</span> &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'-1'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'APP_DOC_TYPE'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'ATTACHED'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'TITLE'</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">&quot;Identification for John Doe&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'COMMENT'</span> &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">&quot;Scanned ID document&quot;</span><br />
<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/ob_flush"><span style="color: #990000;">ob_flush</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$ch</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_init"><span style="color: #990000;">curl_init</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_URL<span style="color: #339933;">,</span> <span style="color: #0000ff;">'http://192.168.1.100/sysworkflow/en/neoclassic/services/upload'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;">// curl_setopt($ch, CURLOPT_VERBOSE, 1); &nbsp;//Uncomment to debug</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_RETURNTRANSFER<span style="color: #339933;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_POST<span style="color: #339933;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_POSTFIELDS<span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;">// curl_setopt ($ch, CURLOPT_SSL_VERIFYHOST, 1); //Uncomment for SSL</span><br />
<span style="color: #666666; font-style: italic;">// curl_setopt ($ch, CURLOPT_SSL_VERIFYPEER, 1); //Uncomment for SSL</span><br />
<span style="color: #000088;">$response</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_exec"><span style="color: #990000;">curl_exec</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_close"><span style="color: #990000;">curl_close</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;&lt;html&gt;&lt;body&gt;&lt;pre&gt;<span style="color: #006699; font-weight: bold;">$response</span>&lt;/pre&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span><span style="color: #339933;">;</span></div></div>

<h4><span id="Overwriting_files_or_adding_new_versions" class="mw-headline">Overwriting Files or Adding New Versions</span></h4>
<p>If overwriting an existing attached file or input document file (or if adding a new version to an existing input document file if versioning is enabled), set the APP_DOC_UID to the unique ID of the existing file.</p>
<p>For example, to overwrite the input document in the previous example, first lookup the <code>APP_UID_UID</code> with the <a href="981.html#inputDocumentList.28.29">InputDocumentList()</a> web service or by examining the <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DOCUMENT.APP_DOC_UID</tt></strong> field in the database:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$path</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'/home/user/id2.png'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a> <span style="color: #009900;">&#40;</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">'ATTACH_FILE'</span> &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/phpversion"><span style="color: #990000;">phpversion</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;=</span> <span style="color: #0000ff;">&quot;5.5&quot;</span><span style="color: #009900;">&#41;</span> ? <span style="color: #000000; font-weight: bold;">new</span> CurlFile<span style="color: #009900;">&#40;</span><span style="color: #000088;">$path</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">:</span> <span style="color: #0000ff;">'@'</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$path</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">'APPLICATION'</span> &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'5628388134d10f1db768027020151425'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">'INDEX'</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">'USR_UID'</span> &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'00000000000000000000000000000001'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">'DOC_UID'</span> &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'547CEBEE61202A'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">'APP_DOC_TYPE'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'INPUT'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">'APP_DOC_UID'</span> &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'12345689abdcef123456789abdcef'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">'TITLE'</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">&quot;Identification for John Doe&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">'COMMENT'</span> &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">&quot;Scanned ID document&quot;</span><br />
<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/ob_flush"><span style="color: #990000;">ob_flush</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$ch</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_init"><span style="color: #990000;">curl_init</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_URL<span style="color: #339933;">,</span> <span style="color: #0000ff;">'http://192.168.1.100/sysworkflow/en/neoclassic/services/upload'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;">// curl_setopt($ch, CURLOPT_VERBOSE, 1); &nbsp;//Uncomment to debug</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_RETURNTRANSFER<span style="color: #339933;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_POST<span style="color: #339933;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_POSTFIELDS<span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;">// curl_setopt ($ch, CURLOPT_SSL_VERIFYHOST, 1); //Uncomment for SSL</span><br />
<span style="color: #666666; font-style: italic;">// curl_setopt ($ch, CURLOPT_SSL_VERIFYPEER, 1); //Uncomment for SSL</span><br />
<span style="color: #000088;">$response</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_exec"><span style="color: #990000;">curl_exec</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_close"><span style="color: #990000;">curl_close</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;&lt;html&gt;&lt;body&gt;&lt;pre&gt;<span style="color: #006699; font-weight: bold;">$response</span>&lt;/pre&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="Downloading_Files" class="mw-headline">Downloading Files</span></h3>
<p>To download an attached file, input document file or output document file, first use the <a href="981.html#inputDocumentList.28.29">InputDocumentList()</a> or <a href="981.html#outputDocumentList.28.29">OutputDocumentList()</a> web services to get a download link for the file. (Alternatively, do a search in the <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DOCUMENT.APP_DOC_UID</tt></strong> field in the database and manually construct the link from the file's unique ID.)</p>
<p>If the <strong><tt>php.ini</tt></strong> configuration file contains the setting "<code>allow_url_fopen = On</code>", then functions like <a href="http://php.net/manual/en/function.file-get-contents.php" class="external text" rel="nofollow">file_get_contents()</a> can be used to get the contents of a remote file at a URL. For example:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;"># First use login() and caseList() to get the $sessionId and $caseId<br />
</span><span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'caseId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$caseId</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'outputDocumentList'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$files</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">documents</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">documents</span> <span style="color: #339933;">!=</span> <span style="color: #009900;">&#40;</span>object<span style="color: #009900;">&#41;</span> <span style="color: #009900; font-weight: bold;">NULL</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">documents</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$url</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">documents</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">-&gt;</span><a href="http://php.net/link"><span style="color: #990000;">link</span></a><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$url</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">documents</span><span style="color: #339933;">-&gt;</span><a href="http://php.net/link"><span style="color: #990000;">link</span></a><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp;<span style="color: #000088;">$contents</span> <span style="color: #339933;">=</span> <a href="http://php.net/file_get_contents"><span style="color: #990000;">file_get_contents</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;http://example.com/sysworkflow/en/neoclassic/<span style="color: #006699; font-weight: bold;">$url</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>
<p>Unfortunately, the <code>file_get_contents()</code> function is not very reliable, especially for files larger than 64KB which may experience buffer overflows or slow internet connections which might exceed Apache's keepalive timeout setting (which is 15 seconds by default). To avoid these problems, use <a href="http://curl.haxx.se/libcurl/" class="external text" rel="nofollow">cURL</a> to download the files:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$c</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_init"><span style="color: #990000;">curl_init</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$c</span><span style="color: #339933;">,</span> CURLOPT_RETURNTRANSFER<span style="color: #339933;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$c</span><span style="color: #339933;">,</span> CURLOPT_URL<span style="color: #339933;">,</span> <span style="color: #0000ff;">'http://example.com/sysworkflow/en/neoclassic/$url'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$contents</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_exec"><span style="color: #990000;">curl_exec</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$c</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_close"><span style="color: #990000;">curl_close</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$c</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>PHP's <a href="http://php.net/manual/en/function.readfile.php" class="external text" rel="nofollow">readfile()</a> function can be used to download a ProcessMaker file and display it inside a web browser, but it is important to first set the headers correctly. For example:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$url</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'http://example.com/sysworkflow/en/neoclassic/$url'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$fsize</span> <span style="color: #339933;">=</span> <a href="http://php.net/filesize"><span style="color: #990000;">filesize</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$url</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$path_parts</span> <span style="color: #339933;">=</span> <a href="http://php.net/pathinfo"><span style="color: #990000;">pathinfo</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$url</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$ext</span> <span style="color: #339933;">=</span> <a href="http://php.net/strtolower"><span style="color: #990000;">strtolower</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$path_parts</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;extension&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #666666; font-style: italic;">// Determine Content Type</span><br />
<span style="color: #b1b100;">switch</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$ext</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">case</span> <span style="color: #0000ff;">&quot;pdf&quot;</span><span style="color: #339933;">:</span> <span style="color: #000088;">$ctype</span><span style="color: #339933;">=</span><span style="color: #0000ff;">&quot;application/pdf&quot;</span><span style="color: #339933;">;</span> <span style="color: #b1b100;">break</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">case</span> <span style="color: #0000ff;">&quot;exe&quot;</span><span style="color: #339933;">:</span> <span style="color: #000088;">$ctype</span><span style="color: #339933;">=</span><span style="color: #0000ff;">&quot;application/octet-stream&quot;</span><span style="color: #339933;">;</span> <span style="color: #b1b100;">break</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">case</span> <span style="color: #0000ff;">&quot;zip&quot;</span><span style="color: #339933;">:</span> <span style="color: #000088;">$ctype</span><span style="color: #339933;">=</span><span style="color: #0000ff;">&quot;application/zip&quot;</span><span style="color: #339933;">;</span> <span style="color: #b1b100;">break</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">case</span> <span style="color: #0000ff;">&quot;tar&quot;</span><span style="color: #339933;">:</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">case</span> <span style="color: #0000ff;">&quot;tgz&quot;</span><span style="color: #339933;">:</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">case</span> <span style="color: #0000ff;">&quot;tbz&quot;</span><span style="color: #339933;">:</span> <span style="color: #000088;">$ctype</span><span style="color: #339933;">=</span><span style="color: #0000ff;">&quot;application/x-tar&quot;</span><span style="color: #339933;">;</span> <span style="color: #b1b100;">break</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">case</span> <span style="color: #0000ff;">&quot;gz&quot;</span> <span style="color: #339933;">:</span> <span style="color: #000088;">$ctype</span><span style="color: #339933;">=</span> <a href="http://php.net/stripos"><span style="color: #990000;">stripos</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$url</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'.tar.gz'</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">===</span> <span style="color: #009900; font-weight: bold;">false</span> ? <span style="color: #0000ff;">&quot;application/x-gzip&quot;</span> <span style="color: #339933;">:</span> <span style="color: #0000ff;">&quot;application/x-tar&quot;</span><span style="color: #339933;">;</span> <span style="color: #b1b100;">break</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">case</span> <span style="color: #0000ff;">&quot;doc&quot;</span><span style="color: #339933;">:</span> <span style="color: #000088;">$ctype</span><span style="color: #339933;">=</span><span style="color: #0000ff;">&quot;application/msword&quot;</span><span style="color: #339933;">;</span> <span style="color: #b1b100;">break</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">case</span> <span style="color: #0000ff;">&quot;xls&quot;</span><span style="color: #339933;">:</span> <span style="color: #000088;">$ctype</span><span style="color: #339933;">=</span><span style="color: #0000ff;">&quot;application/vnd.ms-excel&quot;</span><span style="color: #339933;">;</span> <span style="color: #b1b100;">break</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">case</span> <span style="color: #0000ff;">&quot;ppt&quot;</span><span style="color: #339933;">:</span> <span style="color: #000088;">$ctype</span><span style="color: #339933;">=</span><span style="color: #0000ff;">&quot;application/vnd.ms-powerpoint&quot;</span><span style="color: #339933;">;</span> <span style="color: #b1b100;">break</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">case</span> <span style="color: #0000ff;">&quot;odt&quot;</span><span style="color: #339933;">:</span> <span style="color: #000088;">$ctype</span><span style="color: #339933;">=</span><span style="color: #0000ff;">&quot;application/vnd.oasis.opendocument.text&quot;</span><span style="color: #339933;">;</span> <span style="color: #b1b100;">break</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">case</span> <span style="color: #0000ff;">&quot;ods&quot;</span><span style="color: #339933;">:</span> <span style="color: #000088;">$ctype</span><span style="color: #339933;">=</span><span style="color: #0000ff;">&quot;application/vnd.oasis.opendocument.spreadsheet&quot;</span><span style="color: #339933;">;</span> <span style="color: #b1b100;">break</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">case</span> <span style="color: #0000ff;">&quot;odp&quot;</span><span style="color: #339933;">:</span> <span style="color: #000088;">$ctype</span><span style="color: #339933;">=</span><span style="color: #0000ff;">&quot;application/vnd.oasis.opendocument.presentation&quot;</span><span style="color: #339933;">;</span> <span style="color: #b1b100;">break</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">case</span> <span style="color: #0000ff;">&quot;gif&quot;</span><span style="color: #339933;">:</span> <span style="color: #000088;">$ctype</span><span style="color: #339933;">=</span><span style="color: #0000ff;">&quot;image/gif&quot;</span><span style="color: #339933;">;</span> <span style="color: #b1b100;">break</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">case</span> <span style="color: #0000ff;">&quot;png&quot;</span><span style="color: #339933;">:</span> <span style="color: #000088;">$ctype</span><span style="color: #339933;">=</span><span style="color: #0000ff;">&quot;image/png&quot;</span><span style="color: #339933;">;</span> <span style="color: #b1b100;">break</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">case</span> <span style="color: #0000ff;">&quot;jpeg&quot;</span><span style="color: #339933;">:</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">case</span> <span style="color: #0000ff;">&quot;jpg&quot;</span><span style="color: #339933;">:</span> <span style="color: #000088;">$ctype</span><span style="color: #339933;">=</span><span style="color: #0000ff;">&quot;image/jpg&quot;</span><span style="color: #339933;">;</span> <span style="color: #b1b100;">break</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">default</span><span style="color: #339933;">:</span> <span style="color: #000088;">$ctype</span><span style="color: #339933;">=</span><span style="color: #0000ff;">&quot;application/force-download&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<br />
<a href="http://php.net/header"><span style="color: #990000;">header</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Pragma: public&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">// required</span><br />
<a href="http://php.net/header"><span style="color: #990000;">header</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Expires: 0&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/header"><span style="color: #990000;">header</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Cache-Control: must-revalidate, post-check=0, pre-check=0&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/header"><span style="color: #990000;">header</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Cache-Control: private&quot;</span><span style="color: #339933;">,</span><span style="color: #009900; font-weight: bold;">false</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">// required for certain browsers</span><br />
<a href="http://php.net/header"><span style="color: #990000;">header</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Content-Type: <span style="color: #006699; font-weight: bold;">$ctype</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/header"><span style="color: #990000;">header</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Content-Disposition: attachment; filename=<span style="color: #000099; font-weight: bold;">\&quot;</span>&quot;</span><span style="color: #339933;">.</span><a href="http://php.net/basename"><span style="color: #990000;">basename</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$url</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">.</span><span style="color: #0000ff;">&quot;<span style="color: #000099; font-weight: bold;">\&quot;</span>;&quot;</span> <span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/header"><span style="color: #990000;">header</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Content-Transfer-Encoding: binary&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/header"><span style="color: #990000;">header</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Content-Length: &quot;</span><span style="color: #339933;">.</span><span style="color: #000088;">$fsize</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/ob_clean"><span style="color: #990000;">ob_clean</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/flush"><span style="color: #990000;">flush</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/readfile"><span style="color: #990000;">readfile</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$url</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h2><span id="Examples" class="mw-headline">Examples</span></h2>
<h3><span id="Create_User" class="mw-headline">Create User</span></h3>
<p>This example shows how to create a new user with the first name of "Foo", the last name of "Bar" and the username of "foobar":</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">&lt;?php</span><br />
<a href="http://php.net/ini_set"><span style="color: #990000;">ini_set</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;soap.wsdl_cache_enabled&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;0&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/ini_set"><span style="color: #990000;">ini_set</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'error_reporting'</span><span style="color: #339933;">,</span> <span style="color: #009900; font-weight: bold;">E_ALL</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/ini_set"><span style="color: #990000;">ini_set</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'display_errors'</span><span style="color: #339933;">,</span> <span style="color: #009900; font-weight: bold;">True</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;&lt;html&gt;&lt;body&gt;&lt;pre&gt;&quot;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$client</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> SoapClient<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'http://localhost/sysworkflow/en/neoclassic/services/wsdl2'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$pass</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'md5:'</span> <span style="color: #339933;">.</span> <a href="http://php.net/md5"><span style="color: #990000;">md5</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'admin'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'userid'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'admin'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'password'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$pass</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'login'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">status_code</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$sessionId</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">message</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Unable to connect to ProcessMaker.<span style="color: #000099; font-weight: bold;">\n</span>Error Number: <span style="color: #006699; font-weight: bold;">$result-&gt;status_code</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span> <span style="color: #339933;">.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #0000ff;">&quot;Error Message: <span style="color: #006699; font-weight: bold;">$result-&gt;message</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'userId'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'foobar'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'firstname'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'Foo'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'lastname'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'Bar'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'email'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'foobar@example.com'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'role'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'PROCESSMAKER_ADMIN'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'password'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'foob@r123'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'createUser'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">status_code</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;<span style="color: #006699; font-weight: bold;">$result-&gt;message</span><span style="color: #000099; font-weight: bold;">\n</span>User UID: <span style="color: #006699; font-weight: bold;">$result-&gt;userUID</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Unable to create user.<span style="color: #000099; font-weight: bold;">\n</span>Error Number: <span style="color: #006699; font-weight: bold;">$result-&gt;status_code</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span> <span style="color: #339933;">.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #0000ff;">&quot;Error Message: <span style="color: #006699; font-weight: bold;">$result-&gt;message</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;&lt;/pre&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000000; font-weight: bold;">?&gt;</span></div></div>

<h3><span id="Import_a_List_of_Users" class="mw-headline">Import a List of Users</span></h3>
<p>The above script works to create a single user. To import a large list of users,  it is better to maintain the users in LDAP or Active Directory and import them using an <a href="../index.php/2.0/External_Authentication.html" title="External User Authentication">Authentication Source</a>.</p>
<p>To import users without LDAP or Active Directory, then the following script can be used to import users into ProcessMaker. First, create a list of users and export them as a <em>comma separated value</em> (CSV) file.</p>
<p>For example:</p>
<codeblock>userId;firstname;lastname;email;role;password;DUE_DATE;COUNTRY;CITY;LOCATION;ADDRESS;PHONE;ZIP_CODE;DEPARTMENT;POSITION;REPORTS_TO;REPLACED_BY
jbossy;John Q.;Bossy;jbossy@example.com;PROCESSMAKER_MANAGER;2015-01-31;US;Florida;Boca Raton;404 W. Elm St.;987-654-3210;46135;;CEO;;janevp
mcounter;Mary;Counter;mcounter@example.com;PROCESSMAKER_OPERATOR;2015-12-01;US;Indiana;Greencastle;714 E. Oak Ave;123-456-7890;52201;Accounting;Chief Accountant;jbossy;bobbilling
...
</codeblock>
<p>The first line indicates the names of the fields in the CSV file and will be ignored when parsing the file. Each line thereafter contains fields of information about a user to import into Processmaker. The first six fields, <tt>userId;firstname;lastname;email;role;password</tt>, will be used as the parameters for the createUser() function. The rest of the fields will be inserted directly into the <tt>wf_&lt;WORKSPACE&gt;.USERS</tt> table.</p>
<p>The script first opens the CSV file and imports this information into an array. Then it looks through each element in the array, calling the createUser() function. After all the users are created in ProcessMaker and they all have records in the <tt>wf_&lt;WORKSPACE&gt;.USERS</tt> table, then the script will loop through the array a second time, and write the remaining information directly to the <tt>wf_&lt;WORKSPACE&gt;.USERS</tt> table using PHP's <a href="http://php.net/manual/en/book.mysql.php" class="external text" rel="nofollow">mysql functions</a>. Before writing to the table, the unique IDs for departments and users will have to be looked up, so they can be inserted into the <code>USR_DEPARTMENT</code>, <code>USR_REPORTS_TO</code> and <code>USR_REPLACED_BY</code> fields.</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">&lt;?php</span><br />
<a href="http://php.net/ini_set"><span style="color: #990000;">ini_set</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;soap.wsdl_cache_enabled&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;0&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/ini_set"><span style="color: #990000;">ini_set</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'error_reporting'</span><span style="color: #339933;">,</span> <span style="color: #009900; font-weight: bold;">E_ALL</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/ini_set"><span style="color: #990000;">ini_set</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'display_errors'</span><span style="color: #339933;">,</span> <span style="color: #009900; font-weight: bold;">True</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #666666; font-style: italic;">//Generic function to lookup information in a ProcessMaker database</span><br />
<span style="color: #000000; font-weight: bold;">function</span> queryDB<span style="color: #009900;">&#40;</span><span style="color: #000088;">$varToFind</span><span style="color: #339933;">,</span> <span style="color: #000088;">$query</span><span style="color: #339933;">,</span> <span style="color: #000088;">$fieldToReturn</span><span style="color: #339933;">,</span> <span style="color: #000088;">$errorMsg</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/empty"><span style="color: #990000;">empty</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$varToFind</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">return</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp;<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <a href="http://php.net/mysql_query"><span style="color: #990000;">mysql_query</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #009900;">&#41;</span> or<br />
&nbsp; &nbsp; &nbsp; <a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Error: Unable to query database.<span style="color: #000099; font-weight: bold;">\n</span><span style="color: #000099; font-weight: bold;">\t</span>Query:<span style="color: #000099; font-weight: bold;">\n</span><span style="color: #000099; font-weight: bold;">\t</span><span style="color: #006699; font-weight: bold;">$query</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$record</span> <span style="color: #339933;">=</span> <a href="http://php.net/mysql_fetch_array"><span style="color: #990000;">mysql_fetch_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #339933;">,</span> MYSQL_ASSOC<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">!</span><span style="color: #000088;">$record</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; <a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Error: <span style="color: #006699; font-weight: bold;">$errorMsg</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp;<span style="color: #b1b100;">return</span> <span style="color: #000088;">$record</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;<span style="color: #006699; font-weight: bold;">$fieldToReturn</span>&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<br />
<span style="color: #666666; font-style: italic;">// Check if CSV file of users was passed as a parameter to this script</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span>argc <span style="color: #339933;">&lt;</span> <span style="color: #cc66cc;">2</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<a href="http://php.net/exit"><span style="color: #990000;">exit</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Error: Must specify a CSV file of users to import.&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #666666; font-style: italic;">// Open the CSV file as an array for each line</span><br />
<span style="color: #000088;">$aUsers</span> <span style="color: #339933;">=</span> <a href="http://php.net/file"><span style="color: #990000;">file</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$argv</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$aUsers</span> <span style="color: #339933;">===</span> <span style="color: #009900; font-weight: bold;">false</span> or <span style="color: #339933;">!</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aUsers</span><span style="color: #009900;">&#41;</span> or <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aUser</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&lt;</span> <span style="color: #cc66cc;">2</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<a href="http://php.net/exit"><span style="color: #990000;">exit</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Error: file <span style="color: #000099; font-weight: bold;">\&quot;</span><span style="color: #006699; font-weight: bold;">{$argv[1]}</span><span style="color: #000099; font-weight: bold;">\&quot;</span> does not exist or has no content.&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #666666; font-style: italic;">// Remove the first element of the array, which are the column headers:</span><br />
<span style="color: #000088;">$aUsers</span> <span style="color: #339933;">=</span> <a href="http://php.net/array_slice"><span style="color: #990000;">array_slice</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aUsers</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aUsersInFields</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #666666; font-style: italic;">//Loop through the array and for each user break the line into its individual fields.</span><br />
<span style="color: #666666; font-style: italic;">//Make sure that there are 17 fields of information for each user; otherwise stop and correct CSV file.</span><br />
<span style="color: #b1b100;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$cnt</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">0</span><span style="color: #339933;">;</span> <span style="color: #000088;">$len</span> <span style="color: #339933;">=</span> len<span style="color: #009900;">&#40;</span><span style="color: #000088;">$aUsers</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #000088;">$cnt</span> <span style="color: #339933;">&lt;</span> <span style="color: #000088;">$len</span><span style="color: #339933;">;</span> <span style="color: #000088;">$cnt</span><span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$aUsersInFields</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$cnt</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">=</span> <a href="http://php.net/explode"><span style="color: #990000;">explode</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">';'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aUsers</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$cnt</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$fieldCnt</span> <span style="color: #339933;">=</span> len<span style="color: #009900;">&#40;</span><span style="color: #000088;">$aUsersInFields</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$cnt</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$fieldCnt</span> <span style="color: #339933;">!=</span> <span style="color: #cc66cc;">17</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; <a href="http://php.net/exit"><span style="color: #990000;">exit</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Error in line &quot;</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$cnt</span> <span style="color: #339933;">+</span> <span style="color: #cc66cc;">2</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;: Should be 17 fields, but <span style="color: #006699; font-weight: bold;">$fieldCnt</span> fields found.&quot;</span> <span style="color: #339933;">.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #0000ff;">&quot;<span style="color: #000099; font-weight: bold;">\n</span>Check:<span style="color: #000099; font-weight: bold;">\n</span>{<span style="color: #006699; font-weight: bold;">$aUsers</span>[<span style="color: #006699; font-weight: bold;">$cnt</span>]}&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<br />
<span style="color: #666666; font-style: italic;">//Login to web services</span><br />
<span style="color: #000088;">$client</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> SoapClient<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'http://localhost/sysworkflow/en/neoclassic/services/wsdl2'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$pass</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'md5:'</span> <span style="color: #339933;">.</span> <a href="http://php.net/md5"><span style="color: #990000;">md5</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'admin'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'userid'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'admin'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'password'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$pass</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'login'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">status_code</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$sessionId</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">message</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp;<a href="http://php.net/exit"><span style="color: #990000;">exit</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Unable to connect to ProcessMaker.<span style="color: #000099; font-weight: bold;">\n</span>Error Number: <span style="color: #006699; font-weight: bold;">$result-&gt;status_code</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span> <span style="color: #339933;">.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">&quot;Error Message: <span style="color: #006699; font-weight: bold;">$result-&gt;message</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #666666; font-style: italic;">//loop through array of users and create new users with web services</span><br />
<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$aUsersInFields</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$user</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$userId</span> &nbsp; &nbsp;<span style="color: #339933;">=</span> <a href="http://php.net/trim"><span style="color: #990000;">trim</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$user</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$firstname</span> <span style="color: #339933;">=</span> <a href="http://php.net/trim"><span style="color: #990000;">trim</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$user</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$lastname</span> &nbsp;<span style="color: #339933;">=</span> <a href="http://php.net/trim"><span style="color: #990000;">trim</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$user</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">2</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$email</span> &nbsp; &nbsp; <span style="color: #339933;">=</span> <a href="http://php.net/trim"><span style="color: #990000;">trim</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$user</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">3</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$role</span> &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=</span> <a href="http://php.net/trim"><span style="color: #990000;">trim</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$user</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">4</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$password</span> &nbsp;<span style="color: #339933;">=</span> <a href="http://php.net/trim"><span style="color: #990000;">trim</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$user</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">5</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'userId'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$userId</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">'firstname'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$firstname</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'lastname'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$lastname</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'email'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$email</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">'role'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$role</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'password'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$password</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'createUser'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">status_code</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;<span style="color: #006699; font-weight: bold;">$result-&gt;message</span><span style="color: #000099; font-weight: bold;">\n</span>User UID: <span style="color: #006699; font-weight: bold;">$result-&gt;userUID</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp; &nbsp; <a href="http://php.net/exit"><span style="color: #990000;">exit</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Unable to create user <span style="color: #000099; font-weight: bold;">\&quot;</span><span style="color: #006699; font-weight: bold;">$firstname</span> <span style="color: #006699; font-weight: bold;">$lastname</span><span style="color: #000099; font-weight: bold;">\&quot;</span> (<span style="color: #006699; font-weight: bold;">$userId</span>).<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span> <span style="color: #339933;">.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">&quot;Error Number: <span style="color: #006699; font-weight: bold;">$result-&gt;status_code</span><span style="color: #000099; font-weight: bold;">\n</span>Error Message: <span style="color: #006699; font-weight: bold;">$result-&gt;message</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<br />
<span style="color: #666666; font-style: italic;">//connect to the wf_workflow database used by ProcessMaker</span><br />
<span style="color: #000088;">$conn</span> <span style="color: #339933;">=</span> <a href="http://php.net/mysql_connect"><span style="color: #990000;">mysql_connect</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'localhost:3306'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'root'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'P@ssW0rd'</span><span style="color: #009900;">&#41;</span> or<br />
&nbsp; &nbsp;<a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Error connecting to mysql.<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/mysql_select_db"><span style="color: #990000;">mysql_select_db</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'wf_workflow'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #666666; font-style: italic;">//After all the users are created, loop through and look up unique IDs.</span><br />
<span style="color: #666666; font-style: italic;">//Then use PHP's mysql functions to insert the values in the USERS table.</span><br />
<span style="color: #b1b100;">foreach</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aUsersInFields</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$user</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$userId</span> &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #339933;">=</span> <a href="http://php.net/trim"><span style="color: #990000;">trim</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$user</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$dueDate</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=</span> <a href="http://php.net/empty"><span style="color: #990000;">empty</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$user</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">6</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span> ? <a href="http://php.net/date"><span style="color: #990000;">date</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Y-m-d'</span><span style="color: #339933;">,</span> <a href="http://php.net/strtotime"><span style="color: #990000;">strtotime</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'+2 year'</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">:</span> <a href="http://php.net/trim"><span style="color: #990000;">trim</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$user</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">6</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$countryName</span> &nbsp; &nbsp;<span style="color: #339933;">=</span> <a href="http://php.net/trim"><span style="color: #990000;">trim</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$user</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">7</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$cityName</span> &nbsp; &nbsp; &nbsp; <span style="color: #339933;">=</span> <a href="http://php.net/trim"><span style="color: #990000;">trim</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$user</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">8</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> &nbsp;<span style="color: #666666; font-style: italic;">//USERS.USR_CITY field is really the region or state</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$locationName</span> &nbsp; <span style="color: #339933;">=</span> <a href="http://php.net/trim"><span style="color: #990000;">trim</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$user</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">9</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$address</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=</span> <a href="http://php.net/trim"><span style="color: #990000;">trim</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$user</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">10</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$phone</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=</span> <a href="http://php.net/trim"><span style="color: #990000;">trim</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$user</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">11</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$zipCode</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=</span> <a href="http://php.net/trim"><span style="color: #990000;">trim</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$user</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">12</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//postal code</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$departmentName</span> <span style="color: #339933;">=</span> <a href="http://php.net/trim"><span style="color: #990000;">trim</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$user</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">13</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$position</span> &nbsp; &nbsp; &nbsp; <span style="color: #339933;">=</span> <a href="http://php.net/trim"><span style="color: #990000;">trim</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$user</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">14</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$reportsToName</span> &nbsp;<span style="color: #339933;">=</span> <a href="http://php.net/trim"><span style="color: #990000;">trim</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$user</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">15</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$replacedByName</span> <span style="color: #339933;">=</span> <a href="http://php.net/trim"><span style="color: #990000;">trim</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$user</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">16</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//find the unique ID for the department</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$departmentId</span> <span style="color: #339933;">=</span> queryDB<span style="color: #009900;">&#40;</span><span style="color: #000088;">$departmentName</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;SELECT CON_ID FROM CONTENT WHERE<br />
&nbsp; &nbsp; &nbsp; CON_CATEGORY='DEPO_TITLE' AND CON_VALUE='<span style="color: #006699; font-weight: bold;">$departmentName</span>'&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'CON_ID'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">&quot;Unable to find department '<span style="color: #006699; font-weight: bold;">$departmentName</span>' in the CONTENT table.&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//find the UID for the $reportsToName user in the USERS table</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$reportsToId</span> <span style="color: #339933;">=</span> queryDB<span style="color: #009900;">&#40;</span><span style="color: #000088;">$reportsToName</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">&quot;SELECT USR_UID FROM USERS WHERE USR_USERNAME='<span style="color: #006699; font-weight: bold;">$reportsToName</span>'&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'USR_UID'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">&quot;Unable to find the Reports_To user '<span style="color: #006699; font-weight: bold;">$reportsToName</span>' in the USERS table.&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//find the UID for the $replacedByName user in the USERS table</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$replacedById</span> <span style="color: #339933;">=</span> queryDB<span style="color: #009900;">&#40;</span><span style="color: #000088;">$replacedByName</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">&quot;SELECT USR_UID FROM USERS WHERE USR_USERNAME='<span style="color: #006699; font-weight: bold;">$replacedByName</span>'&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'USR_UID'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">&quot;Unable to find the Replaced_By user '<span style="color: #006699; font-weight: bold;">$replacedByName</span>' in the USERS table.&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//find the ID for the $countryName in the ISO_COUNTRY table</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$countryId</span> <span style="color: #339933;">=</span> queryDB<span style="color: #009900;">&#40;</span><span style="color: #000088;">$countryName</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">&quot;SELECT IC_UID FROM ISO_COUNTRY WHERE IC_NAME='<span style="color: #006699; font-weight: bold;">$countryName</span>'&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'IC_UID'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">&quot;Unable to find the country '<span style="color: #006699; font-weight: bold;">$countryName</span>' in the ISO_COUNTRY table.&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//find the ID for the $cityName in the ISO_SUBDIVISION table</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$cityId</span> <span style="color: #339933;">=</span> queryDB<span style="color: #009900;">&#40;</span><span style="color: #000088;">$cityName</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;SELECT IS_UID FROM ISO_SUBDIVISION<br />
&nbsp; &nbsp; &nbsp; WHERE IC_UID='<span style="color: #006699; font-weight: bold;">$countryId</span>' AND IS_NAME='<span style="color: #006699; font-weight: bold;">$cityName</span>'&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'IS_UID'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">&quot;Unable to find the city '<span style="color: #006699; font-weight: bold;">$cityName</span>' in the ISO_SUBDIVISION table.&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//find the ID for the $locationName in the ISO_LOCATION table</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$locationId</span> <span style="color: #339933;">=</span> queryDB<span style="color: #009900;">&#40;</span><span style="color: #000088;">$locationName</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;SELECT IL_UID FROM ISO_LOCATION<br />
&nbsp; &nbsp; &nbsp; WHERE IC_UID='<span style="color: #006699; font-weight: bold;">$countryId</span>' AND IS_UID='<span style="color: #006699; font-weight: bold;">$cityId</span>' AND IL_NAME='<span style="color: #006699; font-weight: bold;">$locationName</span>'&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">'IL_UID'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;Unable to find the location '<span style="color: #006699; font-weight: bold;">$locationName</span>' in the ISO_LOCATION table.&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//write the data to the user's profile in ProcessMaker</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;UPDATE USERS SET USR_DUE_DATE='<span style="color: #006699; font-weight: bold;">$dueDate</span>', USR_COUNTRY='<span style="color: #006699; font-weight: bold;">$countryId</span>', USR_CITY='<span style="color: #006699; font-weight: bold;">$cityId</span>',<br />
&nbsp; &nbsp; &nbsp; USR_LOCATION='<span style="color: #006699; font-weight: bold;">$locationId</span>', USR_ADDRESS='<span style="color: #006699; font-weight: bold;">$address</span>', USR_PHONE='<span style="color: #006699; font-weight: bold;">$phone</span>', USR_ZIP_CODE='<span style="color: #006699; font-weight: bold;">$zipCode</span>',<br />
&nbsp; &nbsp; &nbsp; USR_DEPARTMENT='<span style="color: #006699; font-weight: bold;">$departmentId</span>', USR_POSITION='<span style="color: #006699; font-weight: bold;">$position</span>', USR_REPORTS_TO='<span style="color: #006699; font-weight: bold;">$reportsToId</span>',<br />
&nbsp; &nbsp; &nbsp; USR_REPLACED_BY='<span style="color: #006699; font-weight: bold;">$replacedById</span>' WHERE USR_USERNAME='<span style="color: #006699; font-weight: bold;">$userId</span>'&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<a href="http://php.net/mysql_query"><span style="color: #990000;">mysql_query</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #009900;">&#41;</span> or <a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Error: UPDATE failed:<span style="color: #000099; font-weight: bold;">\n</span><span style="color: #000099; font-weight: bold;">\t</span><span style="color: #006699; font-weight: bold;">$query</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<br />
<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Inserted &quot;</span> <span style="color: #339933;">.</span> <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aUsersInFields</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot; new users in the USERS table.<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000000; font-weight: bold;">?&gt;</span></div></div>

<p>The above script named "importusers.php" can be called from the command line:</p>
<codeblock>php importusers.php <em>userlist.csv</em>
</codeblock>

<h3><span id="Approval_via_Email" class="mw-headline">Approval via Email</span></h3>

<p>Web services can be used to allow managers to approve or disapprove a decision directly from an email. In this example, a manager receives an email with links to either approve or disapprove a purchase request. The links lead to a script that sends a variable to the case named "approved". If the manager clicks on the link to approve the purchase, the case will route to one task. If they clicks to disapprove, the case will route to a different task. The evaluation routing rules for these tasks is <strong><code>@@approved == 'yes'</code></strong> and <strong><code>@@approved == 'no'</code></strong>, respectively.</p>
<p>First, create the following email template named "ManagerDecision.html" in an external HTML editor:</p>
<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;">&nbsp; &nbsp; <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/html.html"><span style="color: #000000; font-weight: bold;">html</span></a>&gt;</span><br />
<br />
&nbsp; &nbsp; <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/body.html"><span style="color: #000000; font-weight: bold;">body</span></a>&gt;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/table.html"><span style="color: #000000; font-weight: bold;">table</span></a> <span style="color: #000066;">border</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;1&quot;</span>&gt;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/caption.html"><span style="color: #000000; font-weight: bold;">caption</span></a>&gt;&lt;<a href="http://december.com/html/4/element/i.html"><span style="color: #000000; font-weight: bold;">i</span></a>&gt;</span>Purchase Request<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/i.html"><span style="color: #000000; font-weight: bold;">i</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/caption.html"><span style="color: #000000; font-weight: bold;">caption</span></a>&gt;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/tr.html"><span style="color: #000000; font-weight: bold;">tr</span></a>&gt;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/th.html"><span style="color: #000000; font-weight: bold;">th</span></a>&gt;</span>Date<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/th.html"><span style="color: #000000; font-weight: bold;">th</span></a>&gt;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/th.html"><span style="color: #000000; font-weight: bold;">th</span></a>&gt;</span>Item<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/th.html"><span style="color: #000000; font-weight: bold;">th</span></a>&gt;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/th.html"><span style="color: #000000; font-weight: bold;">th</span></a>&gt;</span>Cost<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/th.html"><span style="color: #000000; font-weight: bold;">th</span></a>&gt;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/tr.html"><span style="color: #000000; font-weight: bold;">tr</span></a>&gt;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/tr.html"><span style="color: #000000; font-weight: bold;">tr</span></a>&gt;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span>@#ReqDate<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span>@#ReqItem<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span>$@#ReqCost<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/th.html"><span style="color: #000000; font-weight: bold;">th</span></a>&gt;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/tr.html"><span style="color: #000000; font-weight: bold;">tr</span></a>&gt;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/table.html"><span style="color: #000000; font-weight: bold;">table</span></a>&gt;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>Click to <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a> <span style="color: #000066;">href</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;http://192.168.1.100/response.php?approved=yes&amp;case=@#APPLICATION&quot;</span>&gt;</span>approve<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a>&gt;</span> or<br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a> <span style="color: #000066;">href</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;http://192.168.1.100/response.php?approved=no&amp;case=@#APPLICATION&quot;</span>&gt;</span>disapprove<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a>&gt;</span> this purchase.<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/body.html"><span style="color: #000000; font-weight: bold;">body</span></a>&gt;</span><br />
<br />
&nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/html.html"><span style="color: #000000; font-weight: bold;">html</span></a>&gt;</span></div></div>

<p>The email will look something like:</p>
<hr>
<table style="width:auto;" border="1">
    <caption><em>Purchase Request</em></caption>
    <tbody>
        <tr>
            <th>Date</th>
            <th>Item</th>
            <th>Cost</th>
        </tr>
        <tr>
            <td>09-12-2009</td>
            <td>Pioneer Big Screen Projector</td>
            <td>$2000</td>
        </tr>
    </tbody>
</table>
<p>Click to <font color="blue">approve</font> or <font color="blue">disapprove</font> this purchase.</p>
<hr>
<p><br>Then, upload the email template to your process. Open the process in ProcessMaker and <em>right click</em> on the process map to select the option <strong>Process File Manager</strong> from the dropdown menu. Go to the <strong>mailTemplates</strong> directory and click on the <strong>Upload</strong> link to upload the email template.</p>
<p>Create a trigger to send this email to the manager at a certain point in the process. Use the <a href="../3.0/ProcessMaker_Functions.html#userInfo.28.29" title="ProcessMaker Functions">userInfo()</a> function to look up the manager's email address and use the <a href="../3.0/ProcessMaker_Functions.html#PMFSendMessage.28.29" title="ProcessMaker Functions">PMFSendMessage()</a> function to send the email message.</p>
<p>Then create the script <tt>/opt/processmaker/workflow/public_html/response.php</tt> on the ProcessMaker server.</p>
<p>As of version 2.5.0, it is necessary to create a <a href="../index.php/2.0.36/Plugin_Development.html#Creating_a_new_Plugin" title="2.0.36/Plugin Development">dummy plugin</a> and create the following script inside its respective public_html folder.</p>
<p>If using either version mentioned above, the script can be accessed with a web browser at the address <tt>http://192.168.1.100/response.php</tt>:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;">&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">&lt;?php</span><br />
<a href="http://php.net/ini_set"><span style="color: #990000;">ini_set</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;soap.wsdl_cache_enabled&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;0&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;">//ini_set('error_reporting', E_ALL); //uncomment to debug</span><br />
<span style="color: #666666; font-style: italic;">//ini_set('display_errors', True); &nbsp;//uncomment to debug</span><br />
<br />
<span style="color: #000088;">$client</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> SoapClient<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'http://192.168.1.100/sysworkflow/en/neoclassic/services/wsdl2'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$pass</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'md5:'</span> <span style="color: #339933;">.</span> <a href="http://php.net/md5"><span style="color: #990000;">md5</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'admin'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'userid'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'admin'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'password'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$pass</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'login'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">status_code</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #000088;">$sessionId</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">message</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp; <a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;&lt;html&gt;&lt;body&gt;&lt;pre&gt; Unable to connect to ProcessMaker.<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span> <span style="color: #339933;">.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">&quot;Error Message: <span style="color: #006699; font-weight: bold;">$result-&gt;message</span> &lt;/pre&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000000; font-weight: bold;">class</span> variableStruct <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000088;">$name</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000088;">$value</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<br />
<span style="color: #000088;">$var</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> variableStruct<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$var</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">name</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;approved&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$var</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">value</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$_GET</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'approved'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$variables</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$var</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sessionId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$sessionId</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'caseId'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$_GET</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'case'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'variables'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$variables</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sendVariables'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">status_code</span> <span style="color: #339933;">!=</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;&lt;html&gt;&lt;body&gt;&lt;pre&gt; Error: <span style="color: #006699; font-weight: bold;">$result-&gt;message</span> &lt;/pre&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #666666; font-style: italic;">//Use routeCase() to route the case using the case variable @@approved in the evaluation condition</span><br />
<br />
<span style="color: #000000; font-weight: bold;">?&gt;</span></div></div>
<h3><span id="Automatic_Login" class="mw-headline">Automatic Login</span></h3>
<p>ProcessMaker's web services <a href="981.html#Logging_in_with_ProcessMaker.27s_WSDL_web_services">login()</a> function can be used to log in a user and acquire a session ID in an external script. Using that session ID, the web browser can then be directed to any address inside ProcessMaker, thus bypassing the login screen. To avoid a manual login, pass the session ID as the GET variable "sid" in a ProcessMaker URL:</p>
<dl>
    <dd><tt>http://&lt;IP-ADDRESS&gt;:&lt;PORT&gt;/sys&lt;WORKSPACE&gt;/&lt;LANGUAGE&gt;/&lt;SKIN&gt;/&lt;MENU&gt;/&lt;SUBMENU&gt;?sid=&lt;SESSION-ID&gt;</tt></dd>
</dl>
<p>For example, to go directly to the <strong>USERS LIST</strong> in ProcessMaker 1.X on a server located at 192.168.1.100, using the default "workflow" workspace, the "en" (English) language and the default "green" skin, with a session ID of "3D2187041194d000bca6b8756033322858":</p>
<dl>
    <dd><tt>http://192.168.1.100/sysworkflow/en/neoclassic/users/users_List?sid=3D2187041194d000bca6b8756033322858</tt></dd>
</dl>
<p>In the following script, web services is used to log in the "admin" user and acquire a session ID. PHP's <a href="http://php.net/manual/en/function.header.php" class="external text" rel="nofollow">header()</a> function is then used to redirect the web browser to the case list inside ProcessMaker. The session ID is passed as the "sid" GET variable inside the URL:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">&lt;?php</span><br />
<a href="http://php.net/ini_set"><span style="color: #990000;">ini_set</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;soap.wsdl_cache_enabled&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;0&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;">//ini_set('error_reporting', E_ALL); //uncomment to debug</span><br />
<span style="color: #666666; font-style: italic;">//ini_set('display_errors', True); &nbsp;//uncomment to debug</span><br />
&nbsp; &nbsp; &nbsp;<br />
<span style="color: #000088;">$client</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> SoapClient<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'http://localhost:320/sysworkflow/en/neoclassic/services/wsdl2'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$pass</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'md5:'</span> <span style="color: #339933;">.</span> <a href="http://php.net/hash"><span style="color: #990000;">hash</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'sha256'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'admin'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'userid'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'admin'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'password'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$pass</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$client</span><span style="color: #339933;">-&gt;</span>__SoapCall<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'login'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp;<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">status_code</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #000088;">$sessionId</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">message</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <a href="http://php.net/header"><span style="color: #990000;">header</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Location: http://localhost:320/sysworkflow/en/neoclassic/cases/main?sid=<span style="color: #006699; font-weight: bold;">$sessionId</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;&lt;html&gt;&lt;body&gt;&lt;pre&gt; Unable to connect to ProcessMaker.<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span> <span style="color: #339933;">.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">&quot;Error Message: <span style="color: #006699; font-weight: bold;">$result-&gt;message</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #000000; font-weight: bold;">?&gt;</span></div></div>

<p>It is important to not print anything with this script before calling the header() function, otherwise it will corrupt the HTTP header, causing error messages like:</p>

<p style="margin-left:25px"><strong><font color="red">Warning:</font></strong> <font color="dimgray"> Cannot modify header information - headers already sent by (output started at <em><strong>script-name</strong></em>.php:16) in <em><strong>script-name</strong></em>.php on line 18</font></p>

<p>If your script needs to print something before using the <a href="http://php.net/manual/en/function.header.php" class="external text" rel="nofollow">header()</a> function to redirect to a different web page, then use the <a href="http://php.net/manual/en/function.ob-flush.php" class="external text" rel="nofollow">ob_flush()</a> or <a href="http://www.php.net/manual/en/function.ob-clean.php" class="external text" rel="nofollow">ob_clean()</a> function to clear out the header's output buffer beforehand.</p>

<h3><span id="SSL_Certificates_in_SOAP">SSL Certificates in the SOAP Client</span></h3>
<p>If your ProcessMaker instance includes SSL with an autogenerated certificate, the SOAP Client requires to send additional options as parameters. Then, the next example displays a way how to configure the <code>SoapClient</code> class including SSL options:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$client</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> SoapClient<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'https://localhost/sysworkflow/en/neoclassic/services/wsdl2'</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#91;</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">'stream_context'</span> <span style="color: #339933;">=&gt;</span> <a href="http://php.net/stream_context_create"><span style="color: #990000;">stream_context_create</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#91;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">'ssl'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #009900;">&#91;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">'verify_peer'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #009900; font-weight: bold;">false</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">'verify_peer_name'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #009900; font-weight: bold;">false</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span><br />
<span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div></div></div></div>  </div>

      <footer>
          </footer>
  
    </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
      </section>
    </div>
  
      
    </div>

      
</div>

 <!---add diego--->
  <div id="download-app-section" class="download-app mobile-none">
			<div class="row">
				<div class="col-md-12">
					<div class="text_app">Download our app</div>
							<a href="https://itunes.apple.com/us/app/processmaker/id992576284?ls=1&mt=8" target="_blank">
								<img src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/images/appstore.png">
							<a href="https://play.google.com/store/apps/details?id=com.colosa.processmaker" target="_blank">
								<img src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/images/playstore.png">				
				</div>
			</div>
  </div>
  <!---end diego--->
<!----add diego----->    
		<div class="logo_processmaker"><a href="http://www.processmaker.com">
		<img src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/images/logo_processmaker.png"></div>
<!----end diego----->
<div id="footer">
  <div id="footer_wrapper">
      </div>

  <div class="social-media-wrapper">
         <div id="social-media-icons">
       <ul>
       	<div class="text_contact">Contact us</div>
				<div class="text_number">+1-617-340-3377</div>
        <!--<li><a class="rss" href="/rss.xml">rss</a></li> <!--edit diego-->
        <li><a class="facebook" href="http://facebook.com/processmaker/" target="_blank" rel="me">facebook</a></li>
        <li><a class="twitter" href="https://twitter.com/processmaker" target="_blank" rel="me">twitter</a></li>
        <li><a class="gplus" href="https://www.google.com/+ProcessMakerOpenSource" target="_blank" rel="me">Gplus</a></li>
        <li><a class="linkedin" href="https://www.linkedin.com/groups?mostRecent=&gid=3970335&trk=my_groups-tile-flipgrp" target="_blank" rel="me">Linked in</a></li>
        <!--<li><a class="dribbble" href="http://dribbble.com" target="_blank" rel="me">Dribbble</a></li>
        <li><a class="vimeo" href="http://vimeo.com" target="_blank" rel="me">Vimeo</a></li>-->
        <li><a class="youtube" href="https://www.youtube.com/user/processmaker" target="_blank" rel="me">Youtube</a></li>
       </ul>
      </div>
      </div>
  
  <div class="footer_credit">
    <div class="footer_inner_credit">
           <div id="foot"><div class="region region-footer">
  <div id="block-block-2" class="block block-block">

      
  <div class="content">
    <p><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF">Automate your Workflow with Business Process Management<br>Software licensed under the <a 1px="" class="external text" href="http://www.gnu.org/licenses/agpl.html" rel="nofollow" style="padding-right: 13px; color:white;">GNU Affero General Public License version 3</a><br>Contact us:&nbsp;<a class="external free" href="mailto:community@processmaker.com" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">community@processmaker.com</a><br><a class="external free" href="https://www.processmaker.com/privacy-statement" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">Privacy Statement</a></font><br><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF"> Copyright 2000-2024 ProcessMaker Inc. All rights reserved.</font></p>
  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
</div>
         
   <!-- <div id="copyright">
      <p class="copyright">Copyright &copy; 2024, Documentation@ProcessMaker </p>
      <!--<p class="credits"> Developed by  <a href="http://www.zymphonies.com">Zymphonies</a></p>
      <div class="clear"></div>
    </div>-->
  </div>
  
  </div>
</div>

</div>

<script type="text/javascript">
  /* <![CDATA[ */
  document.write (
    '<img src="https://marketing.processmaker.com/acton/bn/3812/visitor.gif?ts='+ new Date().getTime()+ '&ref='+escape(document.referrer) + '">'
  );
  /* ]]> */
</script>
  
</div>
    <style>
    .center-div{
        width: 100%;        
        margin: 0 auto;
        z-index:10000;
        position:fixed;
        bottom: 0px;
        cursor:pointer;
    }
    .round-popup{
        margin:0 auto;
        font-family: 'Montserrat', sans-serif;
        font-size: 15px;
        font-weight: lighter;
        width: 412px;
        height: 50px;
        padding-top: 7px;
        text-align: center;
        position:relative;
    }
    .round-popup-button{
        position:absolute;
        top: 11px;
        right: 15px;
        background: transparent;
        border:none;
        font-size:15px;
        font-weight:normal;
        line-height:20px;
        width:20px;
        height:20px;
        padding:0;
    }
    .round-background-blue{
        background: url('http://www.processmaker.com/uploads/blue.png')no-repeat;
        color:white;
        
    }
    #box-pm31-button-blue{
        color: rgba(255, 255, 255, 0.5);
    }
    
    #box-pm31-button-blue:active,#box-pm31-button-blue:focus{
        border:none;
        outline:none;
    }
    .round-background-blue a{
        color: white!important;
        text-decoration: none;
        font-size: 15px;
        line-height:45px;
        font-family:Montserrat, sans-serif;
    }
    .round-background-blue span{
        font-weight: bold;
    }
    /*WHITE background*/
    .round-background-white{
        background: url('http://www.processmaker.com/uploads/white.png')no-repeat;
        background-position-x: -9px;        
        color: #3397E1;
    }
    .round-background-white a:hover{
        color: #3397E1!important;
        text-decoration: none;
        font-size: 15px;
    }
    #box-pm31-button-white{
        color: rgba(51, 151, 225, 0.7);
    }
</style>
    <div id="box-pm31" class="center-div" style="display:none;">
        <div class="round-popup round-background-blue">
            <a onclick="ga('send', 'event', 'WikiBlueBanner','click','PM31Release');" href="http://www.processmaker.com/download-processmaker-landing-page">
                <span>ProcessMaker 3.1</span> is Here! Download Now <span style="font-size:20px;font-weigth:normal;"></span>
            </a>
            <button id="box-pm31-button-blue" class="round-popup-button">&times;</button>
        </div>
    </div>
    <script>

function pmCreateCookie(name,value,days) {
    if (days) {
        var date = new Date();
        date.setTime(date.getTime()+(days*24*60*60*1000));
        var expires = "; expires="+date.toGMTString();
    }
    else var expires = "";
    document.cookie = name+"="+value+expires+"; path=/";
}

function pmReadCookie(name) {
    var nameEQ = name + "=";
    var ca = document.cookie.split(';');
    for(var i=0;i < ca.length;i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
    }
    return null;
}

function pmEraseCookie(name) {
    createCookie(name,"",-1);
}



     jQuery(document).ready(function( $ ) {
        $('#box-pm31-button-blue').click(function(e){
                e.stopPropagation();
                $('#box-pm31').slideUp('fast');
                pmCreateCookie('ppcookie','val',10);
            });
        });
        jQuery(window).load(function() {
            if(pmReadCookie('ppcookie') !== 'val'){
                //jQuery('#box-pm31').delay( 2000 ).slideDown('slow');
            }
        });
    </script>
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">

<script type="text/javascript">
  (function() {
    window._pa = window._pa || {};
    // _pa.orderId = "myOrderId"; // OPTIONAL: attach unique conversion identifier to conversions
    // _pa.revenue = "19.99"; // OPTIONAL: attach dynamic purchase values to conversions
    // _pa.productId = "myProductId"; // OPTIONAL: Include product ID for use with dynamic ads
    var pa = document.createElement('script'); pa.type = 'text/javascript'; pa.async = true;
    pa.src = ('https:' == document.location.protocol ? 'https:' : 'http:') + "//tag.marinsm.com/serve/586a7ec3a2ae6b728400003d.js";
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(pa, s);
  })();
</script>

</body>
</html>
