<!DOCTYPE html>
<head>
<meta charset="utf-8" />
<meta name="keywords" content="BPM, business process management, workflow, processmaker, business, BPM Windows, BPM Linux, wiki, BPM documentation, BPM FAQ, task documentation, BPM PHP, BPM Open Source, BPM Variables, BPM Installation, BPM Programming, BPM Elements, BPM Concepts, BPM Frequently Asked Questions, BPM 3.0, BPM News, Release notes, DynaForms, BPM Community, BPM Enterprise, BPM Mobile, BPM Responsive Web Design, User Manual, BPM Resources" />
<link rel="alternate" hreflang="en" href="../index.html" />
<link rel="shortcut icon" href="https://wiki.processmaker.com/themes/thecompany_responsive_theme/favicon.ico" type="image/vnd.microsoft.icon" />
<meta name="description" content="ProcessMaker is commercial open source workflow and business process management software." />
<meta name="viewport" content="width=device-width" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="Output_Documents.html" />
<link rel="shortlink" href="../node/37.html" />
<title>3.0 - 3.1 - Output Documents | Documentation@ProcessMaker</title>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/modules/system/system.base.css?s743n7");
@import url("https://wiki.processmaker.com/modules/system/system.menus.css?s743n7");
@import url("https://wiki.processmaker.com/modules/system/system.messages.css?s743n7");
@import url("https://wiki.processmaker.com/modules/system/system.theme.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/modules/aggregator/aggregator.css?s743n7");
@import url("https://wiki.processmaker.com/modules/comment/comment.css?s743n7");
@import url("https://wiki.processmaker.com/modules/field/theme/field.css?s743n7");
@import url("https://wiki.processmaker.com/modules/node/node.css?s743n7");
@import url("https://wiki.processmaker.com/modules/search/search.css?s743n7");
@import url("https://wiki.processmaker.com/modules/toc_filter/toc_filter.css?s743n7");
@import url("https://wiki.processmaker.com/modules/user/user.css?s743n7");
@import url("https://wiki.processmaker.com/modules/views/css/views.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/sites/all/modules/colorbox/styles/default/colorbox_style.css?s743n7");
@import url("https://wiki.processmaker.com/modules/ctools/css/ctools.css?s743n7");
@import url("https://wiki.processmaker.com/sites/all/modules/geshifilter/geshifilter.css?s743n7");
@import url("https://wiki.processmaker.com/modules/panels/css/panels.css?s743n7");
@import url("https://wiki.processmaker.com/modules/nice_menus/css/nice_menus.css?s743n7");
@import url("https://wiki.processmaker.com/modules/nice_menus/css/nice_menus_default.css?s743n7");
@import url("https://wiki.processmaker.com/modules/fivestar/css/fivestar.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/themes/thecompany_responsive_theme/css/style.css?s743n7");
@import url("https://wiki.processmaker.com/themes/thecompany_responsive_theme/css/media.css?s743n7");
</style>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/replace/jquery/1.9/jquery.min.js?v=1.9.1"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/jquery.once.js?v=1.2"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/drupal.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/jquery.bgiframe.js?v=2.1"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/jquery.hoverIntent.js?v=0.5"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/superfish.js?v=1.4.8"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/nice_menus.js?v=1.0"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/replace/ui/external/jquery.cookie.js?v=67fb34f6a866c40d0570"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/replace/misc/jquery.form.min.js?v=2.69"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/ajax.js?v=7.34"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/js/jquery_update.js?v=0.0.1"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/toc_filter/toc_filter.js?s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/colorbox/js/colorbox.js@s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/colorbox/styles/default/colorbox_style.js@s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/google_analytics/googleanalytics.js@s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create", "UA-3380652-1", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");
//--><!]]>
</script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/progress.js?v=7.34"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/fivestar/js/fivestar.ajax.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/fivestar/js/fivestar.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/jquery-1.10.2.min.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/jquery-ui.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/jquery-ui.min.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/custom.js?s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"thecompany_responsive_theme","theme_token":"AfhGuEGLyyfZT9GZg3EBapc5ek7VQu00CAVVaQ3dpjE","jquery_version":"1.9","js":{"modules\/jquery_update\/replace\/jquery\/1.9\/jquery.min.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"modules\/nice_menus\/js\/jquery.bgiframe.js":1,"modules\/nice_menus\/js\/jquery.hoverIntent.js":1,"modules\/nice_menus\/js\/superfish.js":1,"modules\/nice_menus\/js\/nice_menus.js":1,"modules\/jquery_update\/replace\/ui\/external\/jquery.cookie.js":1,"modules\/jquery_update\/replace\/misc\/jquery.form.min.js":1,"misc\/ajax.js":1,"modules\/jquery_update\/js\/jquery_update.js":1,"modules\/toc_filter\/toc_filter.js":1,"sites\/all\/modules\/colorbox\/js\/colorbox.js":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.js":1,"sites\/all\/modules\/google_analytics\/googleanalytics.js":1,"0":1,"misc\/progress.js":1,"modules\/fivestar\/js\/fivestar.ajax.js":1,"modules\/fivestar\/js\/fivestar.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-1.10.2.min.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.min.js":1,"themes\/thecompany_responsive_theme\/js\/custom.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/aggregator\/aggregator.css":1,"modules\/comment\/comment.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/toc_filter\/toc_filter.css":1,"modules\/user\/user.css":1,"modules\/views\/css\/views.css":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.css":1,"modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/geshifilter\/geshifilter.css":1,"modules\/panels\/css\/panels.css":1,"modules\/nice_menus\/css\/nice_menus.css":1,"modules\/nice_menus\/css\/nice_menus_default.css":1,"modules\/fivestar\/css\/fivestar.css":1,"themes\/thecompany_responsive_theme\/css\/style.css":1,"themes\/thecompany_responsive_theme\/css\/media.css":1}},"colorbox":{"opacity":"0.85","current":"{current} of {total}","previous":"\u00ab Prev","next":"Next \u00bb","close":"Close","maxWidth":"98%","maxHeight":"98%","fixed":true,"mobiledetect":true,"mobiledevicewidth":"480px","specificPagesDefaultValue":"admin*\nimagebrowser*\nimg_assist*\nimce*\nnode\/add\/*\nnode\/*\/edit\nprint\/*\nprintpdf\/*\nsystem\/ajax\nsystem\/ajax\/*"},"toc_filter_smooth_scroll_duration":"","googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip","trackColorbox":1},"nice_menus_options":{"delay":"800","speed":"slow"},"ajax":{"edit-vote--2":{"callback":"fivestar_ajax_submit","event":"change","url":"\/system\/ajax","submit":{"_triggering_element_name":"vote"}}}});
//--><!]]>
</script>
<!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

<!-- Facebook Pixel Code -->
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','//connect.facebook.net/en_US/fbevents.js');
// Insert Your Facebook Pixel ID below.
fbq('init', '735235999992228');
fbq('track', 'PageView');
</script>
<!-- Insert Your Facebook Pixel ID below. -->
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=735235999992228&amp;ev=PageView&amp;noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->

</head>
<body class="html not-front not-logged-in no-sidebars page-node page-node- page-node-37 node-type-community-edition">
    
<div class="wrap">

<div id="header_wrapper">
  <div id="inner_header_wrapper">

    <header id="header" role="banner">
      
      <div class="header_inner_wrapper">
        <div class="header_left">
                      <div id="logo">
              <a href="../index.html" title="Home"><img src="../sites/default/files/full-logo.png"/></a>
            </div>
                    	  <div class="menu_wrapper">
            <nav id="main-menu"  role="navigation">
              <a class="nav-toggle" href="Output_Documents.html#">Navigation</a>
              <div class="menu-navigation-container">
                <ul class="menu"><li class="first leaf"><a href="../PM_Classic.html" title="Learn how to develop business solutions in ProcessMaker Platform while maintaining your existing ProcessMaker 3 solutions in PM Classic: the perfect bridge between your new and existing solutions with a state-of--the-art BPM platform.">PM Classic</a></li>
<li class="leaf"><a href="http://www.processmaker.com/tutorials" title="">Tutorials</a></li>
<li class="leaf"><a href="../3.1/user_guide.html">User Guide</a></li>
<li class="leaf"><a href="../3.1/developer_info.html">Developer Info</a></li>
<li class="leaf"><a href="../3.2/sys_administration.html">Sys Administration</a></li>
<li class="leaf"><a href="../3.1/resources.html">Helpful Resources</a></li>
<li class="leaf"><a href="../Sitemap.html">Sitemap</a></li>
<li class="last leaf"><a href="https://processmaker.gitbook.io/processmaker/" title="Read ProcessMaker Platform Spring 2023 documentation to learn more about the next generation of BPM.">ProcessMaker Platform</a></li>
</ul>              </div>
              <div class="clear"></div>
            </nav>
          </div>
                  <!--  <h1 id="site-title">
            <a href="/" title="Home">Documentation@ProcessMaker</a>
            <div id="site-description"></div>
          </h1> -->
            
        </div>
      </div>
      <div class="header_right">
          <div class="region region-search">
  <div id="block-search-form" class="block block-search">

        <h2 >_</h2>
    
  <div class="content">
    <form action="Output_Documents.html" method="post" id="search-block-form" accept-charset="UTF-8"><div><div class="container-inline">
    <div class="form-item form-type-textfield form-item-search-block-form">
  <label class="element-invisible" for="edit-search-block-form--2">Search </label>
 <input title="Enter the terms you wish to search for." placeholder="Search" type="text" id="edit-search-block-form--2" name="search_block_form" value="" size="15" maxlength="128" class="form-text" />
</div>
<div class="form-actions form-wrapper" id="edit-actions"><input type="submit" id="edit-submit" name="op" value="Search" class="form-submit" /></div><input type="hidden" name="form_build_id" value="form-e9b2buHAXzEnbmvNaDBMHt77Uiho8cPIadex2XYHCE4" />
<input type="hidden" name="form_id" value="search_block_form" />
</div>
</div></form>  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
                  <h1 class="page-title">3.0 - 3.1 - Output Documents</h1>                <p class="page-title-suffix"></p>
                 <div style="margin-top: 5px;"></div>
      </div>
    </header>
    <div class="region-version">
      <span>Version: </span><ul><li><a href="../3.3/Output_Documents.html" class="">3.8</a></li><li><a href="../3.3/Output_Documents.html" class="">3.7</a></li><li><a href="../3.3/Output_Documents.html" class="">3.6</a></li><li><a href="../3.3/Output_Documents.html" class="">3.5</a></li><li><a href="../3.3/Output_Documents.html" class="">3.4</a></li><li><a href="../3.3/Output_Documents.html" class="">3.3</a></li><li><a href="../3.2/Output_Documents.html" class="">3.2</a></li><li><a  class="active-version">3.1</a></li><li><a  class="active-version">3.0</a></li><li><a href="../index.php/Output_Documents.html" class="">2.x</a></li></ul>    </div>
  </div>
</div>
<!-- <ul class="nice-menu nice-menu-down nice-menu-main-menu" id="nice-menu-0"><li class="menu-506 menu-path-node-1078 first odd "><a href="/PM_Classic" title="Learn how to develop business solutions in ProcessMaker Platform while maintaining your existing ProcessMaker 3 solutions in PM Classic: the perfect bridge between your new and existing solutions with a state-of--the-art BPM platform.">PM Classic</a></li>
<li class="menu-319 menu-path-processmakercom-tutorials  even "><a href="http://www.processmaker.com/tutorials" title="">Tutorials</a></li>
<li class="menu-320 menu-path-node-571  odd "><a href="/3.1/user_guide">User Guide</a></li>
<li class="menu-1138 menu-path-node-572  even "><a href="/3.1/developer_info">Developer Info</a></li>
<li class="menu-1197 menu-path-node-876  odd "><a href="/3.2/sys_administration">Sys Administration</a></li>
<li class="menu-1140 menu-path-node-236  even "><a href="/3.1/resources">Helpful Resources</a></li>
<li class="menu-1141 menu-path-node-554  odd "><a href="/Sitemap">Sitemap</a></li>
<li class="menu-1213 menu-path-sprocessmakergitbookio-processmaker-  even last"><a href="https://processmaker.gitbook.io/processmaker/" title="Read ProcessMaker Platform Spring 2023 documentation to learn more about the next generation of BPM.">ProcessMaker Platform</a></li>
</ul>
-->
  
  <div id="container">
    
    <div class="content-sidebar-wrap">

    <div id="content">

              <!-- <div id="breadcrumbs">
        <h2 class="element-invisible">You are here</h2><div class="breadcrumb"><a href="/">Home</a></div></div> -->
      
      <section id="post-content" role="main">
                                        <div class="region region-content">
  <div id="block-system-main" class="block block-system">

      
  <div class="content">
                          <span property="dc:title" content="3.0 - 3.1 - Output Documents" class="rdf-meta element-hidden"></span>  
      
    
  <div class="content node-community-edition">
    <div class="field field-name-field-how-useful field-type-fivestar field-label-above"><div class="field-label">Please rate how useful you found this document:&nbsp;</div><div class="field-items"><div class="field-item even"><form class="fivestar-widget" action="Output_Documents.html" method="post" id="fivestar-custom-widget" accept-charset="UTF-8"><div><div  class="clearfix fivestar-average-text fivestar-average-stars fivestar-form-item fivestar-default"><div class="form-item form-type-fivestar form-item-vote">
 <div class="form-item form-type-select form-item-vote">
 <select id="edit-vote--2" name="vote" class="form-select"><option value="-">Select rating</option><option value="20">Give 3.0 - 3.1 - Output Documents 1/5</option><option value="40">Give 3.0 - 3.1 - Output Documents 2/5</option><option value="60" selected="selected">Give 3.0 - 3.1 - Output Documents 3/5</option><option value="80">Give 3.0 - 3.1 - Output Documents 4/5</option><option value="100">Give 3.0 - 3.1 - Output Documents 5/5</option></select>
<div class="description"><div class="fivestar-summary fivestar-summary-average-count"><span class="average-rating">Average: <span >3</span></span> <span class="total-votes">(<span >4</span> votes)</span></div></div>
</div>

</div>
</div><input class="fivestar-submit form-submit" type="submit" id="edit-fivestar-submit" name="op" value="Rate" /><input type="hidden" name="form_build_id" value="form-w2OzY8CEz7hBrATZjHB_mOaG1e63iavP8GBjuuCkjiY" />
<input type="hidden" name="form_id" value="fivestar_custom_widget" />
</div></form></div></div></div><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><div style="float: right; margin-left: 5px; background-color: #f9f9f9; border: 1px solid #aaaaaa; padding: 5px;"><center><strong>Contents:</strong> [<a href="Output_Documents.html#" onclick="var el = document.getElementById('toc');
        var txt = ('innerText' in el)? 'innerText' : 'textContent';
        if (el.style.display=='none') { 
           el.style.display = '';
           document.getElementById('hideLabel')[txt] = 'hide';
        }
        else {
	        el.style.display = 'none';
           document.getElementById('hideLabel')[txt] = 'show';
        }"><span id="hideLabel">hide</span></a>]</b></center><div id="toc" ><ol class="toc">
<li class="toc"><a href="Output_Documents.html#Overview">Overview</a></li>
<li class="toc"><a href="Output_Documents.html#Output_Document_Management">Output Document Management</a></li>
<li class="toc"><a href="Output_Documents.html#Creating_Output_Documents">Creating Output Documents</a></li>
<li class="toc"><a href="Output_Documents.html#Creating_Output_Documents_Usign_TCPDF_Generator">Creating Output Documents Using TCPDF Generator</a></li>
<li class="toc"><a href="Output_Documents.html#Editing_Templates">Editing Templates</a></li>
<ol class="toc">
<li class="toc"><a href="Output_Documents.html#Inserting_Variables">Inserting Variables</a></li>
<ol class="toc">
<li class="toc"><a href="Output_Documents.html#Line_Breaks_in_Textareas">Line Breaks in Textareas</a></li>
</ol>
<li class="toc"><a href="Output_Documents.html#Formatting_Output_Documents">Formatting Output Documents</a></li>
</ol>
<li class="toc"><a href="Output_Documents.html#Editing_the_HTML_Code">Editing the HTML Code</a></li>
<ol class="toc">
<li class="toc"><a href="Output_Documents.html#Inserting_Images">Inserting Images</a></li>
<li class="toc"><a href="Output_Documents.html#Inserting_form_fields">Inserting form fields</a></li>
<li class="toc"><a href="Output_Documents.html#Inserting_Variables_inside_Form_Fields">Inserting Variables inside Form Fields</a></li>
<ol class="toc">
<li class="toc"><a href="Output_Documents.html#Checkboxes_in_Output_Documents">Checkboxes in Output Documents</a></li>
</ol>
<li class="toc"><a href="Output_Documents.html#Inserting_Page_Breaks">Inserting Page Breaks</a></li>
<li class="toc"><a href="Output_Documents.html#Page_Headers_and_Footers">Page Headers and Footers (HTML2PDF Library)</a></li>
<li class="toc"><a href="Output_Documents.html#Page_Numbers_and_File_Information">Page Numbers and File Information (HTML2PDF Library)</a></li>
<li class="toc"><a href="Output_Documents.html#Formatting_documents_to_display_content_in_RTL">Formatting documents to display content in RTL</a></li>
</ol>
<li class="toc"><a href="Output_Documents.html#Grids_in_Output_documents">Grids in Output Documents</a></li>
<ol class="toc">
<li class="toc"><a href="Output_Documents.html#Grids_with_a_Fixed-Width_Font">Grids with a Fixed-Width Font</a></li>
<li class="toc"><a href="Output_Documents.html#Grids_inside_an_HTML_Table">Grids inside an HTML Table</a></li>
<li class="toc"><a href="Output_Documents.html#Editing_the_html_in_the_database">Editing the HTML in the database</a></li>
</ol>
<li class="toc"><a href="Output_Documents.html#Errors_with_Output_Documents">Errors with Output Documents</a></li>
<ol class="toc">
<li class="toc"><a href="Output_Documents.html#Error_while_generating_PDF_Documents">Error while generating PDF Documents</a></li>
<li class="toc"><a href="Output_Documents.html#Variables_are_not_inserted">Variables are not inserted</a></li>
<li class="toc"><a href="Output_Documents.html#Output_Document_is_empty">Output Document is empty</a></li>
<li class="toc"><a href="Output_Documents.html#Error_in_html2pdf">Error in html2pdf</a></li>
</ol>
<li class="toc"><a href="Output_Documents.html#Using_Non_ASCII_Characters_in_Output_Documents">Using Non US-ASCII Characters in Output Documents</a></li>
<li class="toc"><a href="Output_Documents.html#Output_Documents_in_Multiple_Languages">Output Documents in Multiple Languages</a></li>
<li class="toc"><a href="Output_Documents.html#Inserting_Output_Documents_into_the_Process">Inserting Output Documents into a Process</a></li>
<li class="toc"><a href="Output_Documents.html#Output_Documents_Examples">Output Documents Example</a></li>
<ol class="toc">
<li class="toc"><a href="Output_Documents.html#Simple_Output_Documents_Example">Simple Output Documents Example </a></li>
<li class="toc"><a href="Output_Documents.html#Output_Documents_Example_with_HTML">Output Documents Example with HTML</a></li>
</ol>
<li class="toc"><a href="Output_Documents.html#Output_Document_Storage">Output Document Storage</a></li>
<ol class="toc">
<li class="toc"><a href="Output_Documents.html#Output_Document_Definitions">Output Document Definitions</a></li>
<li class="toc"><a href="Output_Documents.html#Output_Document_Files">Output Document Files</a></li>
<ol class="toc">
<li class="toc"><a href="Output_Documents.html#Changing_the_File_Location">Changing the File Location</a></li>
</ol>
<li class="toc"><a href="Output_Documents.html#Generated_Output_Documents_in_the_Database">Generated Output Documents in the Database</a></li>
</ol>
<li class="toc"><a href="Output_Documents.html#Accessing_Output_Documents_with_Triggers">Accessing Output Document with Triggers</a></li>
<ol class="toc">
<li class="toc"><a href="Output_Documents.html#Links_to_Output_Documents_in_DynaForms">Links to Output Documents in DynaForms</a></li>
<li class="toc"><a href="Output_Documents.html#Generating_Output_Documents">Generating Output Documents</a></li>
<li class="toc"><a href="Output_Documents.html#convert_to_text_file">Convert Output Documents to Text Files</a></li>
</ol>
</div></div>

<h2><span id="Overview">Overview</span></h2>

<p>Output Documents are files generated while running a case, which are meant to be printed out or stored digitally outside ProcessMaker. Output Documents are useful for creating external records of case data, as well as creating formatted documents such as letters, bills and receipts. Output Documents are generated from HTML templates and can contain variables, which are auto-inserted when the Output Document is generated as a step when running a case. Output Documents are generated as PDF <em>(Portable Document Format)</em> and/or DOC <em>(Word document)</em> files, so they can be easily opened and printed using Adobe Acrobat and Microsoft Office (or alternatives such as <a  href="http://www.foxitsoftware.com/pdf/reader" >Foxit Reader</a>, <a  href="http://projects.gnome.org/evince" >Evince</a>, <a  href="http://okular.kde.org/" >Okular</a>, <a  href="http://www.corel.com/servlet/Satellite/gb/en/Product/1207676528492" >WordPerfect</a>, <a href="http://www.abisource.com/">AbiWord</a> and <a  href="http://www.openoffice.org/" >OpenOffice</a>).</p>

<p>If the Output Document is generated as a PDF file, either the <a  href="https://github.com/spipu/html2pdf/" target="_blank">HTML2PDF</a> (an old version of a PDF generator which is no longer recommended) or the <a href="http://www.tcpdf.org">TCPDF</a> library can be used to generate the PDF file. HTML2PDF can be used to insert some of the formatting options listed below, such as page breaks and headers and footers. In most cases, it is recommended to use the TCPDF library, which is compatible with more recent versions of PHP. TCPDF is recommended if generated PDFs contain images or it is necesary to minimize the size of the file, n the other hand HTML2PDF generates compressed PDF documents, which omit extra parameters in the code, which means that the PDF file will be smaller in size.</p>

<h2><strong><span id="Output_Document_Management">Output Document Management</span></strong></h2>
<p>It is possible to see the list of Output Documents created in the project. Click on the Output Documents option inside the Main Toolbox:</p>
<p><img alt="" src="../sites/default/files/OutputDocumentOptionVersion3.png"></p>
<p>All the Output Documents will be listed:</p>
<p><img alt="" src="../sites/default/files/OutputDocumentsListVersion3.png"></p>
<p>Where:</p>
<ol>
    <li><p><strong>Search Field:</strong> Enter the title of an output document in this field. As the text is entered all coincidences will be filtered in the list below.</p>
        <p><img alt="" src="../sites/default/files/OutputDocumentSearchVersion3.png"></p>
    </li>
    <li><p><strong>Create:</strong> Opens a window to create a new output document. It is possible to use either this option to create an output document or <a href="Output_Documents.html#Creating_Output_Documents">this option</a>.</p>
    </li>
    <li><p><strong>Show ID:</strong> Obtains the unique identification code of the output document. For instance, use this ID to create an output document using the <a href="ProcessMaker_Functions.html#PMFGenerateOutputDocument.28.29" title="ProcessMaker Functions">PMFGenerateOutputDocument</a> function.</p>
    </li>
    <li><p><strong>Title:</strong> Shows the title of the output document created in the project. The list is sorted in ascending order by default, but it is possible to view the list of documents in descending order by clicking on the down triangle next to "Title".</p></li>
    <li><p><strong>Type:</strong>Shows the type of document, which always is HTML.</p></li>
    <li><p><strong>Edit:</strong> Opens a window to edit the corresponding output document.</p></li>
    <li><p><strong>Open Editor:</strong> Opens the <tt>WYSIWYG HTML</tt> editor to edit the document template:</p>
        <p><img alt="" src="../sites/default/files/OutputDocumentEditorWindow.png"></p>
        <p>Read <a href="../index.php/New_WYSIWYG_HTML_Editor.html" title="New WYSIWYG HTML Editor"> this documentation</a> to learn how to use the HTML editor.</p>
    </li>
    <li><p><strong>Delete:</strong> Click this option to delete the output document. The following confirmation message will be shown:</p>
        <p><img alt="" src="../sites/default/files/OutputDocumentDeleteMessageVersion3.png"></p>
        <p>Select Yes to delete the output document and the flash message "Output document deleted successfully" will be shown in the upper part of the designer.</p>
    </li>
    <li><p><strong>Pagination Control:</strong> When there are more than 10 documents created in the project, a new page is added to this window. To navigate through these pages use the &gt; or &lt; options. To view a specific page, click on the number of the page in the control.</p>
    </li>
</ol>

<h2><strong><span id="Creating_Output_Documents">Creating Output Documents</span></strong></h2>
<p>To create a new Output Document, open a project and go to the right side of the screen where the <a href="Processes.html#Main_toolbox" title="3.0/Processes">Main Toolbox</a> is located. Hover the pointer of the mouse over the <tt><strong>+</strong></tt>icon and the Create option will be displayed to the left:</p>
<p><img alt="" src="../sites/default/files/OutputDocumentCreateOptionVersion3.png"></p>

<p>Click on the Create option and the following window will be displayed:</p>
<p><img alt="" src="../sites/default/files/CreateOutputDocumentWindowVersion3.png"></p>
<p>Where:</p>
<ul>
    <li><strong>Title</strong>: Adds a title that identifies the output document.</li>
    <li><strong>Filename generated</strong>: The filename to be generated when an output document is created when running cases. Note that paths cannot be included in the filename, since output documents are stored in a standard location in the file system. To include a system or case variable in the filename, click on the <strong>[@@]</strong> button and select a variable.
        <p style="margin-left:25px"><strong><font color="green">Note:</font></strong> <font color="dimgray">It is recommended to <i>only</i> use <code>@#<font color=purple><i>variable</i></font></code> in filenames and not <code>@@<font color=purple><i>variable</i></font></code> because the Windows operating system can't handle filenames that contain <code>"</code> (double quotation marks).</font></p></li>
    <li><strong>Description</strong>: A small description about the document, which should inform the user about the
        general content or purpose of the document.</li>
    <li><strong>Report Generator</strong>: Choose the engine that will generate the output documents. Use HTML2PDF
        with ProcessMaker versions earlier than 2.5,
        otherwise use TCPDF with versions 3.0 or above.</li>
    <li><strong>Media</strong>: Select the paper size:

        <table style="width:auto;">
            <tbody>
                <tr>
                    <th><strong>Paper Type</strong></th>
                    <th><strong>Width (mm)</strong></th>
                    <th><strong>Height (mm)</strong></th>
                </tr>
            </tbody>
            <tbody>
                <tr>
                    <td>Letter</td>
                    <td>216</td>
                    <td>279</td>
                </tr>
                <tr>
                    <td>Legal</td>
                    <td>216</td>
                    <td>357</td>
                </tr>
                <tr>
                    <td>Executive</td>
                    <td>184</td>
                    <td>267</td>
                </tr>
                <tr>
                    <td>B5</td>
                    <td>182</td>
                    <td>257</td>
                </tr>
                <tr>
                    <td>Folio</td>
                    <td>216</td>
                    <td>330</td>
                </tr>
                <tr>
                    <td>A0Oversize</td>
                    <td>882</td>
                    <td>1247</td>
                </tr>
                <tr>
                    <td>A0</td>
                    <td>841</td>
                    <td>1189</td>
                </tr>
                <tr>
                    <td>A1</td>
                    <td>594</td>
                    <td>841</td>
                </tr>
                <tr>
                    <td>A2</td>
                    <td>420</td>
                    <td>594</td>
                </tr>
                <tr>
                    <td>A3</td>
                    <td>297</td>
                    <td>420</td>
                </tr>
                <tr>
                    <td>A4</td>
                    <td>210</td>
                    <td>297</td>
                </tr>
                <tr>
                    <td>A5</td>
                    <td>148</td>
                    <td>210</td>
                </tr>
                <tr>
                    <td>A6</td>
                    <td>105</td>
                    <td>148</td>
                </tr>
                <tr>
                    <td>A7</td>
                    <td>74</td>
                    <td>105</td>
                </tr>
                <tr>
                    <td>A8</td>
                    <td>52</td>
                    <td>74</td>
                </tr>
                <tr>
                    <td>A9</td>
                    <td>37</td>
                    <td>52</td>
                </tr>
                <tr>
                    <td>A10</td>
                    <td>26</td>
                    <td>37</td>
                </tr>
                <tr>
                    <td>Screenshot640</td>
                    <td>640</td>
                    <td>480</td>
                </tr>
                <tr>
                    <td>Screenshot800</td>
                    <td>800</td>
                    <td>600</td>
                </tr>
                <tr>
                    <td>Screenshot1024</td>
                    <td>1024</td>
                    <td>768</td>
                </tr>
            </tbody>
        </table>
    </li>
    <li><strong>Left</strong>: Size of the paper's left margin in mm.</li>
    <li><strong>Right</strong>: Size of the paper's right margin in mm.</li>
    <li><strong>Top</strong>: Size of the paper's top margin in mm.</li>
    <li><strong>Bottom</strong>: Size of the paper's bottom margin in mm.</li>
    <li><strong>Output Document to Generate</strong>: Select whether the output document will be generated in DOC,
        PDF, or BOTH formats.</li>
    <li><strong>PDF Security</strong>: An option that allows passwords to be set for the generated PDF document and
        restricts how it may be used. Select one of the following options:
        <ul>
            <li><strong>Disabled</strong>: Default. No security will be applied to the generated PDF document.</li>
    <li><strong>Enabled</strong>: If selected, the following security options are displayed:
                 <ul>
                    <li><strong>Open Password:</strong> Define a password to open the PDF document.</li>
    <li><strong>Owner Password:</strong> Define a password to change the PDF document's permissions.</li>
    <li><strong>Allowed Permissions:</strong> Select how the PDF document may be used. To select more
                        than one option, hold down on the CTRL key while clicking the following options:
                        <ul>
                            <li><strong>Print</strong>: The document can be printed.</li>
    <li><strong>Modify</strong>: The document can be edited.</li>
    <li><strong>Copy</strong>: The document can be copied.</li>
    <li><strong>Forms</strong>: The fields in the document may be filled in.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><span id="versioning"><strong>Enable Versioning</strong>:</span> Presents a dropdown with two options, which
        are "Yes" and "No". If "Yes" is chosen, then ProcessMaker will keep multiple versions of the output document.
        Versioning is useful if the same output document is created at multiple steps in a case. This option allows
        a record to be kept of how the document's data changes over the course of a case, which is useful for maintaining
        audit trails.</li>
<li><strong>Destination Path</strong>: Enter the name of the folder where the output document should be stored.
        Click on the <strong>[@@]</strong> button to select a variable to use in the folder name. To specify a
        subfolder inside other folders, enter a path to that folder, separating each folder with a / (forward slash).
        For example: <strong><tt>Invoices/@#USR_USERNAME/@#subject_@#date</tt></strong><br>To see a list of input
        documents, output documents and attached files found in each folder, go to <strong>HOME &gt; Documents</strong>        and click on the folder.<br><font color=green><b>Note:</b></font> <font color=dimgrey>The <strong>Destination Path</strong> is a virtual path and it does not effect where output documents are stored in the file system. All case files will be stored inside the <a href="Output_Documents.html#Output_Document_Files">path</a> where ProcessMaker has been installed.</font></li>
<li><strong>Tags</strong>: Enter the name of the identifying tag(s) that will be associated with this output document.
        To specify more than one tag name, separate each tag name with commas. Click on the <strong>[@@]</strong>        button to select a variable to use in the tag name. Tags are really useful when <a href="Output_Documents.html#Generated_Output_Documents_in_the_Database">looking for output documents in the ProcessMaker database</a>.</li>
<li><strong>By clicking on the generated file link</strong>: Select whether the file will be downloaded or opened
        in the browser window.
        <ul>
            <li><strong>Download the file:</strong> Download the file directly to the local computer. By choosing this
                option, the browser will automatically download the file. This is the recommended option when creating
                output documents.</li>
<li><strong>Open the file:</strong> Open the file in the browser window.
                <p style="margin-left:25px"><strong><font color="green">Note:</font></strong><font color="dimgray"> If selecting this option when configuring an output document, take into consideration that the browser must be configured differently to open the files downloaded. To be able to open <i>.pdf</i> files, install Adobe Acrobat Reader. It is recommended to use the Download the file option to avoid the extra configuration that opening the file in the browser window requires.</font></p></li>
</ul>
</li>
</ul>

<h2><strong><span id="Creating_Output_Documents_Usign_TCPDF_Generator">Creating Output Documents Using TCPDF Generator</span></strong></h2>
<p>Usually when PDF Documents are generated with more than 6 pages, they can't be created and downloaded producing an error in the HTML code. To improve the generation of PDF documents, the TCPDF generator was included inside ProcessMaker to allow users the creation and generation of <strong>PDF</strong> and <strong>DOC</strong> documents without having issues with the amount of pages created.</p>

<p>This generator supports UTF-8 Unicode and right-to-left languages. It also has backward compatibility with documents created in previous versions of ProcessMaker. If documents less than 6 pages need to be created, it is also possible to use the HTML2PDF generator. Moreover using HTML2PDF generates compressed documents without configuring extra parameters into the code, which means that the PDF document generated will be smaller in size. This is a great enhancement, especially if documents with images in them need to be generated.</p>
<p>When an output document is being created, the new generator can be chosen using the option seen in the image below:</p>
<p><img src="../sites/default/files/1PM3_OutputDoc_TCPDFGenerator_ReportGenerator.png"></p>

<h2><strong><span id="Editing_Templates">Editing Templates</span></strong></h2>
<p>To edit the template of an output document, go to the Main Toolbox and click on Output Documents. A list of all the templates created for the process will appear there. Select the output document that needs to have its content edited and click on the Open Editor button. A new window will open where the document can be changed and corrected in any way that the user wants. There is also a small HTML button that the user can click to access the HTML code and format the document. Once the document is formatted, click on the Save button and a quick message will appear telling the user that all changes made were saved.</p>
<p><img src="../sites/default/files/2PM3_OutputDoc_EditingTemplates_OpenEditor.png"></p>
<p><img src="../sites/default/files/2PM3_OutputDoc_EditingTemplates_OpenEditor1.png"></p>
<p>Enter the desired text into the Output Document template. Entering a hard return generates a new paragraph in the HTML, which inserts an extra blank line in the text. To enter a line break that doesn't insert a blank line in the text, press SHIFT + ENTER. The editor supports the standard key combinations of CTRL + C to copy, CTRL + X to cut, and CTRL + V to paste. Changes can be undone by pressing CTRL + Z. Multiple levels of undo are supported. After undoing changes with CTRL + Z, press CTRL + Y to redo the changes. When done editing the Output Document template, click Save to store the changes and then click on the close icon to close the editing window.</p>

<h3><span id="Inserting_Variables">Inserting Variables</span></h3>
<p>Case variables and system variables can be inserted into the text of an output document:</p>
<ul>
    <li><strong><code>@#<i>VARIABLE-NAME</i></code></strong> inserts the value of the variable without any changes.</li>
    <li><strong><code>@@<i>VARIABLE-NAME</i></code></strong> inserts the value of the variable enclosed in "" (double
        quotation marks). Any quotation marks inside the value can be escaped with backslashes, such as <code>"Don\'t say \"hello\""</code>.</li>
</ul>
<p>If a variable is associated with a dropdown box, checkbox, checkgroup, radio group, suggest box, datetime or file control in a Dynaform, then there will be an additional variable named <strong><code>@#<i>VARIABLE-NAME</i>_label</code></strong>, which is created when the Dynaform is submitted. This variable holds the <i>label</i> of the selected option, which is displayed to the user, whereas <strong><code>@#<i>VARIABLE-NAME</i></code></strong> holds the <i>key</i> of the selected option.

For example, a variable named "selectService" that is associated with a dropdown box might have a value of "accounting" in its <code>@#selectService</code> variable, but "Accounting and Tax Filing Service"  in its <code>@#selectService_label</code> variable. For more information, see <a href="Notifications.html#Inserting_Variables">Inserting Variables</a>.

<p>Variables can be inserted in the Output Documents editing window.</p>
<p><img src="../sites/default/files/3PM3_OutputDoc_InsertingVariables_OpenEditor.png"></p>
<p><img src="../sites/default/files/3PM3_OutputDoc_InsertingVariables_OpenEditor1.png"></p>

<p>Now for the variables, next to the <strong>Bold</strong> property there is a variable picker. Click on it to choose variables to relate to the empty fields created. Select the variables with <strong>@#</strong> signs to add variables to the document with no changes. For example, <strong>Name</strong> will have the <strong>@#USR_USERNAME</strong> variable. Continue to add variables to the other fields, and then click on Save to store all changes made in the document.</p>
<p><img src="../sites/default/files/4PM3_OutputDoc_InsertingVariables_AddVariables.png"></p>
<p><img src="../sites/default/files/4PM3_OutputDoc_InsertingVariables_AddVariables1.png"></p>
<p><img src="../sites/default/files/4PM3_OutputDoc_InsertingVariables_AddVariables2.png"></p>

<h4><span id="Line_Breaks_in_Textareas">Line Breaks in Textareas</span></h4>
<p>A <a href="Text_and_Textarea_Controls.html#Textarea_Control">textarea</a> control allows more than one line of text to be input into a field. The information in this control is stored in one single line with <code>\n</code> as the representation for each line break, therefore, whenever using the Textarea's variable, the information will be displayed all together on the same line.</p>

<p><img src="../sites/default/files/3.0TextareaVarOneline.png"></p>

<p>To preserve line breaks when showing the textarea information in messages, emails, etc. it is recommended to use the <a href="http://php.net/manual/en/function.nl2br.php">nl2br</a> PHP function within a trigger.</p>

<p>For example, create the following trigger and place it after the Dynaform.</p>
<codeblock>@@textareaVar = nl2br(@@textareaVar);</codeblock>

<p>Remember that to insert the value of a variable without any changes, the prefix <code>@#</code> must be used before the name of the variable. In this case the textarea variable will be <code>@#textareaVar</code>, as explained in the <a href="Output_Documents.html#Inserting_Variables">Inserting Variables</a> section.</p>

<p><img src="../sites/default/files/3.0TextareaVarContent.png"></p>

<p>The function will insert HTML line breaks before all new lines. Therefore, the e-mail will display the variable's information preserving the line breaks typed in the textarea.</p>

<p><img src="../sites/default/files/3.0TextareaVarKeeplinesbreaks.png"></p>

<h3><span id="Formatting_Output_Documents">Formatting Output Documents</span></h3>
<p>ProcessMaker includes a new advanced editor for documents as seen in the image below:</p>
<p><img src="../sites/default/files/5PM3_OutputDoc_EditingTemplates_FormattingOutputDoc.png"></p>

<p> This toolbar provides several options to clean up the document. To add formatting to output documents, the toolbar includes the following buttons:</p>

<ul>
    <li><p><strong>Upload File</strong>: Click on this button to upload a file with an <strong>.html</strong>        or <strong>.htm</strong> extension.</p>
<p><img alt=""  src="../sites/default/files/6PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_UploadFile.png"></p>
</li>

    <li><p><strong>Variable Picker</strong>: Choose the type and prefix of the variable to be called in the document.</p>
<p><img alt="" src="../sites/default/files/7PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_UploadVariable.png"></p>
</li>

    <li><img alt="" height="20" src="../sites/default/files/ODBold.png" width="21"> <strong>Bold</strong>: Bold the selected
        text (a heavier weight). Shortcut: <strong>ctl + b</strong></li>

    <li><img alt="" height="20" src="../sites/default/files/ODItalics.png" width="19"> <strong>Italics</strong>: Italicize
        the selected text (inclined text). Shortcut: <strong>ctl + i</strong></li>

    <li><img alt="" height="20" src="../sites/default/files/ODUnderline.png" width="20"> <strong>Underline</strong>:
        Underline the selected text. Shortcut: <strong>ctl + u</strong></li>

    <li><img alt="" height="23" src="../sites/default/files/HtmlLeftAlign.png"> <strong>Left align</strong>: Align the
        selected text along the left-hand border.</li>

    <li><img alt="" height="23" src="../sites/default/files/HtmlCenterAlign.png"> <strong>Center</strong>: Align the
        selected text in the center.</li>

    <li><strong><img alt="" height="19" src="../sites/default/files/HtmlRightAlign.png"></strong> <strong>Right align</strong>:
        Align the selected text along the right-hand border.</li>

    <li><strong><img alt="" height="19" src="../sites/default/files/8PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_Justify.png"></strong>        <strong>Text Align</strong>: Justify the entire selected text.</li>

    <li><img alt="" height="100" src="../sites/default/files/9PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_Font.png"
          width="150"><strong>Font</strong>: Allows the user to choose one of many different fonts to customize the
        document.</li>

    <li><img alt="" height="100" src="../sites/default/files/10PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_FontSize.png"
          width="150"><strong>Font Size</strong>: Increases or decreases the font size of the selected text.</li>

    <li><img alt="" height="50" src="../sites/default/files/11PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_CutCopyPaste.png"
          width="60"><strong>Cut, Copy and Paste</strong>: Cut will remove the selected text from its position, while
        Copy creates a duplicate. Paste copies text and inserts it into the document.</strong>
    </li>

    <li><strong><img alt="" height="30" src="../sites/default/files/HtmlNumberedList.png"> </strong> <strong>Ordered List</strong>:
        Insert an ordered list, which begins counting from 1.</li>

    <li><strong><img alt="" height="19" src="../sites/default/files/HtmlBulletList.png"></strong> <strong>Un-ordered List</strong>:
        Insert an unordered list, which uses bullet points instead of numbers.</li>

    <li><strong><img alt="" height="19" src="../sites/default/files/12PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_OutdentIndent.png"></strong>        <strong>Outdent, Indent, Quote</strong>: Outdent and Indent will add a space to a selected text; outdent
        will move the text toward the left marging and indent will move the text away from the left marging. Quote
        works by selecting a text and aligning the text inside of quotation marks.</li>

    <li><strong><img src="../sites/default/files/13PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_Tables.png"></strong>        <strong>Table Configuration</strong>: Creates and edits a table of as many rows and columns as needed,
        can also insert more rows and columns or delete them. The columns in the table can be ordered, split or
        merged as needed.</li>

    <li><strong><img alt="" height="19" src="../sites/default/files/14PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_UndoRedo.png"></strong>        <strong>Undo and Redo</strong>: Recover or revoke previous actions made in the document.</li>

    <li><strong><img alt="" height="19" src="../sites/default/files/15PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_Links.png"></strong>        <strong>Links Configuration</strong>: These tools insert and edit links, as well as convert links
        to normal text. An image can also be inserted or edited.
        <p style="margin-left:25px"><strong><font color="green">Note:</font></strong> <font color="dimgray"> Take into account that the source of the images inserted must be from a URL with an <code>http</code> or <code>https</code> protocol. It is not possible to upload an image from a local source using this editor. To upload an image from a local resource, first <a href="Public_Files.html#UploadingFiles">upload it</a> as a <a href="Public_Files.html">Public File</a> and access it <a href="Public_Files.html#AccessingPublicFiles">using this information</a>.</font></p>
    </li>

    <li><img alt="" height="21" src="../sites/default/files/ODFontColor.png" width="27"> <strong>Font Color</strong>:
        Change the color of the selected text.</li>

    <li><img alt="" height="21" src="../sites/default/files/ODHighlightColor.png" width="28"> <strong>Text Highlight Color</strong>:
        Change the highlight (background) color behind the selected text.</li>

    <li><img alt="" height="30" src="../sites/default/files/16PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_CSS.png"
          width="35"> <strong>Edit CSS Style</strong>: Contains more options to make more detailed edits to the text.</li>

    <li><img alt="" src="../sites/default/files/17PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_Format1.png"
          > <strong>Lines</strong>: Adds lines to mark different sections of the document
 </li>
    <li><img alt=""  src="../sites/default/files/3.0OutputDocEditingTemplatesFormattingOutputDoc3.png"
      > <strong>Clear Formatting</strong>: Removes any formatting from the selected text.</li>
    <li><img alt=""  src="../sites/default/files/3.0OutputDocEditingTemplatesFormattingOutputDoc2.png"
        > <strong>Grid Visual Help</strong>: Enables or disables the visual help grid in a selected table.</li>

    <li><img alt="" height="35" src="../sites/default/files/18PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_SubSup.png"
          width="55"> <strong>Subscript and Superscript</strong>: With a subscript or superscript a number, figure,
        symbol, or indicator can be added and it is set slightly below or above it. </li>

    <li><img alt="" height="38" src="../sites/default/files/19PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_Direction.png"
          width="60"> <strong>Direction</strong>: The direction can make the text align Right to Left or either Left
        to Right. </li>

    <li><img alt="" height="30" src="../sites/default/files/20PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_HTML.png"
          width="35"><strong>HTML</strong>: Edit the HTML code for the template.</li>
</ul>

<p>Avoid inserting HTML formatting tags inside a variable name, because it make the variable unable to be recognized by ProcessMaker. For example, if bold tags are inserted inside the variable <strong><code>@#USR_USERNAME</code></strong>, it becomes <span class="geshifilter"><code class="html4strict geshifilter-html4strict">@#US<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/b.html"><span style="color: #000000; font-weight: bold;">b</span></a>&gt;</span>R_USER<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/b.html"><span style="color: #000000; font-weight: bold;">b</span></a>&gt;</span>NAME</code></span>. Since ProcessMaker can't find find the variable <strong><code>@#US</code></strong>, it will print the variable name in the generated output document.</p>


<h2><strong><span id="Editing_the_HTML_Code">Editing the HTML Code</span></strong></h2>
<p>For more control over the formatting of a template and the use of more advanced types of HTML elements such as images or tables, the HTML code can be directly edited by clicking on the HTML button in the toolbar. When done editing the HTML code, click on the Update button to save it and see the result in the document.</p>

<h3><span id="Inserting_Images">Inserting Images</span></h3>
<p>To insert an image into an output document, first upload the image file to the public directory in the ProcessMaker server with the Process File Manager (or another publicly accessible location). Take the ProcessMaker logo on the wiki page as an example. The URL would be the following "http://wiki.processmaker.com/sites/default/files/full-logo.png"</p>
<p><img src="../sites/default/files/1PM3_OutputDocuments_ProcessMakerLogo.png"></p>
<p>Now create an output document by hovering your cursor over the plus sign next to the Output Documents option in the Main Toolbox of the Process Map and clicking Create. The image below shows how the output document should be configured. Take into consideration that TCPDF needs to be selected in the Report Generator field to be able to see images. Click on the Save button to create the output document and add it to the Output Documents window.</p>
<p><img src="../sites/default/files/2PM3_OutputDocuments_ImageTest.png"></p>
<p>Once in the Output Documents window, click on the Open Editor button to open a Word-like editor. </p>
<p><img src="../sites/default/files/3PM3_OutputDocuments_OpenEditor.png"></p>
<p><img src="../sites/default/files/4PM3_OutputDocuments_Editor.png"></p>
<p>Then click on the HTML button to open the HTML Source Editor window.</p>
<p><img src="../sites/default/files/5PM3_OutputDocuments_HTMLSourceEditor.png"></p>
<p>Now add the following code to insert an image:</p>
<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #00bbdd;">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/html.html"><span style="color: #000000; font-weight: bold;">html</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/head.html"><span style="color: #000000; font-weight: bold;">head</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/head.html"><span style="color: #000000; font-weight: bold;">head</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/body.html"><span style="color: #000000; font-weight: bold;">body</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>This is a test for images<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;&lt;<a href="http://december.com/html/4/element/img.html"><span style="color: #000000; font-weight: bold;">img</span></a> <span style="color: #000066;">src</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;http://wiki.processmaker.com/sites/default/files/full-logo.png&quot;</span> <span style="color: #66cc66;">/</span>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/body.html"><span style="color: #000000; font-weight: bold;">body</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/html.html"><span style="color: #000000; font-weight: bold;">html</span></a>&gt;</span></div></div>
<p>Notice that the "src" or source of the image is the URL of the logo. After adding the code, click on the Update button to check if the image was properly uploaded. If the image is seen in the Edit Output Document window then it will be seen when running a case.</p>
<p><img src="../sites/default/files/6PM3_OutputDocuments_HTMLCode.png"></p>
<p><img src="../sites/default/files/7PM3_OutputDocuments_UpdateImage.png"></p>
<p>If there is an error then the following broken image will be shown in the editor. Check the code or image for any errors to be able to see it when running a case.</p>
<p><img src="../sites/default/files/8PM3_OutputDocuments_ErrorUpdateImage.png"></p>

<h3><span id="Inserting_form_fields">Inserting form fields</span></h3>
<p>To insert form fields inside of an Output Document, edit the HTML code and create an HTML <tt>&lt;form&gt;</tt>. In that <tt>&lt;form&gt;</tt>, add <tt>&lt;input&gt;</tt>, <tt>&lt;select&gt;</tt>, and/or <tt>&lt;submit&gt;</tt> fields.</p>
<p>For example, this template code:</p>

<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/form.html"><span style="color: #000000; font-weight: bold;">form</span></a> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;MyFormName&quot;</span>&gt;</span><br />
First Name: <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/input.html"><span style="color: #000000; font-weight: bold;">input</span></a> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;text&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;firstName&quot;</span> <span style="color: #000066;">size</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;20&quot;</span> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;Jo Anne&quot;</span>&gt;&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
Last Name: <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/input.html"><span style="color: #000000; font-weight: bold;">input</span></a> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;text&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;lastName&quot;</span> <span style="color: #000066;">size</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;20&quot;</span> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;Summers&quot;</span>&gt;&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/input.html"><span style="color: #000000; font-weight: bold;">input</span></a> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;checkbox&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;contactClient&quot;</span> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;contact&quot;</span> checked&gt;</span>Contact Client<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/select.html"><span style="color: #000000; font-weight: bold;">select</span></a> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;howContact&quot;</span>&gt;</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/option.html"><span style="color: #000000; font-weight: bold;">option</span></a> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;telephone&quot;</span>&gt;</span>Telephone<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/option.html"><span style="color: #000000; font-weight: bold;">option</span></a>&gt;</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/option.html"><span style="color: #000000; font-weight: bold;">option</span></a> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;fax&quot;</span> selected&gt;</span>Fax<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/option.html"><span style="color: #000000; font-weight: bold;">option</span></a>&gt;</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/option.html"><span style="color: #000000; font-weight: bold;">option</span></a> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;email&quot;</span>&gt;</span>Email<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/option.html"><span style="color: #000000; font-weight: bold;">option</span></a>&gt;</span><br />
&nbsp;<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/select.html"><span style="color: #000000; font-weight: bold;">select</span></a>&gt;&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/form.html"><span style="color: #000000; font-weight: bold;">form</span></a>&gt;</span></div></div>
<p>When Updated the code will look like the image below, allowing the document to run with the user name and the name of the case started.:</p>
<p><img alt="" height="100" src="../sites/default/files/21PM3_OutputDoc_EditingHTML_InsertFomrFields_CodeResult.png" width="250"></p>
<p>Note that these form fields are not interactive, so the content of the fields can not be edited.</p>


<h3><span id="Inserting_Variables_inside_Form_Fields">Inserting Variables inside Form Fields</span></h3>
<p>System variables and case variables can be inserted inside form fields. For example, to insert the <tt>@#USR_USERNAME</tt> system variable in a field named "username" and the <tt>@#CaseStarted</tt> in a field named "timeStarted":</p>

<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/form.html"><span style="color: #000000; font-weight: bold;">form</span></a> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;MyForm&quot;</span>&gt;</span><br />
Current user:<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/input.html"><span style="color: #000000; font-weight: bold;">input</span></a> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;text&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;username&quot;</span> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;@#USR_USERNAME&quot;</span>&gt;&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
When case started:<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/input.html"><span style="color: #000000; font-weight: bold;">input</span></a> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;text&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;timeStarted&quot;</span> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;@#CaseStarted&quot;</span>&gt;&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/form.html"><span style="color: #000000; font-weight: bold;">form</span></a>&gt;</span></div></div>
<p><img src="../sites/default/files/PM3_OutputDoc_ExampleCurrentUserWhenCaseStarted.png"></p>

<p style="margin-left:25px"><strong><font color="red">Warning:</font></strong> <font color="dimgray"> If inserting inside an <tt>&lt;input&gt;</tt> field, only reference variables as <tt>@#<i>variable-name</i></tt>. Do NOT use <tt>@@<i>variable-name</i></tt>, because it will insert a set of double quotation marks inside a set of double quotations marks, which will mess up the HTML tag.</font></p>

<p>For example, this bad template code:</p>
<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/input.html"><span style="color: #000000; font-weight: bold;">input</span></a> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;text&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;username&quot;</span> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;@@USR_USERNAME&quot;</span>&gt;</span></div></div>
<p>will generate erroneous HTML code like:</p>
<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/input.html"><span style="color: #000000; font-weight: bold;">input</span></a> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;text&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;username&quot;</span> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;&quot;</span>admin<span style="color: #ff0000;">&quot;&quot;</span>&gt;</span></div></div>

<h4><span id="Checkboxes_in_Output_Documents">Checkboxes in Output Documents</span></h4>
<p>In an Output Document, a checkbox is marked if it has the <strong><tt>checked</tt></strong> property defined in its HTML code.</p>
<p>This checkbox is marked:</p>

<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/form.html"><span style="color: #000000; font-weight: bold;">form</span></a> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;MyForm&quot;</span>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/input.html"><span style="color: #000000; font-weight: bold;">input</span></a> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;checkbox&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;contactClient&quot;</span> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;contact&quot;</span> checked&gt;</span>Contact Client<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/form.html"><span style="color: #000000; font-weight: bold;">form</span></a>&gt;</span></div></div>
<p><img src="../sites/default/files/22PM3_OutputDoc_EditingHTML_InsertFomrFields_MarkedCheckbox.png"></p>

<p>This one is not marked because there is no <strong><tt>checked</tt></strong> property:</p>

<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/form.html"><span style="color: #000000; font-weight: bold;">form</span></a> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;MyForm&quot;</span>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/input.html"><span style="color: #000000; font-weight: bold;">input</span></a> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;checkbox&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;contactClient&quot;</span> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;contact&quot;</span>&gt;</span>Contact Client<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/form.html"><span style="color: #000000; font-weight: bold;">form</span></a>&gt;</span></div></div>
<p><img src="../sites/default/files/23PM3_OutputDoc_EditingHTML_InsertFomrFields_UnmarkedCheckbox.png"></p>
<p>In order to use a case variable to mark a checkbox in an Output Document, place the case variable in the HTML code like this:</p>

<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/form.html"><span style="color: #000000; font-weight: bold;">form</span></a> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;MyForm&quot;</span>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/input.html"><span style="color: #000000; font-weight: bold;">input</span></a> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;checkbox&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;contactClient&quot;</span> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;contact&quot;</span> @#markContactClient &gt;</span>Contact Client<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/form.html"><span style="color: #000000; font-weight: bold;">form</span></a>&gt;</span></div></div>

<p>If the value of <code>@#markContactClient</code> is <code>"checked"</code> then the checkbox will be marked. If it is <code>""</code> (empty string), then it won't be marked in the Output Document.</p>
<p>Create a trigger which will set the value of <code>@@markContactClient</code> to <code>"checked"</code> or <code>""</code>, depending upon the value of a checkbox in a DynaForm. Set this trigger to fire <i>before</i> the step which generates the Output Document.</p>
<p>For example, if the variable associated with the checkbox control in the DynaForm is "contactClient", then use this PHP code to check whether the checkbox is marked in order to set the value of <code>@@markContactClient</code>.</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@@</span>markContactClient <span style="color: #339933;">=</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>contactClient<span style="color: #009900;">&#41;</span> and <span style="color: #339933;">!</span><a href="http://php.net/empty"><span style="color: #990000;">empty</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>contactClient<span style="color: #009900;">&#41;</span> and <span style="color: #339933;">@=</span>contactClient<span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #339933;">@@</span>markContactClient <span style="color: #339933;">=</span> <span style="color: #0000ff;">'checked'</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<p style="margin-left:25px"><strong><font color="green">Note:</font></strong> <font color="dimgray">Checkboxes have a value of <span class="geshifilter"><code class="php geshifilter-php"><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span></code></span> if marked or <span class="geshifilter"><code class="php geshifilter-php"><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span></code></span> if unmarked. Checkboxes inside grids are not placed inside arrays, so they have a value of <code>1</code> if marked or <code>0</code> if unmarked.</font></p>
<!--
<4><span id="Checkgroups_in_Output_Documents">Checkgroups in Output Documents</span></4>
<p>A <i>checkgroup</i> can be created in HTML as a collection of individual checkboxes, so create as many checkboxes in the Output Document as there are options in the checkgroup.</p>
<p>For example, a checkgroup is named "HowContact", with 3 options whose values are "fax", "telephone" and "email". To create this checkgroup in an Output Document, add these three checkboxes to the Output Document's HTML code:</p>

<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/form.html"><span style="color: #000000; font-weight: bold;">form</span></a> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;MyForm&quot;</span>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/input.html"><span style="color: #000000; font-weight: bold;">input</span></a> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;checkbox&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;ContactFax&quot;</span> &nbsp; &nbsp; &nbsp; <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;fax&quot;</span> &nbsp; &nbsp; &nbsp; @#CheckFax &nbsp; &nbsp; &nbsp; &gt;</span>Fax<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/input.html"><span style="color: #000000; font-weight: bold;">input</span></a> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;checkbox&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;ContactTelephone&quot;</span> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;telephone&quot;</span> @#CheckTelephone &gt;</span>Telephone<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/input.html"><span style="color: #000000; font-weight: bold;">input</span></a> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;checkbox&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;ContactEmail&quot;</span> &nbsp; &nbsp; <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;email&quot;</span> &nbsp; &nbsp; @#CheckEmail &nbsp; &nbsp; &gt;</span>Email<br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/form.html"><span style="color: #000000; font-weight: bold;">form</span></a>&gt;</span></div></div>
<p><img src="/sites/default/files/24PM3_OutputDoc_EditingHTML_InsertFomrFields_Checkgroups.png"></p>

<p>Then create a trigger which fires before the Output Document to set the value of the <code>@@CheckFax</code>, <code>@@CheckTelephone</code> and <code>@@CheckEmail</code> variables, so they can later be inserted in the generated Output Document. The selected options in a checkgroup are stored in a case variable which separates each selected value with | (pipes). Use <a href="http://php.net/manual/en/function.explode.php">explode()</a> to break it into an array and <a href="http://php.net/manual/en/function.in-array.php">in_array()</a> to check if the value is in the array.</p>
<p>For example:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$aSelected</span> <span style="color: #339933;">=</span> <a href="http://php.net/explode"><span style="color: #990000;">explode</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'|'</span><span style="color: #339933;">,</span> <span style="color: #339933;">@@</span>HowContact<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/in_array"><span style="color: #990000;">in_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;fax&quot;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aSelected</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp;<span style="color: #339933;">@@</span>CheckFax <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;checked&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp; &nbsp;<span style="color: #339933;">@@</span>CheckFax <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;&quot;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/in_array"><span style="color: #990000;">in_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;telephone&quot;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aSelected</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #339933;">@@</span>CheckTelephone <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;checked&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp; <span style="color: #339933;">@@</span>CheckTelephone <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;&quot;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/in_array"><span style="color: #990000;">in_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;email&quot;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aSelected</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #339933;">@@</span>CheckEmail <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;checked&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp; <span style="color: #339933;">@@</span>CheckEmail <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;&quot;</span><span style="color: #339933;">;</span></div></div>
<p>This is how the Output Document would look like on a running process, and it has two types of files: <strong>.doc</strong> and <strong>.pdf</strong>. Once "Open" is clicked for either of them the document will start an automatic download of the file.</p>
<p><img src="/sites/default/files/24PM3_OutputDoc_EditingHTML_InsertFomrFields_CheckgroupsTest1.png"></p>
-->
<h3><span id="Inserting_Page_Breaks">Inserting Page Breaks</span></h3>
<p>To insert a page break in both PDF and DOC files, first create the
following <a href="../3.1/Triggers.html">trigger</a> to define a HTML element that uses its style to force a page break:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@@</span>pageBreak <span style="color: #339933;">=</span> <span style="color: #0000ff;">'&lt;p style=&quot;page-break-before: always;&quot;&gt;'</span><span style="color: #339933;">;</span></div></div>

<p>This HTML code cannot be placed directly in the Output Document template, because the HTML Editor automatically strips out any style information, so this HTML code needs to be inserted with a case variable in the template.
Then, insert the <code>@#pageBreak</code> variable in the template file. For example:</p>
<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>This is page 1.<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
@#pageBreak<br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>This is page 2.<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span></div></div>
<p>Make sure to set the trigger that defines <code>@#pageBreak</code> to execute at some point before the Output Document step.</p>

<p>To insert a page break which will <i>only</i> appear in PDF files which are generated using the HTML2PDF library, edit the HTML code of the Output Document and add the HTML comment: <code>&lt;!--NewPage--&gt;</code></p>
<p>For example, use the following code:</p>

<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>This is page 1.<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #808080; font-style: italic;">&lt;!--NewPage--&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>This is page 2.<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span></div></div>

<h3><span id="Page_Headers_and_Footers">Page Headers and Footers (HTML2PDF Library)</span></h3>
<p>Output Documents do not have a property to add page headers and footer, but these can be added manually if using the <a href="http://www.tufat.com/script19.htm">HTML2PDF</a> library to generate PDF files. To define a page header in an Output Document, edit the HTML code and add text between <code>&lt;!--header starts--&gt;</code> and <code>&lt;!--header ends--&gt;</code> tags. Note that these are custom comment tags used by <a href="http://www.tufat.com/script19.htm">HTML2PDF</a> and these codes will be ignored in the DOC files and PDF files created with TCPDF.</p>
<p>For example:</p>

<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #808080; font-style: italic;">&lt;!--header starts--&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">div</span></a> <span style="color: #000066;">style</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;position: fixed; top: -5mm; left: 0mm;&quot;</span>&gt;</span>...your header content...<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">div</span></a>&gt;</span><br />
<span style="color: #808080; font-style: italic;">&lt;!--header ends--&gt;</span></div></div>

<p>To avoid the header being placed on top of content inside the Output Document, set the header above the content with a style setting such as <code>top: -5mm;</code>. However, make sure that the top margin of the Output Document is set to 5mm or larger.</p>
<p>To insert a page footer, edit the HTML code of the Output Document and add text between <code>&lt;!--footer starts--&gt;</code> and <code>&lt;!--footer ends--&gt;</code> tags. For example:</p>

<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #808080; font-style: italic;">&lt;!--footer starts--&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">div</span></a> <span style="color: #000066;">style</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;position: fixed; bottom: 5mm; left: 0mm;&quot;</span>&gt;</span>...your footer content...<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">div</span></a>&gt;</span><br />
<span style="color: #808080; font-style: italic;">&lt;!--footer ends--&gt;</span></div></div>

<p>To avoid the footer being placed on top of content inside the Output Document, set the footer below the content with a style setting such as <code>bottom: 5mm;</code>. However, make sure that the bottom margin of the Output Document is set to 5mm or larger.</p>
<p style="margin-left:25px"><strong><font color="green">Note:</font></strong><font color="dimgray"> The footer and header comments only work if using the HTML2PDF engine to generate the Output Document.</font></p>

<h3><span id="Page_Numbers_and_File_Information">Page Numbers and File Information (HTML2PDF Library)</span></h3>
<p>If generating PDF files using the HTML2PDF library, it is possible to insert page numbers and file information in the generated Output Document, using the following <a href="http://www.tufat.com/docs/html2ps/directives.html">directives</a>:</p>

<table style="codecolumn">
    <tr>
        <th>Directive</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>##PAGE##</td>
        <td>Number of the current page.</td>
    </tr>
    <tr>
        <td>##PAGES##</td>
        <td>Total number of pages in the generated PDF file.</td>
    </tr>
    <tr>
        <td>##FILENAME##</td>
        <td>The URL where the source HTML is located, such as:<br>
            <small>http://example.com/files/98534779755ef0116e951f8051419251/outdocs/83393260655ef0978d76fd0041065478_2.html.<br>
This location cannot be used externally. It either has to be converted into a URL such as:<br>
http://example.com/sysworkflow/en/neoclassic/cases/cases_ShowOutputDocument?a=83393260655ef0978d76fd0041065478&v=4&ext=html<br>
Or a file location of the server, such as:<br>
/opt/processmaker/shared/sites/workflow/files/985/347/797/55ef0116e951f8051419251/outdocs/83393260655ef0978d76fd0041065478_4.html</small></td>
    </tr>
    <tr>
        <td>##FILESIZE##</td>
        <td>The size of the HTML source file in bytes.</td>
    </tr>
    <tr>
        <td>##TIMESTAMP##</td>
        <td>The time when the Output Document was generated in "YYYY-MM-DD HH:MM" format.</td>
    </tr>
</table>

<p>For example the following code prints out the page number and the total pages in the footer of each page:
<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #00bbdd;">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/html.html"><span style="color: #000000; font-weight: bold;">html</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/head.html"><span style="color: #000000; font-weight: bold;">head</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/head.html"><span style="color: #000000; font-weight: bold;">head</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/body.html"><span style="color: #000000; font-weight: bold;">body</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #808080; font-style: italic;">&lt;!--footer starts--&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">div</span></a> <span style="color: #000066;">style</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;position: fixed; bottom: 5mm; width: 100%;&quot;</span>&gt;</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/center.html"><span style="color: #000000; font-weight: bold;">center</span></a>&gt;</span>Generated: ##TIMESTAMP##<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a> <span style="color: #66cc66;">/</span>&gt;</span>Page ##PAGE## / ##PAGES##<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/center.html"><span style="color: #000000; font-weight: bold;">center</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">div</span></a>&gt;</span><br />
<span style="color: #808080; font-style: italic;">&lt;!--footer ends--&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>This is the first page<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #808080; font-style: italic;">&lt;!--NewPage--&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>This is the second page<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #808080; font-style: italic;">&lt;!--NewPage--&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>This is the third page<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/body.html"><span style="color: #000000; font-weight: bold;">body</span></a>&gt;</span><br />
<br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/html.html"><span style="color: #000000; font-weight: bold;">html</span></a>&gt;</span></div></div>
<p>At the bottom of each page will appear, the footer text will appear:</p>
<img src="../sites/default/files/3.0OutputDocumentFooter.png">

<h3><span id="Formatting_documents_to_display_content_in_RTL">Formatting documents to display content in RTL</span></h3>
<p>The <a href="../index.php/ProcessMaker_skins.html#RTL_Skin" title="ProcessMaker skins"><tt><strong>RTL skin</strong></tt></a> is available in version 2.0.44 and later, which allows ProcessMaker to display correctly <i>right-to-left</i> <a href="Languages.html" title="3.0/Translations">languages</a> such as Arabic and Hebrew. It is also possible to display the contents of Output Documents in <i>right-to-left</i>.</p>
<p>For content inside paragraphs, add <code>dir="RTL"</code> to the <code>&lt;p&gt;</code> tags:</p>
<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a> <span style="color: #000066;">dir</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;RTL&quot;</span>&gt;</span>Testing RTL skin and language<br />
&nbsp; ...<br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span></div></div>
<p>For content inside tables, add <code>dir="RTL"</code> to the <code>&lt;table&gt;</code> tags:</p>
<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/table.html"><span style="color: #000000; font-weight: bold;">table</span></a> <span style="color: #000066;">dir</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;RTL&quot;</span>&gt;</span><br />
&nbsp; ...<br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/table.html"><span style="color: #000000; font-weight: bold;">table</span></a>&gt;</span></div></div>
<p>For example the following Output Document template displays a table in <i>right-to-left</i>:</p>
<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a> <span style="color: #000066;">dir</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;RTL&quot;</span>&gt;</span>Invoice Details<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/table.html"><span style="color: #000000; font-weight: bold;">table</span></a> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;mceItemTable&quot;</span> <span style="color: #000066;">dir</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;RTL&quot;</span> <span style="color: #000066;">border</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;0&quot;</span> <span style="color: #000066;">align</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;right&quot;</span>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/tr.html"><span style="color: #000000; font-weight: bold;">tr</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span>Reference<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span>Number<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/tr.html"><span style="color: #000000; font-weight: bold;">tr</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/tr.html"><span style="color: #000000; font-weight: bold;">tr</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span>Invoice approval<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span>1<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/tr.html"><span style="color: #000000; font-weight: bold;">tr</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/table.html"><span style="color: #000000; font-weight: bold;">table</span></a>&gt;</span></div></div>
<p>The resulting Output Document will be generated as:<strong>.doc document</strong></p>
<p><img src="../sites/default/files/26PM3_OutputDoc_EditingHTML_InsertFomrFields_RTLDoc.png"></p>

<h2><span id="Grids_in_Output_documents">Grids in Output Documents</span></h2>

<p>The fields of a grid can be inserted into an output document by editing the HTML code of the output document. To do this, use an opening tag with the name of the variable that is related to the grid, <code>@&gt;GRID-VARIABLE</code>, enclosed inside HTML comment tags <code>&lt;!-- ... --&gt;</code> to open the grid.</p>
<codeblock>&lt;!--@&gt;<font color="blue"><strong>GRID-VARIABLE-NAME</strong></font>--&gt;
</codeblock>

<p>Then, insert the fields into the grid using their IDs prefixed by <code>@#</code>. Finally, close the grid by using a closing tag with the name of the variable that is assigned to the grid enclosed inside HTML comment tags. Like this:</p>

<codeblock>&lt;!--@&gt;<font color="blue"><strong>GRID-VARIABLE-NAME</strong></font>--&gt;
@#<i><strong>FIELD-1</strong></i> @#<i><strong>FIELD-2</strong></i> @#<i><strong>FIELD-3</strong></i>
&lt;!--@&lt;<font color="blue"><strong>GRID-VARIABLE-NAME</strong></font>--&gt;
</codeblock>

<p>The fields enclosed in the opening and closing grid tags will be repeated as many times as there are rows in the grid. Remember that grid names and field names are CASE SENSITIVE, so they must be spelled exactly as they were defined.</p>

<p><u><b>Example: Expense Report</b></u></p>

<p>To design a travel expenses report, the following output document should list each of the expenses in a grid associated to a variable named "Expense_Variable_Grid". This grid contains four fields that have the IDs "Date", "Type", "Description", and "Amount".</p>

<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a> <span style="color: #000066;">align</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;center&quot;</span>&gt;&lt;<a href="http://december.com/html/4/element/b.html"><span style="color: #000000; font-weight: bold;">b</span></a>&gt;</span>Travel Expense Report - @#REPORT_MONTH_label<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/b.html"><span style="color: #000000; font-weight: bold;">b</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a> <span style="color: #000066;">align</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;center&quot;</span>&gt;&lt;<a href="http://december.com/html/4/element/span.html"><span style="color: #000000; font-weight: bold;">span</span></a>&gt;</span>@#FIRST_NAME @#LAST_NAME<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/span.html"><span style="color: #000000; font-weight: bold;">span</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a> <span style="color: #000066;">align</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;left&quot;</span>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/table.html"><span style="color: #000000; font-weight: bold;">table</span></a> <span style="color: #000066;">border</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;1&quot;</span> <span style="color: #000066;">cellspacing</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;0&quot;</span>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/tbody.html"><span style="color: #000000; font-weight: bold;">tbody</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/tr.html"><span style="color: #000000; font-weight: bold;">tr</span></a>&gt;&lt;<a href="http://december.com/html/4/element/th.html"><span style="color: #000000; font-weight: bold;">th</span></a>&gt;</span>Date<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/th.html"><span style="color: #000000; font-weight: bold;">th</span></a>&gt;&lt;<a href="http://december.com/html/4/element/th.html"><span style="color: #000000; font-weight: bold;">th</span></a>&gt;</span>Type<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/th.html"><span style="color: #000000; font-weight: bold;">th</span></a>&gt;&lt;<a href="http://december.com/html/4/element/th.html"><span style="color: #000000; font-weight: bold;">th</span></a>&gt;</span>Description<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/th.html"><span style="color: #000000; font-weight: bold;">th</span></a>&gt;&lt;<a href="http://december.com/html/4/element/th.html"><span style="color: #000000; font-weight: bold;">th</span></a>&gt;</span>Amount<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/th.html"><span style="color: #000000; font-weight: bold;">th</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/tr.html"><span style="color: #000000; font-weight: bold;">tr</span></a>&gt;</span><br />
<span style="color: #808080; font-style: italic;">&lt;!--@&gt;Expenses_Grid_Variable--&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/tr.html"><span style="color: #000000; font-weight: bold;">tr</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span>@#Date_label<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span>@#Type<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span>@#Description<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span>@#Amount<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/tr.html"><span style="color: #000000; font-weight: bold;">tr</span></a>&gt;</span><br />
<span style="color: #808080; font-style: italic;">&lt;!--@&lt;Expenses_Grid_Variable--&gt;</span><span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/tbody.html"><span style="color: #000000; font-weight: bold;">tbody</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/table.html"><span style="color: #000000; font-weight: bold;">table</span></a>&gt;</span></div></div>

<p>The code added in the HTML Source Editor window will look like the image below:</p>
<p><img src="../sites/default/files/3.0OutputDoc_GridsHTMLExampleSource.png"></p>

<p>The HTML Editor will show a preview of the code inserted.</p>
<p><img src="../sites/default/files/3.0OutputDoc_GridsHTMLExampleEdit.png"></p>

<p>For example, for a case like the one shown in the image below:</p>
<p><img src="../sites/default/files/3.0OutputDoc_GridsHTMLExampleCase.png"></p>

<p>The output document generated will look like the image below when opened in a <strong>.pdf</strong> format.</p>
<p><img src="../sites/default/files/3.0OutputDoc_GridsHTMLExampleCasePDF.png"></p>

<p>Note that the <code><strong>GRID-VARIABLE-NAME</strong></code> can also be generated by using the <a href="../3.2/ProcessMaker_Functions.html#executeQuery.28.29">executeQuery()</a> function to query a PM Table, Report Table or an external database. If the database has different field names than those in the output document, use "<strong><tt>AS</tt></strong>" to rename the fields. For example, a trigger containing the following code can be fired BEFORE the above Output Document is generated:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$db</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'XXXXXXXXXXXXXXXXXXXXXXXXXXX'</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//Unique ID for a Database Connection to an external database</span><br />
<span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'SELECT EXP_DATE AS Date, EXP_TYPE AS Type, EXP_DESC AS Description, EXP_AMT AS Amount FROM EXPENSES'</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>EXPENSE_GRID <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #339933;">,</span> <span style="color: #000088;">$db</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>Likewise, the trigger can manually create EXPENSE_GRID as an associative array of associative arrays:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@=</span>EXPENSE_GRID <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">'1'</span> <span style="color: #339933;">=&gt;</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Date'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'2017-04-25'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'Type'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'Airfare'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'Description'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'Flight to Paris'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'Amount'</span><span style="color: #339933;">=&gt;</span><span style="color:#800080;">1295.35</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">'2'</span> <span style="color: #339933;">=&gt;</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Date'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'2017-04-26'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'Type'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'Lodging'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'Description'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'Sheraton Hotel'</span><span style="color: #339933;">,</span> &nbsp;<span style="color: #0000ff;">'Amount'</span><span style="color: #339933;">=&gt;</span><span style="color:#800080;">300.00</span> <span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">'3'</span> <span style="color: #339933;">=&gt;</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Date'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'2017-04-27'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'Type'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'Meals'</span><span style="color: #339933;">,</span> &nbsp; <span style="color: #0000ff;">'Description'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'Lunch w/ client'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'Amount'</span><span style="color: #339933;">=&gt;</span><span style="color:#800080;">104.95</span> <span style="color: #009900;">&#41;</span><br />
<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>The example used in this section can be downloaded by clicking <a href="../sites/default/files/Expense_Grid-1.pmx" download>here</a>.</p>

<p>Normally, a cell takes up the space it needs to display its content. To avoid conflicts with the amount of information displayed in a cell, it is recommended to specify the width of each table cell.</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">&lt;!</span>DOCTYPE html <span style="color: #000000; font-weight: bold;">PUBLIC</span> <span style="color: #0000ff;">&quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;</span> <span style="color: #0000ff;">&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;</span><span style="color: #339933;">&gt;</span><br />
<span style="color: #339933;">&lt;</span>html<span style="color: #339933;">&gt;</span><br />
<span style="color: #339933;">&lt;</span>head<span style="color: #339933;">&gt;</span><br />
<span style="color: #339933;">&lt;/</span>head<span style="color: #339933;">&gt;</span><br />
<span style="color: #339933;">&lt;</span>body<span style="color: #339933;">&gt;</span><br />
<span style="color: #339933;">&lt;</span>p align<span style="color: #339933;">=</span><span style="color: #0000ff;">&quot;center&quot;</span><span style="color: #339933;">&gt;&lt;</span>b<span style="color: #339933;">&gt;</span>Title Report<span style="color: #339933;">&lt;/</span>b<span style="color: #339933;">&gt;&lt;/</span>p<span style="color: #339933;">&gt;</span><br />
<span style="color: #339933;">&lt;</span>table width<span style="color: #339933;">=</span><span style="color: #0000ff;">&quot;100%&quot;</span> border<span style="color: #339933;">=</span><span style="color: #0000ff;">&quot;1&quot;</span><span style="color: #339933;">&gt;</span><br />
<span style="color: #339933;">&lt;!--@&gt;</span>GRID<span style="color: #339933;">-</span>VARIABLE<span style="color: #339933;">-</span>NAME<span style="color: #339933;">--&gt;</span><br />
<span style="color: #339933;">&lt;</span>tr<span style="color: #339933;">&gt;</span><br />
<span style="color: #339933;">&lt;</span>td width<span style="color: #339933;">=</span><span style="color: #0000ff;">&quot;25%&quot;</span><span style="color: #339933;">&gt;@</span><span style="color: #666666; font-style: italic;">#Field-1&lt;/td&gt;<br />
</span><span style="color: #339933;">&lt;</span>td width<span style="color: #339933;">=</span><span style="color: #0000ff;">&quot;25%&quot;</span><span style="color: #339933;">&gt;@</span><span style="color: #666666; font-style: italic;">#Field-2&lt;/td&gt;<br />
</span><span style="color: #339933;">&lt;</span>td width<span style="color: #339933;">=</span><span style="color: #0000ff;">&quot;25%&quot;</span><span style="color: #339933;">&gt;@</span><span style="color: #666666; font-style: italic;">#Field-3&lt;/td&gt;<br />
</span><span style="color: #339933;">&lt;</span>td width<span style="color: #339933;">=</span><span style="color: #0000ff;">&quot;25%&quot;</span><span style="color: #339933;">&gt;@</span><span style="color: #666666; font-style: italic;">#Field-4&lt;/td&gt;<br />
</span><span style="color: #339933;">&lt;/</span>tr<span style="color: #339933;">&gt;</span><br />
<span style="color: #339933;">&lt;!--@&lt;</span>GRID<span style="color: #339933;">-</span>VARIABLE<span style="color: #339933;">-</span>NAME<span style="color: #339933;">--&gt;</span><br />
<span style="color: #339933;">&lt;/</span>table<span style="color: #339933;">&gt;</span><br />
<span style="color: #339933;">&lt;/</span>body<span style="color: #339933;">&gt;</span><br />
<span style="color: #339933;">&lt;/</span>html<span style="color: #339933;">&gt;</span></div></div>

<p>For example, if the width property is applied to the table of the previous example, the preview of this table will look like:</p>
<p><img src="../sites/default/files/3.2OutputDocumentExample2Width.png"></p>

<p>The output document will look like:</p>
<p><img src="../sites/default/files/3.2OutputDocumentExample2Document.png"></p>

<h3><span id="Grids_with_a_Fixed-Width_Font">Grids with a Fixed-Width Font</span></h3>
<p>The default font for Output Documents is Arial, which is a variable-width font. It is hard to create neat columns of data with a variable-width font. Therefore, it is recommended to edit the HTML code and set the grid fields inside <code>&lt;pre&gt;...&lt;/pre&gt;</code> tags or <code>&lt;tt&gt;...&lt;/tt&gt;</code> tags, so the columns of data will line up in a fixed-width font.</p>
<p>For example:</p>

<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;">&nbsp; &nbsp; <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/center.html"><span style="color: #000000; font-weight: bold;">center</span></a>&gt;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; Travel Expense Report <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span> @#FIRST_NAME @#LAST_NAME <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span> @#REPORT_MONTH <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/center.html"><span style="color: #000000; font-weight: bold;">center</span></a>&gt;</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/pre.html"><span style="color: #000000; font-weight: bold;">pre</span></a>&gt;</span><br />
Date &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Type of Expense &nbsp; &nbsp; Description &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Amount<br />
<span style="color: #808080; font-style: italic;">&lt;!--@&gt;EXPENSE_GRID--&gt;</span><br />
@#DATE &nbsp; &nbsp; &nbsp; &nbsp; @#TYPE &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;@#DESCRIPTION &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;@#AMOUNT<br />
<span style="color: #808080; font-style: italic;">&lt;!--@&lt;EXPENSE_GRID--&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/pre.html"><span style="color: #000000; font-weight: bold;">pre</span></a>&gt;</span></div></div>
<p><img src="../sites/default/files/PM3_OutputDoc_GridsFixedWidth.png"></p>

<h3><span id="Grids_inside_an_HTML_Table">Grids inside an HTML Table</span></h3>
<p>For even better formatting of grid data, edit the HTML code and set the the grid inside an HTML table.</p>
<p>Here is an example of the same grid fields inside an HTML table:</p>
<p><i>In version 2.5.0 and later:</i></p>
<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/center.html"><span style="color: #000000; font-weight: bold;">center</span></a>&gt;</span><br />
Travel Expense Report<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
@#FIRST_NAME @#LAST_NAME<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
@#REPORT_MONTH<br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/center.html"><span style="color: #000000; font-weight: bold;">center</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/table.html"><span style="color: #000000; font-weight: bold;">table</span></a>&gt;&lt;<a href="http://december.com/html/4/element/tbody.html"><span style="color: #000000; font-weight: bold;">tbody</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/tr.html"><span style="color: #000000; font-weight: bold;">tr</span></a>&gt;</span><br />
&nbsp; <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/th.html"><span style="color: #000000; font-weight: bold;">th</span></a>&gt;</span>Date<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/th.html"><span style="color: #000000; font-weight: bold;">th</span></a>&gt;&lt;<a href="http://december.com/html/4/element/th.html"><span style="color: #000000; font-weight: bold;">th</span></a>&gt;</span>Type Of expense<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/th.html"><span style="color: #000000; font-weight: bold;">th</span></a>&gt;&lt;<a href="http://december.com/html/4/element/th.html"><span style="color: #000000; font-weight: bold;">th</span></a>&gt;</span>Description<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/th.html"><span style="color: #000000; font-weight: bold;">th</span></a>&gt;&lt;<a href="http://december.com/html/4/element/th.html"><span style="color: #000000; font-weight: bold;">th</span></a>&gt;</span>Amount<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/th.html"><span style="color: #000000; font-weight: bold;">th</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/tr.html"><span style="color: #000000; font-weight: bold;">tr</span></a>&gt;</span><br />
<span style="color: #808080; font-style: italic;">&lt;!--@&gt;EXPENSE_GRID--&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/tr.html"><span style="color: #000000; font-weight: bold;">tr</span></a>&gt;</span><br />
&nbsp; <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span>@#DATE<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;&lt;<a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span>@#TYPE<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;&lt;<a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span>@#DESCRIPTION<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;&lt;<a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span>@#AMOUNT<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/tr.html"><span style="color: #000000; font-weight: bold;">tr</span></a>&gt;</span><br />
<span style="color: #808080; font-style: italic;">&lt;!--@&lt;EXPENSE_GRID--&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/tbody.html"><span style="color: #000000; font-weight: bold;">tbody</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/table.html"><span style="color: #000000; font-weight: bold;">table</span></a>&gt;</span></div></div>
<p>The result in an Output Document would be:</p>
<p><img src="../sites/default/files/PM3_OutputDoc_GridsFixedWidhtFont.png"></p>

<h3><span id="Editing_the_html_in_the_database">Editing the HTML in the database</span></h3>
<p>The graphical editor in ProcessMaker strips away unrecognized HTML tags, which can cause <a href="http://bugs.processmaker.com/view.php?id=19467">changes to the formatting</a> of Output Documents. The only way to get around this problem is to edit the HTML code of Output Document in the database. It can be edited by using <a href="Consulting_the_ProcessMaker_databases.html#From_the_phpMyAdmin_GUI">PhpMyAdmin</a> to enter the <b><tt>wf_<font color=blue><i>WORKSPACE</i></font></tt></b> database in MySQL and then use the Output Document's UID to search for the Output Document's template in the  <b><tt>CONTENT</tt></b> table. It can be found with the following query: </p>
<codeblock>SELECT CON_VALUE FROM CONTENT WHERE CON_ID='<font color=blue><i>OUTPUT-DOCUMENT-UID</i></font>' AND CON_CATEGORY='OUT_DOC_TEMPLATE'</codeblock>
<p>If using PhpMyAdmin, click on the record's <b>Edit</b> link to edit the Output Document's template:</p>
<img src="../sites/default/files/OutputDocumentInPhpMyAdmin.png" width="800px">

<h2><span id="Errors_with_Output_Documents">Errors with Output Documents</span></h2>
<h3><span id="Error_while_generating_PDF_Documents">Error while generating PDF Documents</span></h3>
<p>PHP version 5.4.0 or less must be installed if using the HTML2PDF library to generate PDF documents. Otherwise, a blank page will be generated. If a later version of PHP is installed, use the TCPDF library to generate Output Documents.</p>

<h3><span id="Variables_are_not_inserted">Variables are not inserted</span></h3>
<p>If variables are not inserted into an Output Document, then either:</p>

<ol>
    <li>The variable name was not spelled correctly. Remember that system and case variable names are case sensitive.
        Recheck the spelling by looking at the field name in the DynaForm or the variable name in the Trigger where
        it was defined.</li>
    <li>The case variable doesn't exist when the Output Document was created. If an Output Document references fields
        from a DynaForm which is used later in the process, then the case variable doesn't yet exist. Also, remember
        that case variables for each field in a DynaForm are only created when the DynaForm is submitted. If the
        user clicks on the <strong>Next Step</strong> link in a DynaForm whose Next Step Link property is set to
        "No Save &amp; Continue", then none of the data in the DynaForm will be saved.</li>
</ol>
<p>In order to determine what is the problem, run a case with the <a href="Triggers.html#Debugging_Triggers" title="Triggers">Trigger Debugger</a> turned on and check whether the variables exist and what values they contain.</p>

<h3><span id="Output_Document_is_empty">Output Document is empty</span></h3>
<p>If an Output Document is generated which is empty, then there probably wasn't enough session memory to properly generate the document. Large output documents may need more than 80MB of session memory. Try <a href="Changing_the_ProcessMaker_Configuration.html#Increasing_the_maximum_memory_per_session" title="Changing the ProcessMaker Configuration">increasing PHP's memory_limit</a> setting.</p>

<h3><span id="Error_in_html2pdf">Error in html2pdf</span></h3>
<p>ProcessMaker uses <a  href="http://code.google.com/p/html2pdf/">html2pdf</a> to generate Output Documents in PDF format. If an error message appears about a class in html2pdf saying "out of memory", then the <code>pcre.backtrack_limit</code> setting probably needs to be increased to allow for bigger style definitions, larger template files and deeper levels of nested tables/divs. <tt>pcre.backtrack_limit</tt> is a new setting introduced in PHP 5.2.0. If using an older version of PHP, upgrade to a newer version which supports the setting.</p>
<p><a href="Changing_the_ProcessMaker_Configuration.html#Editing_the_PHP_configuration" title="Changing the ProcessMaker Configuration">Edit <strong><tt>php.ini</tt></strong></a>, which is the PHP configuration file on the server running ProcessMaker, and add/modify the following line to increase the <tt>backtrack_limit</tt>:</p>

<codeblock>pcre.backtrack_limit=1000000</codeblock>

<p>Then, <a href="Changing_the_ProcessMaker_Configuration.html#Restarting_Apache" title="Changing the ProcessMaker Configuration">restart Apache</a> for the new setting to take effect.</p></form>

<h2><span id="Using_Non_ASCII_Characters_in_Output_Documents">Using Non US-ASCII Characters in Output Documents</span></h2>
<p>If the use of characters inside an Output Document is needed  and the generation of this documents needs to be done in <i>HTML2PDF (Old Version)</i> then follow the steps below to be able to open a document with Chinese, Arabic, Japanese and others characters successfully.</p>
<ul>
    <li><strong>1.</strong> Download this <a href="../sites/default/files/arialuni.ttf.html" download>file</a> (it will download
        automatically depending on your browsers configuration) which allows the use of characters inside an Output
        Document. The file that has been downloaded must be added into the following route in the ProcessMaker
        installation: <strong>[installation path]/gulliver/thidparty/html2ps_pdf/fonts</strong>. Remember to give
        the folder all the corresponding permissions. </li>
    <li><strong>2.</strong> Create an Output document with the specifications shown in the image below. Notice that
        the "Report Generator" field will be in "HTML2PDF". Click on the "Save" button to store the document. <p><img src="../sites/default/files/1PM3_OD_GenerateHTML2PDF.png"></p></li>
    <li><strong>3.</strong> Once saved, open the editor of the Output Document recently created by clicking on the
        "Open Editor" button. <p><img src="../sites/default/files/2PM3_OD_OpenEditorToAddCharacters.png"></p></li>
    <li><strong>4.</strong> Add text with Chinese characters such as: "This is an example with Chinese characters ".
        <p><img src="../sites/default/files/3PM3_OD_AddExampleText.png"></p></li>
    <li><strong>5.</strong> When a case runs, both <i>.doc</i> and <i>.pdf</i> options will be available. Click on
        the link to start the download of the documents. <p><img src="../sites/default/files/4PM3_OD_OpenInDocPDF.png"></p>        <p><img src="../sites/default/files/5PM3_OD_DownloadDocPdf.png"></p></li>
    <li><strong>6.</strong> Notice that when the documents are opened the characters will be displayed correctly in
        both <i>.doc</i> and <i>.pdf</i> as seen in the images below. <p><img src="../sites/default/files/6PM3_OD_DocumenInWord.png"></p>        <p><img src="../sites/default/files/7PM3_OD_DocumenInWord.png"></p></li>
    <li><strong>7.</strong> Other characters can also be added to Output Documents.<p><img src="../sites/default/files/8PM3_OD_DocumenInWordWithManyCharacters.png"></p><p><img src="../sites/default/files/9PM3_OD_DocumenInPdfWithManyCharacters.png"></p></li>
</ul>

<h2><span id="Output_Documents_in_Multiple_Languages">Output Documents in Multiple Languages</span></h2>

<p>There are two ways to create an output document in multiple languages. The first way is to generate the output document's HTML content dynamically in a trigger based on the system language.</p>

<p>For example, the following trigger generates the HTML content dynamically in Spanish and English:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">//content in Spanish:</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>SYS_LANG <span style="color: #339933;">==</span> <span style="color: #0000ff;">'es'</span> or <span style="color: #339933;">@@</span>SYS_LANG <span style="color: #339933;">==</span> <span style="color: #0000ff;">'es-ES'</span><span style="color: #009900;">&#41;</span><br />
<span style="color: #009900;">&#123;</span> <span style="color: #339933;">@@</span>fileContent <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;&lt;p&gt;&lt;b&gt;Nombre del Cliente:&lt;/b&gt; &quot;</span><span style="color: #339933;">.@@</span>clientName<span style="color: #339933;">.</span><span style="color: #0000ff;">&quot;&lt;/p&gt;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;&lt;p&gt;&lt;b&gt;Direccin del Cliente:&lt;/b&gt; &quot;</span><span style="color: #339933;">.@@</span>clientAddress<span style="color: #339933;">.</span><span style="color: #0000ff;">&quot;&lt;/p&gt;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span> <span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">else</span><br />
<span style="color: #666666; font-style: italic;">//content in English:</span><br />
<span style="color: #009900;">&#123;</span> <span style="color: #339933;">@@</span>fileContent <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;&lt;p&gt;&lt;b&gt;Client Name:&lt;/b&gt; &quot;</span><span style="color: #339933;">.@@</span>clientName<span style="color: #339933;">.</span><span style="color: #0000ff;">&quot;&lt;/p&gt;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;&lt;p&gt;&lt;b&gt;Client Address:&lt;/b&gt; &quot;</span><span style="color: #339933;">.@@</span>clientAddress<span style="color: #339933;">.</span><span style="color: #0000ff;">&quot;&lt;/p&gt;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span> <span style="color: #009900;">&#125;</span></div></div>

<p>Set this trigger to fire <i>before</i> the output document step. Then, place <code>@#fileContent</code> in the output document template. When the output document is generated while running a case, the content will automatically be inserted depending on the system language.</p>
<p>The other option is to create a separate output document for each language. Add each output document as steps in the task. Then, add conditions to execute the one output document which corresponds to the current system language and not execute the rest of the output documents.</p>

<p>For example, output document templates are created for both Spanish and English:</p>
<p><img src="../sites/default/files/ClientInfoTwoOutDocs.png"></p>

<p>Both output documents are added as steps in a task and conditions are added to both to check the current system language.</p>
<p><img src="../sites/default/files/ConditionForSpanishOutDoc.png"></p>

<p>The following condition executes the Spanish output document:</p>
<codeblock>(@@SYS_LANG == 'es' or @@SYS_LANG == 'es-ES')</codeblock>
<p>And the following condition would execute the English output document step if the system language is not Spanish:
<codeblock>(@@SYS_LANG != 'es' and @@SYS_LANG != 'es-ES')</codeblock>





<h2><span id="Inserting_Output_Documents_into_the_Process">Inserting Output Documents into a Process</span></h2><p>After creating an output document, decide where in a process the Output Document can be submitted. Remember that a task is a group of steps, so an output document must be added in a task. Read <a href="Tasks.html#Steps" title="3.0/Tasks"> this documentation</a> which explains how to add an Output Document as a step</p>

<h2><span id="Output_Documents_Examples">Output Documents Example</span></h2>

<h3><span id="Simple_Output_Documents_Example">Simple Output Documents Example </span></h3>
<p>To create simple Output Documents, go to Output Documents in the main toolbox and click on "Create". A new window will open in which the information about the document must be filled. After filling in all the information that is necessary, save the output document.</p>
<p><img src="../sites/default/files/32PM3_OutputDoc_ODExample1.png"></p>
<p>Once saved, the "Output Document Example" will appear in the Output Documents list, click on "Open Editor" to write a document in a Word-like environment. After it is saved, a quick message will appear saying the document has been edited successfully.</p>
<p><img src="../sites/default/files/33PM3_OutputDoc_ODExample2.png"></p>
<p><img src="../sites/default/files/33PM3_OutputDoc_ODExample2_1.png"></p>
<p>After saving it, go to the first task and right click on it to select "Steps" and drag and drop the "Output Documents Example" to be called after the Dynaform. </p>
<p><img src="../sites/default/files/34PM3_OutputDoc_ODExample3.png"></p>
<p>Now, to see how an Output Document looks when a case is running, go to "Home" > "New Case" and double click on the process that contains the Output Document. In this case, the process "Copy of Purchase Request" is being used as an example. Once the initial information of the client is filled in, the next step is to see the document. As the image below shows, the document is generated in <strong>.doc</strong> and <strong>.pdf</strong>.</p>
<p><img src="../sites/default/files/35PM3_OutputDoc_ODExample4.png"></p>
<p><img src="../sites/default/files/35PM3_OutputDoc_ODExample4_1.png"></p>
<p>The image below shows how both documents look in both formats <strong>.doc</strong> and <strong>.pdf</strong>.</p>
<p><img src="../sites/default/files/36PM3_OutputDoc_ODExample5.png"></p>

<h3><span id="Output_Documents_Example_with_HTML">Output Documents Example with HTML</span></h3>
<p>To create an example with HTML, first create four variables "name" type String, "email" type String, "address" type String and "currentDate" type Datetime. These variables will be stored in all the fields of the DynaForm that we will create next.</p>
<p><img src="../sites/default/files/37PM3_OutputDoc_ODHTMLExample1.png"></p>
<p>Now, create a Dynaform with fields named as the variables to have congruence between the variable, the Dynaform and the soon to be created Output Document. Don't forget to create a "Submit" button to go into the next task.</p>
<p><img src="../sites/default/files/38PM3_OutputDoc_ODHTMLExample2.png"></p>
<p>Save the Dynaform "Order request form" to add it as a step to the task will be working on.</p>
<p><img src="../sites/default/files/39PM3_OutputDoc_ODHTMLExample3.png"></p>
<p>It's time to create an Output Document with the name "Output Documents Example". Locate the button with the "HTML" sign and click on it. It will open an HTML Source Editor where code can be added. Try adding this code for this particular example:</p>
<div class="geshifilter"><div class="html5 geshifilter-html5" style="font-family:monospace;"><span style="color: #00bbdd;">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/html.html"><span style="color: #000000; font-weight: bold;">html</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/head.html"><span style="color: #000000; font-weight: bold;">head</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/head.html"><span style="color: #000000; font-weight: bold;">head</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/body.html"><span style="color: #000000; font-weight: bold;">body</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">div</span></a> <span style="color: #000066;">style</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;font-family: 'Trebuchet MS', Arial, Helvetica, sans-serif; font-size: 13px;&quot;</span>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;&lt;<a href="http://december.com/html/4/element/img.html"><span style="color: #000000; font-weight: bold;">img</span></a> <span style="color: #000066;">src</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;http://www.processmaker.com/uploads/processmaker_logo_nobg300.png&quot;</span> <span style="color: #000066;">width</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;300&quot;</span> <span style="color: #000066;">height</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;72&quot;</span> <span style="color: #66cc66;">/</span>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a> <span style="color: #000066;">style</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;color: #009; font-weight: bold;&quot;</span>&gt;</span>NEW YORK<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a> <span style="color: #66cc66;">/</span>&gt;</span>Brooklyn, NY, 11238, USA<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a> <span style="color: #000066;">style</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;text-align: center; text-decoration: underline; font-size: 20px;&quot;</span>&gt;</span>PROOF OF PAYMENT<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>Sent by: @#USR_USERNAME<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>Name: @#name<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>Email: @#email<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>Address: @#address<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>Current date: @#currentDate<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>Status: Approved<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">div</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/body.html"><span style="color: #000000; font-weight: bold;">body</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/html.html"><span style="color: #000000; font-weight: bold;">html</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/body.html"><span style="color: #000000; font-weight: bold;">body</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/html.html"><span style="color: #000000; font-weight: bold;">html</span></a>&gt;</span></div></div>
<p>When the code is ready to be executed click on update to save it.</p>
<p><img src="../sites/default/files/40PM3_OutputDoc_ODHTMLExample4.png"></p>
<p>The result of this HTML Code will be:</p>
<p><img src="../sites/default/files/41PM3_OutputDoc_ODHTMLExample5.png"></p>
<p>This example was designed to use variables that will show the saved field of a Dynaform and appear automatically in the output Document. For this, go to the variable picker in the edition window of Output Documents, choose the prefix "@#" because it will insert the value of the variable without any changes. Insert the variable that belongs with each field, as seen in the image below.  </p>
<p><img src="../sites/default/files/42PM3_OutputDoc_ODHTMLExample6.png"></p>
<p>After adding all the variables to each field, the Output Document is ready to be assigned to a task. Then, save it, and it will appear in the list with the other documents.</p>
<p><img src="../sites/default/files/43PM3_OutputDoc_ODHTMLExample7.png"></p>
<p>Choose the first task and right click on it to show its properties, click on "Steps" and add the Output Document after completing the Dynaform, as seen in the image below.</p>
<p><img src="../sites/default/files/44PM3_OutputDoc_ODHTMLExample8.png"></p>
<p>To test if it works, go to "Home" > "New Case" and star the process "Copy of Purchase Request" by double clicking it. Fill the information in the form and click "Submit" to see the Output Document.</p>
<p><img src="../sites/default/files/45PM3_OutputDoc_ODHTMLExample9.png"></p>
<p>The next window will show that there is an Output Document before moving on to the next task, and that there are two files generated in <strong>.doc</strong> and <strong>.pdf</strong>.</p>
<p><img src="../sites/default/files/46PM3_OutputDoc_ODHTMLExample10.png"></p>
<p>Once "Open" is clicked for either document, an automatic download of the Output Documents will start and will be saved in the Download folder. Open them to see that the document has the information required in the HTML Code and is calling all the variables added in the Dynaform.</p>
<p><img src="../sites/default/files/47PM3_OutputDoc_ODHTMLExample11.png"></p>


<h2><span id="Output_Document_Storage">Output Document Storage</span></h2>
<h3><span id="Output_Document_Definitions">Output Document Definitions</span></h3>
<p>The definitions of Output Documents are stored in the <strong><tt>wf_&lt;WORKSPACE&gt;.OUTPUT_DOCUMENT</tt></strong> table in the MySQL database. This table, however, doesn't contain the title, description, template and filename for Output Documents, because this information can be multilingual with a different version for each language. Instead, this information is stored in the <strong><tt>wf_&lt;WORKSPACE&gt;.CONTENT</tt></strong> table under different <a  href="http://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO 639-1</a> language codes, such as "en" for English or "es" for Spanish.</p>
<p>To find the title, description, template and filename for Output Documents, enter MySQL (either from the command line or with a graphical program such as phpMyAdmin) or access it through a function such as <a href="ProcessMaker_Functions.html#executeQuery.28.29">executeQuery()</a> in a trigger. Search for a value of <tt>'OUT_DOC_TITLE'</tt>, <tt>'OUT_DOC_DESCRIPTION'</tt>, <tt>'OUT_DOC_TEMPLATE'</tt>, and <tt>'OUT_DOC_FILENAME'</tt> in the <strong><tt>wf_&lt;WORKSPACE&gt;.OUTPUT_DOCUMENT.CON_CATEGORY</tt></strong> field. For example, to find all Output Document templates:</p>

<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> <span style="color: #66cc66;">*</span> <span style="color: #993333; font-weight: bold;">FROM</span> CONTENT <span style="color: #993333; font-weight: bold;">WHERE</span> CON_CATEGORY<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'OUT_DOC_TEMPLATE'</span></div></div>
<p><img src="../sites/default/files/27PM3_OutputDoc_OutputDocStorage_OutputDocDef_Sql1.png"></p>

<p>To find a specific Output Document template, specify its unique ID in the query:</p>

<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> <span style="color: #66cc66;">*</span> <span style="color: #993333; font-weight: bold;">FROM</span> CONTENT <span style="color: #993333; font-weight: bold;">WHERE</span> CON_CATEGORY<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'OUT_DOC_TEMPLATE'</span> <span style="color: #993333; font-weight: bold;">AND</span> CON_ID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'XXXXXXXXXXXXXXXXXXXXXXXXXX'</span>;</div></div>
<p><img src="../sites/default/files/28PM3_OutputDoc_OutputDocStorage_OutputDocDef_Sql2.png"></p>

<p>Use the following SQL query to see all the entries related to Output Documents:</p>

<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> CON_CATEGORY<span style="color: #66cc66;">,</span> CON_ID<span style="color: #66cc66;">,</span> CON_LANG <span style="color: #993333; font-weight: bold;">FROM</span> CONTENT <span style="color: #993333; font-weight: bold;">WHERE</span> CON_CATEGORY <span style="color: #993333; font-weight: bold;">LIKE</span> <span style="color: #ff0000;">'OUT_DOC_%'</span></div></div>
<p><img src="../sites/default/files/29PM3_OutputDoc_OutputDocStorage_OutputDocDef_Sql3.png"></p>

<p>To see the information about a particular Output Document definition, search for its unique ID, which can either be found in the field <strong><tt>wf_&lt;WORKSPACE&gt;.OUTPUT_DOCUMENT.OUT_DOC_UID</tt></strong> or by opening the list of Output Documents inside ProcessMaker and clicking the <strong>UID</strong> link for an Output Document. Once the unique ID is known, it can be used in a SQL query:</p>

<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> <span style="color: #66cc66;">*</span> <span style="color: #993333; font-weight: bold;">FROM</span> CONTENT <span style="color: #993333; font-weight: bold;">WHERE</span> CON_ID <span style="color: #66cc66;">=</span> <span style="color: #ff0000;">'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'</span></div></div>
<p><img src="../sites/default/files/30PM3_OutputDoc_OutputDocStorage_OutputDocDef_Sql4.png"></p>

<p>For example, here is an Output Document defined in both English and Spanish:</p>

<codeblock>mysql&gt; select * from CONTENT where CON_ID = '2136030664a9bfeb8a775d7029704021';
+---------------------+----------------------------------+----------+------------------------------------------------------------+
| CON_CATEGORY        | CON_ID                           | CON_LANG | CON_VALUE                                                  |
+---------------------+----------------------------------+----------+------------------------------------------------------------+
| OUT_DOC_TEMPLATE    | 2136030664a9bfeb8a775d7029704021 | en       | Dear @#ClientName,&lt;br&gt;Please open case @#CaseNumber.       |
| OUT_DOC_TITLE       | 2136030664a9bfeb8a775d7029704021 | en       | Open Case Letter                                           |
| OUT_DOC_DESCRIPTION | 2136030664a9bfeb8a775d7029704021 | en       | Letter asking client to open the case                      |
| OUT_DOC_FILENAME    | 2136030664a9bfeb8a775d7029704021 | en       | OpenCaseLetter                                             |
| OUT_DOC_TEMPLATE    | 2136030664a9bfeb8a775d7029704021 | es       | Estimado @#ClientName,&lt;br&gt;Por favor abra caso @#CaseNumber.|
| OUT_DOC_TITLE       | 2136030664a9bfeb8a775d7029704021 | es       | Carta - Abrir Caso                                         |
| OUT_DOC_DESCRIPTION | 2136030664a9bfeb8a775d7029704021 | es       | Carta pidiendo que el cliente abra el caso                 |
| OUT_DOC_FILENAME    | 2136030664a9bfeb8a775d7029704021 | es       | CartaAbrirCaso                                             |
+---------------------+----------------------------------+----------+------------------------------------------------------------+
</codeblock>

<p>Note that a multilingual Output Document like this can be created by first logging into ProcessMaker in English and creating the Output Document, then logging into ProcessMaker in Spanish and editing the same output document in Spanish.</p>
<h3><span id="Output_Document_Files">Output Document Files</span></h3>
<p>When Output Document files are generated while running a case, an HTML file is created based upon the Output Document's template. From that HTML file, a PDF and/or DOC file are created. (Actually the DOC file is really just HTML code inside a DOC container.)</p>
<p>Output Documents files are stored at:</p>

<codeblock>&lt;INSTALL-DIRECTORY&gt;/shared/sites/&lt;WORKSPACE&gt;/files/&lt;CASE-UID&gt;/outdocs/&lt;CASE-FILE-UID&gt;_&lt;VERSION&gt;.&lt;EXTENSION&gt;
</codeblock>

<p>The filename of output documents files includes the unique ID for the case file (which is stored in the <strong><tt>wf_&lt;WORKFLOW&gt;.APP_DOCUMENT.APP_DOC_UID</tt></strong> field) and the version number, which starts counting from 1. Even if versioning isn't enabled, the filename will include "_1".</p>

<p><strong>Linux/UNIX:</strong></p>
<div style="margin-left:25px;">
    <codeblock>&lt;INSTALL-DIRECTORY&gt;/shared/sites/&lt;WORKSPACE&gt;/files/&lt;CASE-UID&gt;/outdocs/&lt;CASE-FILE-UID&gt;_&lt;VERSION&gt;.html
                                                                     /&lt;CASE-FILE-UID&gt;_&lt;VERSION&gt;.pdf
                                                                     /&lt;CASE-FILE-UID&gt;_&lt;VERSION&gt;.doc
</codeblock>

    <p><font color=green><b>Note:</b></font> <font color=dimgrey>The TCPDF library doesn't generate a separate HTML file.</font></p>

    <p>For example:</p>

    <codeblock>/opt/processmaker/shared/sites/workflow/files/a03459e1cb9824dac456780eca7b5cf6/outdocs/6663790024dd29d8bcb8212038377266_2.doc</codeblock>
</div>
<p><strong>Windows:</strong></p>
<div style="margin-left:25px;">
    <codeblock>&lt;INSTALL-DIRECTORY&gt;\processmaker\shared\&lt;WORKSPACE&gt;\files\&lt;CASE-UID&gt;\outdocs\&lt;CASE-FILE-UID&gt;_&lt;VERSION&gt;.html
                                                                            \&lt;CASE-FILE-UID&gt;_&lt;VERSION&gt;.pdf
                                                                            \&lt;CASE-FILE-UID&gt;_&lt;VERSION&gt;.doc
</codeblock>

    <p>For example in Windows Vista and later:</p>

    <codeblock>C:\Users\Bob\AppData\Roaming\ProcessMaker-2_5_3\processmaker\shared\workflow\files\a03459e1cb9824dac456780eca7b5cf6\outdocs\6663790024dd29d8bcb8212038377266_2.doc
</codeblock>
</div>
<p>In version 2.5.1 and later, an option was added to allow <a href="Managing_32K_Folders.html">case files to be stored in a series of 3 subdirectories</a>
created from the case's unique ID to avoid the 32K file limits of Linux's ext3 file system. In version 3.0 and later, this option is activated by default. This means that a directory using the case's unique ID, such as <code>/a03459e1cb9824dac456780eca7b5cf6/</code> in the above example, becomes 3 subdirectories whose names are three characters in the case's unique ID, with the rest of the unique ID placed in the name of another subdirectory:</p>
<codeblock>/opt/processmaker/shared/sites/workflow/files<b>/a03/459/e1c/b9824dac456780eca7b5cf6/</b>outdocs/6663790024dd29d8bcb8212038377266_2.doc</codeblock>

<p>If accessing an Output Document file from a ProcessMaker trigger or plugin, it is recommended to use the defined constant <code>PATH_DOCUMENT</code>, to set the location of the case files, such as <code>"/opt/processmaker/shared/sites/workflow/files/"</code> on a Linux/UNIX system, and <code>PATH_SEP</code>, which is  <code>"/"</code> on Linux/UNIX systems and <code>"\"</code> on Windows systems to separate directories in the file system. The <a href="Internal_Functions_and_Classes.html#G::getPathFromURL.28.29">G::getPathFromUID()</a> method may be used in version 2.5.1 or later to break a unique ID number into subdirectories in this way if the system requires it. For example to get an Output Document file with the case-file ID of 6960198894e6927e0a40b14004833875 and the version number 2 in the current case:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> G<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$OutDocPath</span> <span style="color: #339933;">=</span> PATH_DOCUMENT <span style="color: #339933;">.</span> <span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getPathFromUID</span><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #009900;">&#41;</span> <span style="color: #339933;">.</span> PATH_SEP <span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;outdocs&quot;</span> <span style="color: #339933;">.</span> PATH_SEP <span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;6960198894e6927e0a40b14004833875_2.pdf&quot;</span><span style="color: #339933;">;</span></div></div> If unsure if in version 2.5.1 or later, then use <a href="http://php.net/manual/en/function.method-exists.php">method_exists()</a>to
check whether <code>G::getPathFromUID()</code> exists before calling it.
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$caseId</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'a03459e1cb9824dac456780eca7b5cf6'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> G<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$caseIdPath</span> <span style="color: #339933;">=</span> <a href="http://php.net/method_exists"><span style="color: #990000;">method_exists</span></a><span style="color: #009900;">&#40;</span>G<span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;getPathFromUID&quot;</span><span style="color: #009900;">&#41;</span> ? <span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getPathFromUID</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$caseId</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">:</span> <span style="color: #000088;">$caseId</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$OutDocPath</span> <span style="color: #339933;">=</span> PATH_DOCUMENT <span style="color: #339933;">.</span> <span style="color: #000088;">$caseIdPath</span> <span style="color: #339933;">.</span> PATH_SEP <span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;outdocs&quot;</span> <span style="color: #339933;">.</span> PATH_SEP <span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;6960198894e6927e0a40b14004833875_2.pdf&quot;</span><span style="color: #339933;">;</span></div></div>
<h4><span id="Changing_the_File_Location">Changing the File Location</span></h4>
<p>If needing to store Input and Output Document files in a different location, such as a NAS, then copy the contents of the <strong><tt>files</tt></strong> directory to the new location and then edit the source code in <strong><tt>workflow/public_html/sysGeneric.php</tt></strong> and change the location of <tt>PATH_DOCUMENT</tt>, which is defined at line 332:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;">&nbsp;<a href="http://php.net/define"><span style="color: #990000;">define</span></a><span style="color: #009900;">&#40;</span> <span style="color: #0000ff;">'PATH_DOCUMENT'</span><span style="color: #339933;">,</span> PATH_DATA_SITE <span style="color: #339933;">.</span> <span style="color: #0000ff;">'files/'</span> <span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>For example, to store files on an NAS mounted drive at <strong><tt>/media/nas/processmaker</tt></strong>:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><a href="http://php.net/define"><span style="color: #990000;">define</span></a><span style="color: #009900;">&#40;</span> <span style="color: #0000ff;">'PATH_DOCUMENT'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'/media/nas/processmaker/'</span> <span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
<p>Make sure to include the forward slash in Linux/UNIX or the backward slash in Windows at the end of the path.</p>

<h3><span id="Generated_Output_Documents_in_the_Database">Generated Output Documents in the Database</span></h3>
<p>When an Output Document is generated when running a case, a new entry is added to the <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DOCUMENT</tt></strong> table and a new unique ID is assigned to the generated Output Document. In addition, 3 new entries are added to the <strong><tt>wf_&lt;WORKSPACE&gt;.CONTENT</tt></strong> table whose <strong><tt>CON_ID</tt></strong> field is set to that unique ID and the <strong><tt>CON_CATEGORY</tt></strong> fields are set to <tt>'APP_DOC_TITLE'</tt>,<tt>'APP_DOC_FILENAME'</tt> and <tt>'APP_DOC_COMMENT'</tt>, respectively.</p>
<p>If inside a trigger or using an external application or script, the unique ID for an Output Document file can be found with the <a href="ProcessMaker_WSDL_Web_Services.html#Output_Document_List" title="ProcessMaker WSDL Web Services">outputDocumentList()</a> web service. Inside a trigger or a DynaForm, the unique IDs for all generated Output Documents can be looked up with the following SQL query:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> APP_DOC_UID <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT <span style="color: #993333; font-weight: bold;">WHERE</span> APP_DOC_TYPE<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'OUTPUT'</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span></div></div>

<p><img src="../sites/default/files/PM3_OutputDoc_OutputDocForSpecificCase.png"></p>
<p>To find the generated Output Documents for a specified case:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> APP_DOC_UID <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT <span style="color: #993333; font-weight: bold;">WHERE</span> APP_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'&lt;CASE-UID&gt;'</span> <span style="color: #993333; font-weight: bold;">AND</span><br />
&nbsp; APP_DOC_TYPE<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'OUTPUT'</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span></div></div>

<p>To find a specified Output Document for a specified case, which was uploaded by a specified user:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> APP_DOC_UID <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT <span style="color: #993333; font-weight: bold;">WHERE</span> APP_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'&lt;CASE-UID&gt;'</span> <span style="color: #993333; font-weight: bold;">AND</span><br />
&nbsp; DOC_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'&lt;INPUT_DOC_UID&gt;'</span> <span style="color: #993333; font-weight: bold;">AND</span> USR_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'&lt;USER_UID&gt;'</span> <span style="color: #993333; font-weight: bold;">AND</span><br />
&nbsp; APP_DOC_TYPE<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'INPUT'</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span></div></div>
<p>Output Documents can be marked by <i>tags</i>, which provide an easy way to find related Output Documents under <strong>HOME &gt; Documents</strong>. The tags are stored in the <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DOCUMENT.APP_DOC_TAGS</tt></strong> field for each generated Output Document file and multiple tags are separated by commas. To find all generated Output Document files for a case with a specified tag:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> APP_DOC_UID <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT <span style="color: #993333; font-weight: bold;">WHERE</span> APP_DOC_TYPE<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'OUTPUT'</span> <span style="color: #993333; font-weight: bold;">AND</span><br />
&nbsp; &nbsp;APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_TAGS <span style="color: #993333; font-weight: bold;">LIKE</span> <span style="color: #ff0000;">'%&lt;TAG&gt;%'</span></div></div>
<p>To find all generated Output Documents created between a certain date range:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> APP_DOC_UID <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT <span style="color: #993333; font-weight: bold;">WHERE</span> APP_DOC_TYPE<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'OUTPUT'</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span> <span style="color: #993333; font-weight: bold;">AND</span><br />
&nbsp; &nbsp;APP_DOC_CREATE_DATE<span style="color: #66cc66;">&gt;=</span><span style="color: #ff0000;">'&lt;YYYY-MM-DD HH:MM:SS&gt;'</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_CREATE_DATE<span style="color: #66cc66;">&lt;=</span><span style="color: #ff0000;">'&lt;YYYY-MM-DD HH:MM:SS&gt;'</span></div></div>
<p>To find the unique IDs for all the generated files for a specified Output Document Definition and their filenames used under <strong>HOME &gt; Documents</strong> (not its real filename in the file system), query the <strong><tt>wf_&lt;WORKSPACE&gt;.CONTENT</tt></strong> table:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> C<span style="color: #66cc66;">.</span>CON_ID<span style="color: #66cc66;">,</span> C<span style="color: #66cc66;">.</span>CON_VALUE <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT AD<span style="color: #66cc66;">,</span> CONTENT C<br />
&nbsp; <span style="color: #993333; font-weight: bold;">WHERE</span> AD<span style="color: #66cc66;">.</span>DOC_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'&lt;OUT-DOC-DEFINITION-UID&gt;'</span> <span style="color: #993333; font-weight: bold;">AND</span> AD<span style="color: #66cc66;">.</span>APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span> <span style="color: #993333; font-weight: bold;">AND</span><br />
&nbsp; AD<span style="color: #66cc66;">.</span>APP_DOC_UID<span style="color: #66cc66;">=</span>C<span style="color: #66cc66;">.</span>CON_ID <span style="color: #993333; font-weight: bold;">AND</span> C<span style="color: #66cc66;">.</span>CON_CATEGORY<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'APP_DOC_FILENAME'</span> <span style="color: #993333; font-weight: bold;">AND</span> C<span style="color: #66cc66;">.</span>CON_VALUE<span style="color: #66cc66;">&lt;&gt;</span><span style="color: #ff0000;">''</span></div></div>
<p>To find the unique IDs for all the generated Output Documents for a specified user and their filenames used under <strong>HOME &gt; Documents</strong>:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> C<span style="color: #66cc66;">.</span>CON_ID<span style="color: #66cc66;">,</span> C<span style="color: #66cc66;">.</span>CON_VALUE <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT AD<span style="color: #66cc66;">,</span> CONTENT C<br />
&nbsp; <span style="color: #993333; font-weight: bold;">WHERE</span> AD<span style="color: #66cc66;">.</span>USR_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'&lt;USER-UID&gt;'</span> <span style="color: #993333; font-weight: bold;">AND</span> AD<span style="color: #66cc66;">.</span>APP_DOC_TYPE<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'OUTPUT'</span> <span style="color: #993333; font-weight: bold;">AND</span> AD<span style="color: #66cc66;">.</span>APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span> <span style="color: #993333; font-weight: bold;">AND</span><br />
&nbsp; AD<span style="color: #66cc66;">.</span>APP_DOC_UID<span style="color: #66cc66;">=</span>C<span style="color: #66cc66;">.</span>CON_ID <span style="color: #993333; font-weight: bold;">AND</span> C<span style="color: #66cc66;">.</span>CON_CATEGORY<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'APP_DOC_FILENAME'</span> <span style="color: #993333; font-weight: bold;">AND</span> C<span style="color: #66cc66;">.</span>CON_VALUE<span style="color: #66cc66;">=</span><span style="color: #ff0000;">''</span></div></div>

<p>To find the unique IDs for all the generated Output Documents for a specified case and their filenames used under <strong>HOME &gt; Documents</strong>:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> C<span style="color: #66cc66;">.</span>CON_ID<span style="color: #66cc66;">,</span> C<span style="color: #66cc66;">.</span>CON_VALUE <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT AD<span style="color: #66cc66;">,</span> CONTENT C<br />
&nbsp; <span style="color: #993333; font-weight: bold;">WHERE</span> AD<span style="color: #66cc66;">.</span>APP_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'&lt;CASE-UID&gt;'</span> <span style="color: #993333; font-weight: bold;">AND</span> AD<span style="color: #66cc66;">.</span>APP_DOC_TYPE<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'OUTPUT'</span> <span style="color: #993333; font-weight: bold;">AND</span> AD<span style="color: #66cc66;">.</span>APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span> <span style="color: #993333; font-weight: bold;">AND</span><br />
&nbsp; AD<span style="color: #66cc66;">.</span>APP_DOC_UID<span style="color: #66cc66;">=</span>C<span style="color: #66cc66;">.</span>CON_ID <span style="color: #993333; font-weight: bold;">AND</span> C<span style="color: #66cc66;">.</span>CON_CATEGORY<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'APP_DOC_FILENAME'</span> <span style="color: #993333; font-weight: bold;">AND</span> C<span style="color: #66cc66;">.</span>CON_VALUE<span style="color: #66cc66;">&lt;&gt;</span><span style="color: #ff0000;">''</span></div></div>

<p>If multi-lingual processes have been designed and the filename depends upon the system language, then add <tt>ADD C.CON_LANG='&lt;LANG-CODE&gt;'</tt> to the 3 queries above.</p>
<p>If the Output Document is configured to allow multiple versions of the same Input Document file, then also look for the record with the highest positive integer in the <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DOCUMENT.DOC_VERSION</tt></strong> field. (The counting starts from the number 1.)</p>
<p>To find the most recent version of a generated Output Document for a specified case:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> APP_DOC_UID <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT <span style="color: #993333; font-weight: bold;">WHERE</span> APP_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'&lt;CASE-UID&gt;'</span> <span style="color: #993333; font-weight: bold;">AND</span><br />
&nbsp; DOC_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'&lt;OUT-DOC-DEFINITION-UID&gt;'</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span> <span style="color: #993333; font-weight: bold;">AND</span><br />
&nbsp; DOC_VERSION <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#40;</span><span style="color: #993333; font-weight: bold;">SELECT</span> <span style="color: #993333; font-weight: bold;">MAX</span><span style="color: #66cc66;">&#40;</span>DOC_VERSION<span style="color: #66cc66;">&#41;</span> <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT <span style="color: #993333; font-weight: bold;">WHERE</span> APP_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'&lt;CASE-UID&gt;'</span> <span style="color: #993333; font-weight: bold;">AND</span><br />
&nbsp; DOC_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'&lt;OUT-DOC-DEFINITION-UID&gt;'</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span><span style="color: #66cc66;">&#41;</span></div></div>

<h2><span id="Accessing_Output_Documents_with_Triggers">Accessing Output Document with Triggers</span></h2>
<h3><span id="Links_to_Output_Documents_in_DynaForms">Links to Output Documents in DynaForms</span></h3>
<p>Trigger code can be used to look up information about an Output Document file in the database and construct the address to download the file.
<p>First, add two link controls to a DynaForm for the PDF and DOC of an Output Document file:</p>

<p><img src="../sites/default/files/LinkToOutputDocumentInDynaForm.png"> <img src="../sites/default/files/LinkToDocFileOfOutDoc.png"></p>

<p>In the properties of the link to the PDF file, set its <b>display text</b> property to the <code>@@filenamePdf</code> variable and set its <b>href</b> property to the <code>@@filePdfUrl</code> variable. Likewise, in the properties of the DOC file, set its <b>display text</b> property to the <code>@@filenameDoc</code> variable and set its <b>href</b> property to the <code>@@fileDocUrl</code> variable.</p>
<p>Then, create the following trigger which looks up information about the latest version of the Output Document file in the <b><tt>APP_DOCUMENT</tt></b> table and its filename in the <b><tt>CONTENT</tt></b> table in the database:
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">//set to the ID of the Output Document:</span><br />
<span style="color: #000088;">$docId</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'30671206456bbc811c7dd13078044406'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$caseId</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">;</span><br />
<span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;SELECT AD.APP_DOC_UID AS FILE_ID, C.CON_VALUE AS FILENAME, AD.DOC_VERSION AS VERSION<br />
&nbsp; &nbsp;FROM APP_DOCUMENT AD, CONTENT C<br />
&nbsp; &nbsp;WHERE AD.APP_UID='<span style="color: #006699; font-weight: bold;">$caseId</span>' AND AD.DOC_UID='<span style="color: #006699; font-weight: bold;">$docId</span>' AND AD.APP_DOC_UID=C.CON_ID AND<br />
&nbsp; &nbsp;C.CON_CATEGORY='APP_DOC_FILENAME' AND AD.DOC_VERSION=C.CON_PARENT<br />
&nbsp; &nbsp;ORDER BY AD.DOC_VERSION DESC&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">!</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> or <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Error: Unable to find Output Document file for case <span style="color: #006699; font-weight: bold;">$caseId</span>.&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<br />
<span style="color: #000088;">$fileId</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'FILE_ID'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$filename</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'FILENAME'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$version</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'VERSION'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>filePdfUrl <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;http://<span style="color: #006699; font-weight: bold;">{$_SERVER['SERVER_NAME']}</span>:<span style="color: #006699; font-weight: bold;">{$_SERVER['SERVER_PORT']}</span>/sys&quot;</span> <span style="color: #339933;">.</span> <span style="color: #339933;">@@</span>SYS_SYS <span style="color: #339933;">.</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">&quot;/neoclassic/en/cases/cases_ShowOutputDocument?a=<span style="color: #006699; font-weight: bold;">$fileId</span>&amp;v=<span style="color: #006699; font-weight: bold;">$version</span>&amp;ext=pdf&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>fileDocUrl <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;http://<span style="color: #006699; font-weight: bold;">{$_SERVER['SERVER_NAME']}</span>:<span style="color: #006699; font-weight: bold;">{$_SERVER['SERVER_PORT']}</span>/sys&quot;</span> <span style="color: #339933;">.</span> <span style="color: #339933;">@@</span>SYS_SYS <span style="color: #339933;">.</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">&quot;/neoclassic/en/cases/cases_ShowOutputDocument?a=<span style="color: #006699; font-weight: bold;">$fileId</span>&amp;v=<span style="color: #006699; font-weight: bold;">$version</span>&amp;ext=doc&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>filenamePdf <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;<span style="color: #006699; font-weight: bold;">{$filename}</span>_<span style="color: #006699; font-weight: bold;">{$version}</span>.pdf&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>filenameDoc <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;<span style="color: #006699; font-weight: bold;">{$filename}</span>_<span style="color: #006699; font-weight: bold;">{$version}</span>.doc&quot;</span><span style="color: #339933;">;</span></div></div>
<p>This trigger code sets the values of the variables which are inserted into the properties of the link controls when the DynaForm is generated. Make sure to change the <code>$docId</code> to the unique ID of the Output Document. Then, set this trigger to fire <i>before</i> the DynaForm.</p>

<p>When a case is run, the filenames and the URLs of the PDF and DOC files should be automatically inserted in the links in the DynaForm.</p>

<p><img src="../sites/default/files/LinksInDynaFormToFiles.png"></p>

<h3><span id="Generating_Output_Documents">Generating Output Documents</span></h3>
<p>The <a href="ProcessMaker_Functions.html#PMFGenerateOutputDocument.28.29">PMFGenerateOutputDocument()</a> function can be called in a <a href="Triggers.html">trigger</a> to generate an Output Document in the current case.  The PMFGenerateOutputDocument() function doesn't return any information about the generated file, but afterwards the executeQuery() function can be used to lookup this information in the <tt><b>wf_<font color=blue><i>WORKSPACE</i></font>.APP_DOCUMENT</tt></b> table. Information such as the filename, file version, the user who generated the file, and datetime when generated can be obtained with a complex database query as shown in the previous example, but it is much simpler to use the <a href="Internal_Functions_and_Classes.html#AppDocument::Load.28.29">AppDocument::Load()</a> method to obtain this information.
<p><b>Example:</b></p>
<div style="margin-left:25px">
    <p>This example (which can be downloaded by right clicking this <a href="../sites/default/files/Generate_Output_Dcument_Example-1.pmx">link</a> and saving it) shows how to generate an Output Document and display a link to the generated file in a subsequent DynaForm, so that it is not necessary to have a separate Output Document step.</p>
    <p>First, create two string variables named <code>outDocUrl</code> and <code>outDocFilename</code>, which will be used to pass the web address and filename of the generated file to the DynaForm. Then create a DynaForm which has a link control. In the properties of that link control, set the <b>display text</b> property to <code>@@outDocFilename</code> and the <b>href</b> property to <code>@@outDocUrl</code>.</p>
    <img src="../sites/default/files/VariablesForOutputDocLink.png">

    <p>Then, create an Output Document and get its Unique ID number by clicking on its <b>Show ID</b> button:</p>
    <img src="../sites/default/files/ShowIDForOutputDocument.png">

    <p>Then, create a trigger with the following code which generates the Output Document and looks up information about the generated PDF file:</p>
    <div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">//set to the Unique ID of the Output Document:</span><br />
<span style="color: #000088;">$outDocId</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'84581368556d0b69010a355067195050'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$caseId</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">;</span><br />
<br />
PMFGenerateOutputDocument<span style="color: #009900;">&#40;</span><span style="color: #000088;">$outDocId</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #666666; font-style: italic;">//retrieve info from the database about the generated output document file</span><br />
<span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;SELECT APP_DOC_UID FROM APP_DOCUMENT WHERE APP_UID='<span style="color: #006699; font-weight: bold;">$caseId</span>' AND<br />
&nbsp; &nbsp;DOC_UID='<span style="color: #006699; font-weight: bold;">$outDocId</span>' AND APP_DOC_STATUS='ACTIVE'&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">!</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> or <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Error: Unable to find generated Output Document in database.&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<br />
<span style="color: #000088;">$d</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> AppDocument<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aFile</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$d</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">Load</span><span style="color: #009900;">&#40;</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_UID'</span><span style="color: #009900;">&#93;</span> <span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #666666; font-style: italic;">//change from 'http://' to 'https://' if using SSL</span><br />
<span style="color: #666666; font-style: italic;">//change 'pdf' to 'doc' for MS Word file</span><br />
<span style="color: #339933;">@@</span>outDocUrl <span style="color: #339933;">=</span> <span style="color: #0000ff;">'http://'</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$_SERVER</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'SERVER_NAME'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">.</span><br />
&nbsp; &nbsp;<span style="color: #666666; font-style: italic;">// ':' . $_SERVER['SERVER_PORT'] . //uncomment if needing a port number</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'/sys'</span><span style="color: #339933;">.</span> <span style="color: #339933;">@@</span>SYS_SYS <span style="color: #339933;">.</span> <span style="color: #0000ff;">'/en/neoclassic/cases/cases_ShowOutputDocument?a='</span> <span style="color: #339933;">.</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$aFile</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_UID'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">'&amp;v='</span><span style="color: #339933;">.</span> <span style="color: #000088;">$aFile</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'DOC_VERSION'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">'&amp;ext=pdf'</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>outDocFilename <span style="color: #339933;">=</span> <span style="color: #000088;">$aFile</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_FILENAME'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">.</span><span style="color: #0000ff;">'_'</span><span style="color: #339933;">.</span> <span style="color: #000088;">$aFile</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'DOC_VERSION'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">.</span><span style="color: #0000ff;">'.pdf'</span><span style="color: #339933;">;</span></div></div>
    </p>Change the <code>$outDocId</code> variable to the Output Document's unique ID. The address in <code>@@outDocUrl</code>    also may need to be adjusted if using <b>https</b> or if using a port number. In this example, the link is
    for a PDF file, but change from <code>'pdf'</code> to <code>'doc'</code> if linking to an MS Word file.
    <a href="Triggers.html#Inserting_a_trigger_in_a_process">Set the above trigger to fire</a> <i>before</i> the
    DynaForm.
    </p>
    <p>When a case is run, the filename for the generated Output Document file should be displayed in the link field.</p>
    <img src="../sites/default/files/LinkToOutputDocumentFile.png">
</div>

<h3><span id="convert_to_text_file">Convert Output Documents to Text Files</span></h3>
<p>The following example shows how to convert an Output Document file into a text file and display it in a Link control in a subsequent DynaForm so the user can download the text file.
<p>In this example, the pdftotext command from <a href="https://poppler.freedesktop.org/">Poppler</a> is used to convert an Output Document's PDF file into a text file. Poppler has to be installed separately on the ProcessMaker server. On most Linux/UNIX servers, it is available to be installed in the <code>poppler-utils</code> package. For Windows machines, Poppler can be downloaded <a href="https://sourceforge.net/projects/poppler-win32/">here</a>. If not wishing to install a separate program, it is also possible to convert the Output Document's HTML file into text with the <a href="http://php.net/manual/en/function.strip-tags.php">strip_tags()</a> function, so this example can be modified to work without Poppler.
<p>First, create an Output Document in the process and get its ID number, which in this example is "233815488585c62af61e2a6077136729".</p>
<p>Then, create a DynaForm with a Link control. In the properties of the Link, set the <b>display text</b> to <code>@@textDocFilename</code> and the <b>href</b> to <code>@@textDocUrl</code>. </p>
<p><img src="../sites/default/files/TextFileLinkInDynaForm.png"></p>
<p>Finally, create the following trigger:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">//set to the Unique ID of the Output Document:</span><br />
<span style="color: #000088;">$outDocId</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'233815488585c62af61e2a6077136729'</span><span style="color: #339933;">;</span><br />
PMFGenerateOutputDocument<span style="color: #009900;">&#40;</span><span style="color: #000088;">$outDocId</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #666666; font-style: italic;">//retrieve info from the database about the generated output document file</span><br />
<span style="color: #000088;">$caseId</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">;</span><br />
<span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;SELECT APP_DOC_UID, DOC_VERSION FROM APP_DOCUMENT<br />
&nbsp; &nbsp;WHERE APP_UID='<span style="color: #006699; font-weight: bold;">$caseId</span>' AND DOC_UID='<span style="color: #006699; font-weight: bold;">$outDocId</span>' AND<br />
&nbsp; &nbsp;APP_DOC_STATUS='ACTIVE' ORDER BY APP_DOC_CREATE_DATE DESC&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">!</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> or <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Error: Unable to find generated Output Document in database.&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #666666; font-style: italic;">//get the filename of the uploaded document:</span><br />
<span style="color: #000088;">$d</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> AppDocument<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aFile</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$d</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">Load</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_UID'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'DOC_VERSION'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$originalFilename</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$aFile</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_FILENAME'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">.</span><span style="color: #0000ff;">'_'</span><span style="color: #339933;">.</span><span style="color: #000088;">$aFile</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'DOC_VERSION'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$filename</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_UID'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">.</span><span style="color: #0000ff;">'_'</span><span style="color: #339933;">.</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'DOC_VERSION'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> G<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$path</span> <span style="color: #339933;">=</span> PATH_DOCUMENT<span style="color: #339933;">.</span> <span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getPathFromUID</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$caseId</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">.</span>PATH_SEP<span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;outdocs&quot;</span> <span style="color: #339933;">.</span>PATH_SEP<span style="color: #339933;">.</span> <span style="color: #000088;">$filename</span> <span style="color: #339933;">.</span><span style="color: #0000ff;">'.pdf'</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$tempFile</span> <span style="color: #339933;">=</span> <a href="http://php.net/tempnam"><span style="color: #990000;">tempnam</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/sys_get_temp_dir"><span style="color: #990000;">sys_get_temp_dir</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$originalFilename</span><span style="color: #339933;">.</span><span style="color: #0000ff;">'_'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;">//convert PDF to text file:</span><br />
<a href="http://php.net/exec"><span style="color: #990000;">exec</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;pdftotext <span style="color: #006699; font-weight: bold;">$path</span> <span style="color: #006699; font-weight: bold;">$tempFile</span>.txt&quot;</span><span style="color: #339933;">,</span> <span style="color: #339933;">@=</span>aOutput<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #666666; font-style: italic;">//upload temporary text file to current case</span><br />
<span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a> <span style="color: #009900;">&#40;</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'ATTACH_FILE'</span> &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #000000; font-weight: bold;">new</span> CurlFile<span style="color: #009900;">&#40;</span><span style="color: #000088;">$tempFile</span><span style="color: #339933;">.</span><span style="color: #0000ff;">'.txt'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'APPLICATION'</span> &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'INDEX'</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #339933;">@%</span>INDEX<span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'USR_UID'</span> &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #339933;">@@</span>USER_LOGGED<span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'DOC_UID'</span> &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'-1'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'APP_DOC_TYPE'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'ATTACHED'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'TITLE'</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'COMMENT'</span> &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">''</span><br />
<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$domain</span> <span style="color: #339933;">=</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">is_https</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> ? <span style="color: #0000ff;">'https://'</span> <span style="color: #339933;">:</span> <span style="color: #0000ff;">'http://'</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$_SERVER</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'SERVER_NAME'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;">//add if needing a port number: .':'. $_SERVER['SERVER_PORT']</span><br />
<span style="color: #000088;">$uploadUrl</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$domain</span><span style="color: #339933;">.</span><span style="color: #0000ff;">'/sys'</span><span style="color: #339933;">.</span>SYS_SYS<span style="color: #339933;">.</span><span style="color: #0000ff;">'/'</span><span style="color: #339933;">.</span>SYS_LANG<span style="color: #339933;">.</span><span style="color: #0000ff;">'/'</span><span style="color: #339933;">.</span>SYS_SKIN<span style="color: #339933;">.</span><span style="color: #0000ff;">'/services/upload'</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #666666; font-style: italic;">//upload text file created from output document</span><br />
<a href="http://php.net/ob_flush"><span style="color: #990000;">ob_flush</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$ch</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_init"><span style="color: #990000;">curl_init</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_URL<span style="color: #339933;">,</span> <span style="color: #000088;">$uploadUrl</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_RETURNTRANSFER<span style="color: #339933;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_POST<span style="color: #339933;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_POSTFIELDS<span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;">// curl_setopt ($ch, CURLOPT_SSL_VERIFYHOST, 1); //Uncomment for SSL</span><br />
<span style="color: #666666; font-style: italic;">// curl_setopt ($ch, CURLOPT_SSL_VERIFYPEER, 1); //Uncomment for SSL</span><br />
<span style="color: #000088;">$response</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_exec"><span style="color: #990000;">curl_exec</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_close"><span style="color: #990000;">curl_close</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;">//delete temporary text files:</span><br />
<a href="http://php.net/unlink"><span style="color: #990000;">unlink</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$tempFile</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/unlink"><span style="color: #990000;">unlink</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$tempFile</span><span style="color: #339933;">.</span><span style="color: #0000ff;">'.txt'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/strpos"><span style="color: #990000;">strpos</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$response</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'uploaded successfully'</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">===</span> <span style="color: #009900; font-weight: bold;">false</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$response</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<br />
<span style="color: #666666; font-style: italic;">//lookup uploaded text file in the database:</span><br />
<span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;SELECT APP_DOC_UID, DOC_VERSION FROM APP_DOCUMENT<br />
&nbsp; &nbsp;WHERE APP_UID='<span style="color: #006699; font-weight: bold;">$caseId</span>' AND DOC_UID='-1' AND APP_DOC_STATUS='ACTIVE'<br />
&nbsp; &nbsp;ORDER BY APP_DOC_CREATE_DATE DESC&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #339933;">@@</span>textDocUrl <span style="color: #339933;">=</span> <span style="color: #000088;">$domain</span><span style="color: #339933;">.</span><span style="color: #0000ff;">'/sys'</span><span style="color: #339933;">.</span>SYS_SYS<span style="color: #339933;">.</span><span style="color: #0000ff;">'/'</span><span style="color: #339933;">.</span>SYS_LANG<span style="color: #339933;">.</span><span style="color: #0000ff;">'/'</span><span style="color: #339933;">.</span>SYS_SKIN<span style="color: #339933;">.</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">'/cases/cases_ShowDocument?a='</span><span style="color: #339933;">.</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_UID'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">.</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">'&amp;v='</span><span style="color: #339933;">.</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'DOC_VERSION'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>textDocFilename <span style="color: #339933;">=</span> <a href="http://php.net/basename"><span style="color: #990000;">basename</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$tempFile</span><span style="color: #339933;">.</span><span style="color: #0000ff;">'.txt'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
<p>Change the ID number of the Output Document to match your process. Set this trigger to execute <i>before</i> the DynaForm.
<p>This trigger first uses <a href="ProcessMaker_Functions.html#PMFGenerateOutputDocument.28.29">PMFGenerateOutputDocument()</a> to create the Output Document files. Then, it searches in the <b><tt>APP_DOCUMENT</tt></b> table in the database for the newly generated file in order to get its unique ID and version number. With that information, it calls the <a href="Internal_Functions_and_Classes.html#AppDocument::Load.28.29">AppDocument::Load()</a> method in order to get the filename of the generated file and construct the path where the file is stored on the ProcessMaker server.
<p>The trigger then uses the <a href="http://php.net/manual/en/function.tempnam.php">tempnam()</a> function to create a temporary file on the ProcessMaker server which will hold the text file. Then, it uses the <a href="http://php.net/manual/en/function.exec.php">exec()</a> function to make a system call for the pdftotext program to convert the Output Document's PDF file into a text file.</p>
<p>The temporary text file is then <a href="ProcessMaker_WSDL_Web_Services.html#Uploading_Attached_Files">uploaded to <code>/services/upload</code></a> as a new document in the case. The <b><tt>APP_DOCUMENT</tt></b> table is queried again to find the ID number and version number of this new document file. The URL to download the text file is placed in the <code>@@textDocUrl</code> variable and the filename of the text file is placed in the <code>@@textDocFilename</code> variable.
<p>When a case is run and the DynaForm with the Link field is displayed, the user can click on the link to download the text file.</p>
<p><img src="../sites/default/files/OutputDocToTextFileExample.png"></p>

<p>For a sample process containing this code, download and install <a href="../sites/default/files/output_document_to_text_file-3.pmx">output_document_to_text_file-3.pmx</a> (<i>right click</i> and select "Save Link As").
</div></div></div>  </div>

      <footer>
          </footer>
  
    </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
      </section>
    </div>
  
      
    </div>

      
</div>

 <!---add diego--->
  <div id="download-app-section" class="download-app mobile-none">
			<div class="row">
				<div class="col-md-12">
					<div class="text_app">Download our app</div>
							<a href="https://itunes.apple.com/us/app/processmaker/id992576284?ls=1&mt=8" target="_blank">
								<img src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/images/appstore.png">
							<a href="https://play.google.com/store/apps/details?id=com.colosa.processmaker" target="_blank">
								<img src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/images/playstore.png">				
				</div>
			</div>
  </div>
  <!---end diego--->
<!----add diego----->    
		<div class="logo_processmaker"><a href="http://www.processmaker.com">
		<img src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/images/logo_processmaker.png"></div>
<!----end diego----->
<div id="footer">
  <div id="footer_wrapper">
      </div>

  <div class="social-media-wrapper">
         <div id="social-media-icons">
       <ul>
       	<div class="text_contact">Contact us</div>
				<div class="text_number">+1-617-340-3377</div>
        <!--<li><a class="rss" href="/rss.xml">rss</a></li> <!--edit diego-->
        <li><a class="facebook" href="http://facebook.com/processmaker/" target="_blank" rel="me">facebook</a></li>
        <li><a class="twitter" href="https://twitter.com/processmaker" target="_blank" rel="me">twitter</a></li>
        <li><a class="gplus" href="https://www.google.com/+ProcessMakerOpenSource" target="_blank" rel="me">Gplus</a></li>
        <li><a class="linkedin" href="https://www.linkedin.com/groups?mostRecent=&gid=3970335&trk=my_groups-tile-flipgrp" target="_blank" rel="me">Linked in</a></li>
        <!--<li><a class="dribbble" href="http://dribbble.com" target="_blank" rel="me">Dribbble</a></li>
        <li><a class="vimeo" href="http://vimeo.com" target="_blank" rel="me">Vimeo</a></li>-->
        <li><a class="youtube" href="https://www.youtube.com/user/processmaker" target="_blank" rel="me">Youtube</a></li>
       </ul>
      </div>
      </div>
  
  <div class="footer_credit">
    <div class="footer_inner_credit">
           <div id="foot"><div class="region region-footer">
  <div id="block-block-2" class="block block-block">

      
  <div class="content">
    <p><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF">Automate your Workflow with Business Process Management<br>Software licensed under the <a 1px="" class="external text" href="http://www.gnu.org/licenses/agpl.html" rel="nofollow" style="padding-right: 13px; color:white;">GNU Affero General Public License version 3</a><br>Contact us:&nbsp;<a class="external free" href="mailto:community@processmaker.com" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">community@processmaker.com</a><br><a class="external free" href="https://www.processmaker.com/privacy-statement" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">Privacy Statement</a></font><br><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF"> Copyright 2000-2024 ProcessMaker Inc. All rights reserved.</font></p>
  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
</div>
         
   <!-- <div id="copyright">
      <p class="copyright">Copyright &copy; 2024, Documentation@ProcessMaker </p>
      <!--<p class="credits"> Developed by  <a href="http://www.zymphonies.com">Zymphonies</a></p>
      <div class="clear"></div>
    </div>-->
  </div>
  
  </div>
</div>

</div>

<script type="text/javascript">
  /* <![CDATA[ */
  document.write (
    '<img src="https://marketing.processmaker.com/acton/bn/3812/visitor.gif?ts='+ new Date().getTime()+ '&ref='+escape(document.referrer) + '">'
  );
  /* ]]> */
</script>
  
</div>
    <style>
    .center-div{
        width: 100%;        
        margin: 0 auto;
        z-index:10000;
        position:fixed;
        bottom: 0px;
        cursor:pointer;
    }
    .round-popup{
        margin:0 auto;
        font-family: 'Montserrat', sans-serif;
        font-size: 15px;
        font-weight: lighter;
        width: 412px;
        height: 50px;
        padding-top: 7px;
        text-align: center;
        position:relative;
    }
    .round-popup-button{
        position:absolute;
        top: 11px;
        right: 15px;
        background: transparent;
        border:none;
        font-size:15px;
        font-weight:normal;
        line-height:20px;
        width:20px;
        height:20px;
        padding:0;
    }
    .round-background-blue{
        background: url('http://www.processmaker.com/uploads/blue.png')no-repeat;
        color:white;
        
    }
    #box-pm31-button-blue{
        color: rgba(255, 255, 255, 0.5);
    }
    
    #box-pm31-button-blue:active,#box-pm31-button-blue:focus{
        border:none;
        outline:none;
    }
    .round-background-blue a{
        color: white!important;
        text-decoration: none;
        font-size: 15px;
        line-height:45px;
        font-family:Montserrat, sans-serif;
    }
    .round-background-blue span{
        font-weight: bold;
    }
    /*WHITE background*/
    .round-background-white{
        background: url('http://www.processmaker.com/uploads/white.png')no-repeat;
        background-position-x: -9px;        
        color: #3397E1;
    }
    .round-background-white a:hover{
        color: #3397E1!important;
        text-decoration: none;
        font-size: 15px;
    }
    #box-pm31-button-white{
        color: rgba(51, 151, 225, 0.7);
    }
</style>
    <div id="box-pm31" class="center-div" style="display:none;">
        <div class="round-popup round-background-blue">
            <a onclick="ga('send', 'event', 'WikiBlueBanner','click','PM31Release');" href="http://www.processmaker.com/download-processmaker-landing-page">
                <span>ProcessMaker 3.1</span> is Here! Download Now <span style="font-size:20px;font-weigth:normal;"></span>
            </a>
            <button id="box-pm31-button-blue" class="round-popup-button">&times;</button>
        </div>
    </div>
    <script>

function pmCreateCookie(name,value,days) {
    if (days) {
        var date = new Date();
        date.setTime(date.getTime()+(days*24*60*60*1000));
        var expires = "; expires="+date.toGMTString();
    }
    else var expires = "";
    document.cookie = name+"="+value+expires+"; path=/";
}

function pmReadCookie(name) {
    var nameEQ = name + "=";
    var ca = document.cookie.split(';');
    for(var i=0;i < ca.length;i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
    }
    return null;
}

function pmEraseCookie(name) {
    createCookie(name,"",-1);
}



     jQuery(document).ready(function( $ ) {
        $('#box-pm31-button-blue').click(function(e){
                e.stopPropagation();
                $('#box-pm31').slideUp('fast');
                pmCreateCookie('ppcookie','val',10);
            });
        });
        jQuery(window).load(function() {
            if(pmReadCookie('ppcookie') !== 'val'){
                //jQuery('#box-pm31').delay( 2000 ).slideDown('slow');
            }
        });
    </script>
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">

<script type="text/javascript">
  (function() {
    window._pa = window._pa || {};
    // _pa.orderId = "myOrderId"; // OPTIONAL: attach unique conversion identifier to conversions
    // _pa.revenue = "19.99"; // OPTIONAL: attach dynamic purchase values to conversions
    // _pa.productId = "myProductId"; // OPTIONAL: Include product ID for use with dynamic ads
    var pa = document.createElement('script'); pa.type = 'text/javascript'; pa.async = true;
    pa.src = ('https:' == document.location.protocol ? 'https:' : 'http:') + "//tag.marinsm.com/serve/586a7ec3a2ae6b728400003d.js";
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(pa, s);
  })();
</script>

</body>
</html>
