<!DOCTYPE html>
<head>
<meta charset="utf-8" />
<meta name="keywords" content="BPM, business process management, workflow, processmaker, business, BPM Windows, BPM Linux, wiki, BPM documentation, BPM FAQ, task documentation, BPM PHP, BPM Open Source, BPM Variables, BPM Installation, BPM Programming, BPM Elements, BPM Concepts, BPM Frequently Asked Questions, BPM 3.0, BPM News, Release notes, DynaForms, BPM Community, BPM Enterprise, BPM Mobile, BPM Responsive Web Design, User Manual, BPM Resources" />
<link rel="alternate" hreflang="en" href="../index.html" />
<link rel="shortcut icon" href="https://wiki.processmaker.com/themes/thecompany_responsive_theme/favicon.ico" type="image/vnd.microsoft.icon" />
<meta name="description" content="ProcessMaker is commercial open source workflow and business process management software." />
<meta name="viewport" content="width=device-width" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="Solr_Implementation_in_ProcessMaker.html" />
<link rel="shortlink" href="../node/615.html" />
<title>3.1 - Solr Implementation in ProcessMaker | Documentation@ProcessMaker</title>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/modules/system/system.base.css?s743n7");
@import url("https://wiki.processmaker.com/modules/system/system.menus.css?s743n7");
@import url("https://wiki.processmaker.com/modules/system/system.messages.css?s743n7");
@import url("https://wiki.processmaker.com/modules/system/system.theme.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/modules/aggregator/aggregator.css?s743n7");
@import url("https://wiki.processmaker.com/modules/comment/comment.css?s743n7");
@import url("https://wiki.processmaker.com/modules/field/theme/field.css?s743n7");
@import url("https://wiki.processmaker.com/modules/node/node.css?s743n7");
@import url("https://wiki.processmaker.com/modules/search/search.css?s743n7");
@import url("https://wiki.processmaker.com/modules/toc_filter/toc_filter.css?s743n7");
@import url("https://wiki.processmaker.com/modules/user/user.css?s743n7");
@import url("https://wiki.processmaker.com/modules/views/css/views.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/sites/all/modules/colorbox/styles/default/colorbox_style.css?s743n7");
@import url("https://wiki.processmaker.com/modules/ctools/css/ctools.css?s743n7");
@import url("https://wiki.processmaker.com/sites/all/modules/geshifilter/geshifilter.css?s743n7");
@import url("https://wiki.processmaker.com/modules/panels/css/panels.css?s743n7");
@import url("https://wiki.processmaker.com/modules/nice_menus/css/nice_menus.css?s743n7");
@import url("https://wiki.processmaker.com/modules/nice_menus/css/nice_menus_default.css?s743n7");
@import url("https://wiki.processmaker.com/modules/fivestar/css/fivestar.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/themes/thecompany_responsive_theme/css/style.css?s743n7");
@import url("https://wiki.processmaker.com/themes/thecompany_responsive_theme/css/media.css?s743n7");
</style>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/replace/jquery/1.9/jquery.min.js?v=1.9.1"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/jquery.once.js?v=1.2"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/drupal.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/jquery.bgiframe.js?v=2.1"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/jquery.hoverIntent.js?v=0.5"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/superfish.js?v=1.4.8"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/nice_menus.js?v=1.0"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/replace/ui/external/jquery.cookie.js?v=67fb34f6a866c40d0570"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/replace/misc/jquery.form.min.js?v=2.69"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/ajax.js?v=7.34"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/js/jquery_update.js?v=0.0.1"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/toc_filter/toc_filter.js?s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/colorbox/js/colorbox.js@s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/colorbox/styles/default/colorbox_style.js@s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/google_analytics/googleanalytics.js@s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create", "UA-3380652-1", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");
//--><!]]>
</script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/progress.js?v=7.34"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/fivestar/js/fivestar.ajax.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/fivestar/js/fivestar.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/jquery-1.10.2.min.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/jquery-ui.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/jquery-ui.min.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/custom.js?s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"thecompany_responsive_theme","theme_token":"E6tKDVHL1ZDHNboDZKouSg9FV3agFyH-iArp-6jdSeQ","jquery_version":"1.9","js":{"modules\/jquery_update\/replace\/jquery\/1.9\/jquery.min.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"modules\/nice_menus\/js\/jquery.bgiframe.js":1,"modules\/nice_menus\/js\/jquery.hoverIntent.js":1,"modules\/nice_menus\/js\/superfish.js":1,"modules\/nice_menus\/js\/nice_menus.js":1,"modules\/jquery_update\/replace\/ui\/external\/jquery.cookie.js":1,"modules\/jquery_update\/replace\/misc\/jquery.form.min.js":1,"misc\/ajax.js":1,"modules\/jquery_update\/js\/jquery_update.js":1,"modules\/toc_filter\/toc_filter.js":1,"sites\/all\/modules\/colorbox\/js\/colorbox.js":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.js":1,"sites\/all\/modules\/google_analytics\/googleanalytics.js":1,"0":1,"misc\/progress.js":1,"modules\/fivestar\/js\/fivestar.ajax.js":1,"modules\/fivestar\/js\/fivestar.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-1.10.2.min.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.min.js":1,"themes\/thecompany_responsive_theme\/js\/custom.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/aggregator\/aggregator.css":1,"modules\/comment\/comment.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/toc_filter\/toc_filter.css":1,"modules\/user\/user.css":1,"modules\/views\/css\/views.css":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.css":1,"modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/geshifilter\/geshifilter.css":1,"modules\/panels\/css\/panels.css":1,"modules\/nice_menus\/css\/nice_menus.css":1,"modules\/nice_menus\/css\/nice_menus_default.css":1,"modules\/fivestar\/css\/fivestar.css":1,"themes\/thecompany_responsive_theme\/css\/style.css":1,"themes\/thecompany_responsive_theme\/css\/media.css":1}},"colorbox":{"opacity":"0.85","current":"{current} of {total}","previous":"\u00ab Prev","next":"Next \u00bb","close":"Close","maxWidth":"98%","maxHeight":"98%","fixed":true,"mobiledetect":true,"mobiledevicewidth":"480px","specificPagesDefaultValue":"admin*\nimagebrowser*\nimg_assist*\nimce*\nnode\/add\/*\nnode\/*\/edit\nprint\/*\nprintpdf\/*\nsystem\/ajax\nsystem\/ajax\/*"},"toc_filter_smooth_scroll_duration":"","googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip","trackColorbox":1},"nice_menus_options":{"delay":"800","speed":"slow"},"ajax":{"edit-vote--2":{"callback":"fivestar_ajax_submit","event":"change","url":"\/system\/ajax","submit":{"_triggering_element_name":"vote"}}}});
//--><!]]>
</script>
<!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

<!-- Facebook Pixel Code -->
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','//connect.facebook.net/en_US/fbevents.js');
// Insert Your Facebook Pixel ID below.
fbq('init', '735235999992228');
fbq('track', 'PageView');
</script>
<!-- Insert Your Facebook Pixel ID below. -->
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=735235999992228&amp;ev=PageView&amp;noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->

</head>
<body class="html not-front not-logged-in no-sidebars page-node page-node- page-node-615 node-type-community-edition">
    
<div class="wrap">

<div id="header_wrapper">
  <div id="inner_header_wrapper">

    <header id="header" role="banner">
      
      <div class="header_inner_wrapper">
        <div class="header_left">
                      <div id="logo">
              <a href="../index.html" title="Home"><img src="../sites/default/files/full-logo.png"/></a>
            </div>
                    	  <div class="menu_wrapper">
            <nav id="main-menu"  role="navigation">
              <a class="nav-toggle" href="Solr_Implementation_in_ProcessMaker.html#">Navigation</a>
              <div class="menu-navigation-container">
                <ul class="menu"><li class="first leaf"><a href="../PM_Classic.html" title="Learn how to develop business solutions in ProcessMaker Platform while maintaining your existing ProcessMaker 3 solutions in PM Classic: the perfect bridge between your new and existing solutions with a state-of--the-art BPM platform.">PM Classic</a></li>
<li class="leaf"><a href="http://www.processmaker.com/tutorials" title="">Tutorials</a></li>
<li class="leaf"><a href="user_guide.html">User Guide</a></li>
<li class="leaf"><a href="developer_info.html">Developer Info</a></li>
<li class="leaf"><a href="../3.2/sys_administration.html">Sys Administration</a></li>
<li class="leaf"><a href="resources.html">Helpful Resources</a></li>
<li class="leaf"><a href="../Sitemap.html">Sitemap</a></li>
<li class="last leaf"><a href="https://processmaker.gitbook.io/processmaker/" title="Read ProcessMaker Platform Spring 2023 documentation to learn more about the next generation of BPM.">ProcessMaker Platform</a></li>
</ul>              </div>
              <div class="clear"></div>
            </nav>
          </div>
                  <!--  <h1 id="site-title">
            <a href="/" title="Home">Documentation@ProcessMaker</a>
            <div id="site-description"></div>
          </h1> -->
            
        </div>
      </div>
      <div class="header_right">
          <div class="region region-search">
  <div id="block-search-form" class="block block-search">

        <h2 >_</h2>
    
  <div class="content">
    <form action="Solr_Implementation_in_ProcessMaker.html" method="post" id="search-block-form" accept-charset="UTF-8"><div><div class="container-inline">
    <div class="form-item form-type-textfield form-item-search-block-form">
  <label class="element-invisible" for="edit-search-block-form--2">Search </label>
 <input title="Enter the terms you wish to search for." placeholder="Search" type="text" id="edit-search-block-form--2" name="search_block_form" value="" size="15" maxlength="128" class="form-text" />
</div>
<div class="form-actions form-wrapper" id="edit-actions"><input type="submit" id="edit-submit" name="op" value="Search" class="form-submit" /></div><input type="hidden" name="form_build_id" value="form-C-AxzNkRsJC1FObvpMwEdHIZQh5n0Crk2UzChAotQvQ" />
<input type="hidden" name="form_id" value="search_block_form" />
</div>
</div></form>  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
                  <h1 class="page-title">3.1 - Solr Implementation in ProcessMaker</h1>                <p class="page-title-suffix"></p>
                 <div style="margin-top: 5px;"></div>
      </div>
    </header>
    <div class="region-version">
      <span>Version: </span><ul><li><a href="../3.2/Solr_Implementation_in_ProcessMaker.html" class="">3.2</a></li><li><a  class="active-version">3.1</a></li><li><a  class="active-version">3.0</a></li><li><a href="../index.php/Solr_Implementation_in_ProcessMaker.html" class="">2.x</a></li></ul>    </div>
  </div>
</div>
<!-- <ul class="nice-menu nice-menu-down nice-menu-main-menu" id="nice-menu-0"><li class="menu-506 menu-path-node-1078 first odd "><a href="/PM_Classic" title="Learn how to develop business solutions in ProcessMaker Platform while maintaining your existing ProcessMaker 3 solutions in PM Classic: the perfect bridge between your new and existing solutions with a state-of--the-art BPM platform.">PM Classic</a></li>
<li class="menu-319 menu-path-processmakercom-tutorials  even "><a href="http://www.processmaker.com/tutorials" title="">Tutorials</a></li>
<li class="menu-320 menu-path-node-571  odd "><a href="/3.1/user_guide">User Guide</a></li>
<li class="menu-1138 menu-path-node-572  even "><a href="/3.1/developer_info">Developer Info</a></li>
<li class="menu-1197 menu-path-node-876  odd "><a href="/3.2/sys_administration">Sys Administration</a></li>
<li class="menu-1140 menu-path-node-236  even "><a href="/3.1/resources">Helpful Resources</a></li>
<li class="menu-1141 menu-path-node-554  odd "><a href="/Sitemap">Sitemap</a></li>
<li class="menu-1213 menu-path-sprocessmakergitbookio-processmaker-  even last"><a href="https://processmaker.gitbook.io/processmaker/" title="Read ProcessMaker Platform Spring 2023 documentation to learn more about the next generation of BPM.">ProcessMaker Platform</a></li>
</ul>
-->
  
  <div id="container">
    
    <div class="content-sidebar-wrap">

    <div id="content">

              <!-- <div id="breadcrumbs">
        <h2 class="element-invisible">You are here</h2><div class="breadcrumb"><a href="/">Home</a></div></div> -->
      
      <section id="post-content" role="main">
                                        <div class="region region-content">
  <div id="block-system-main" class="block block-system">

      
  <div class="content">
                          <span property="dc:title" content="3.1 - Solr Implementation in ProcessMaker" class="rdf-meta element-hidden"></span>  
      
    
  <div class="content node-community-edition">
    <div class="field field-name-field-how-useful field-type-fivestar field-label-above"><div class="field-label">Please rate how useful you found this document:&nbsp;</div><div class="field-items"><div class="field-item even"><form class="fivestar-widget" action="Solr_Implementation_in_ProcessMaker.html" method="post" id="fivestar-custom-widget" accept-charset="UTF-8"><div><div  class="clearfix fivestar-average-text fivestar-average-stars fivestar-form-item fivestar-default"><div class="form-item form-type-fivestar form-item-vote">
 <div class="form-item form-type-select form-item-vote">
 <select id="edit-vote--2" name="vote" class="form-select"><option value="-">Select rating</option><option value="20">Give 3.1 - Solr Implementation in ProcessMaker 1/5</option><option value="40" selected="selected">Give 3.1 - Solr Implementation in ProcessMaker 2/5</option><option value="60">Give 3.1 - Solr Implementation in ProcessMaker 3/5</option><option value="80">Give 3.1 - Solr Implementation in ProcessMaker 4/5</option><option value="100">Give 3.1 - Solr Implementation in ProcessMaker 5/5</option></select>
<div class="description"><div class="fivestar-summary fivestar-summary-average-count"><span class="average-rating">Average: <span >1.5</span></span> <span class="total-votes">(<span >2</span> votes)</span></div></div>
</div>

</div>
</div><input class="fivestar-submit form-submit" type="submit" id="edit-fivestar-submit" name="op" value="Rate" /><input type="hidden" name="form_build_id" value="form-NsPBNLAsTvC7cMLNQKZg6n_PLcMilwlllH9_K9G9YEA" />
<input type="hidden" name="form_id" value="fivestar_custom_widget" />
</div></form></div></div></div><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><div style="float: right; margin-left: 5px; background-color: #f9f9f9; border: 1px solid #aaaaaa; padding: 5px;"><center><strong>Contents:</strong> [<a href="Solr_Implementation_in_ProcessMaker.html#" onclick="var el = document.getElementById('toc');
        var txt = ('innerText' in el)? 'innerText' : 'textContent';
        if (el.style.display=='none') { 
           el.style.display = '';
           document.getElementById('hideLabel')[txt] = 'hide';
        }
        else {
	        el.style.display = 'none';
           document.getElementById('hideLabel')[txt] = 'show';
        }"><span id="hideLabel">hide</span></a>]</b></center><div id="toc" ><ol class="toc">
<li class="toc"><a href="Solr_Implementation_in_ProcessMaker.html#Overview">Overview</a></li>
<li class="toc"><a href="Solr_Implementation_in_ProcessMaker.html#Requirements">Requirements</a></li>
<li class="toc"><a href="Solr_Implementation_in_ProcessMaker.html#Solr_Architecture">Solr Architecture</a></li>
<li class="toc"><a href="Solr_Implementation_in_ProcessMaker.html#Tomcat_Installation">Tomcat Installation</a></li>
<li class="toc"><a href="Solr_Implementation_in_ProcessMaker.html#Solr_Installation">Solr Installation</a></li>
<li class="toc"><a href="Solr_Implementation_in_ProcessMaker.html#Solr_Activation_in_ProcessMaker">Solr Activation in ProcessMaker</a></li>
<li class="toc"><a href="Solr_Implementation_in_ProcessMaker.html#Indexation_and_reindexation">Indexation and reindexation</a></li>
<li class="toc"><a href="Solr_Implementation_in_ProcessMaker.html#Multiple_Solr_Instances">Multiple Solr Instances</a></li>
<li class="toc"><a href="Solr_Implementation_in_ProcessMaker.html#ProcessMaker_views_implemented_with_SOLR">ProcessMaker Search implemented with SOLR</a></li>
<li class="toc"><a href="Solr_Implementation_in_ProcessMaker.html#Structure_of_the_APP_SOLR_QUEUE_table">Structure of the <tt>APP_SOLR_QUEUE</tt> table</a></li>
<li class="toc"><a href="Solr_Implementation_in_ProcessMaker.html#Solr_Failover">Solr Failover</a></li>
<li class="toc"><a href="Solr_Implementation_in_ProcessMaker.html#Case_Lists_Validation">Case Lists Validation</a></li>
<li class="toc"><a href="Solr_Implementation_in_ProcessMaker.html#Not_supported">Not supported</a></li>
</ol>
</div></div>

<h2><span id="Overview">Overview</span></h2>
<p>The Solr server index the case records of ProcessMaker through synchronization with the ProcessMaker database. The purpose to use Solr is the additional functionality to search specific information and the faster response of the index to search queries.</p>

<h2><span id="Requirements">Requirements</span></h2>
<ul>
<li>ProcessMaker version 3.1.</li>
<li>Apache Tomcat version 7 or later.</li>
<li>Linux Server.</li>
</ul>

<h2><span id="Solr_Architecture">Solr Architecture</span></h2>
<p>The Solr implementation in PMOS objetive is to provide a indexation server, that allows to run indexed searchs on stored data in cases (APP_DATA). Aditionally, this server can be used to see the cases list in ProcessMaker (Lists: Inbox, Draft, Participated, Unassigned and advanced search) in order to improve this lists performance.</p>

<p><img alt="" src="../sites/default/files/SolrArchitecture.png"></p>

<p>Solr’s logic is the following:</p>
<ol>
<li>The Browser client requires ProcessMaker server to show the cases lists in Inbox.</li>
<li>The ProcessMaker server queries Solr for the list that needs to be show, depending on pagination conditions, text to search, current user filter, and other filter selected by the user to search the cases information on APP_DATA.</li>
<li>The Solr server returns the cases ID’s to be shown according the (list APP_UID).</li>
<li>The ProcessMaker server completes the cases information querying the Data Base. For example, it completes the process name, the task name, the initial date, etc. etc.</li>
<li>Finally, the ProcessMaker server return the filtered list to the Browser user.</li>
</ol>

<h2><span id="Tomcat_Installation">Tomcat Installation</span></h2>
<p>Apache Solr is written in Java, it needs a servlet container like <a href="https://tomcat.apache.org/">Apache Tomcat</a>. To install Apache Tomcat, first download it from <a href="https://tomcat.apache.org/download-70.cgi">Apache Tomcat</a> website or use the following wget command to download it directly. The current stable version of Tomcat is <b>7.0.72</b>.</p>

<codeblock>wget http://www.eu.apache.org/dist/tomcat/tomcat-7/v7.0.<font color="blue">72</font>/bin/apache-tomcat-7.0.<font color="blue">72</font>.tar.gz</codeblock>

<p>It's also needed to install <a href="http://openjdk.java.net/install/">Java JDK</a> 1.6 or superior.</p>

<codeblock>yum install java-1.8.0-openjdk</codeblock>

<p><img src="../sites/default/files/3.1EnterSearchInstallJDK.png"></p>

<p>After install openJDK, uncompress the tomcat <code>.tar.gz</code> with the following command:</p>

<codeblock>tar -xzvf apache-tomcat-7.0.<font color="blue">72</font>.tar.gz</codeblock>

<p>Move the uncompressed Tomcat folder to: <strong><tt>/usr/share/tomcat7</tt></strong></p>
<codeblock>mv /apache-tomcat-7.0.<font color="blue">72</font> /usr/share/tomcat7</codeblock>

<p>Create a file named <tt><b>setenv.sh</b></tt> inside <strong><tt>/usr/share/tomcat7/bin</tt></strong> to define the environment variables.</p>

<codeblock>nano setenv.sh</codeblock>

<p>Inside the <code><tt><b>setenv.sh</b></tt></code> file, place the following content (Replace if necessary with the correct paths to <tt>JAVA_HOME</tt> and <tt>JRE_HOME</tt>):</p>

<codeblock>JAVA_HOME="/usr/lib/<font color="blue">jvm</font>" 
JRE_HOME="/usr/lib/<font color="blue">jvm</font>/<font color="blue">jre</font>"

#set initial memory requirements
CATALINA_OPTS="-Xms1024m -Xmx2560m"
</codeblock>

<p>Save and close the file.</p>

<p>Start the Tomcat service by running the following command:</p>

<codeblock>/usr/share/tomcat7/bin/catalina.sh start</codeblock>

<p>Create a new file named <code><tt><b>solr.xml</b></tt></code> in the following location: <strong><tt>/usr/share/tomcat7/conf/Catalina/localhost/</tt></strong></p>

<codeblock>nano /usr/share/tomcat7/conf/Catalina/localhost/solr.xml
</codeblock>

<p>Then, paste the following content:</p>

<codeblock>&lt;Context docBase="/opt/solr/solr.war" debug="0" crossContext="true" &gt;
    &lt;Environment name="solr/home" type="java.lang.String" value="/opt/solr" override="true" /&gt;
&lt;/Context&gt;
</codeblock>

<p>Finally, save and close the file.</p>

<h2><span id="Solr_Installation">Solr Installation</span></h2>

<p>Download the <code>solr.tar.gz</code> file directly from <a href="../sites/default/files/solr.tar.gz" download>here</a>. This file is already configured to facilitate the integration of Solr with ProcessMaker.</p>

<p>Extract the file and move the content to the <strong><tt>/opt</tt></strong> folder.</p>
<codeblock>tar -xvzf solr.tar.gz
mv solr /opt/
</codeblock>

<p>Then, give the folder the following permissions:</p>
<codeblock>chmod -R 777 /opt/solr/</codeblock>

<p>This Solr installation comes with the necessary files to achieve a successfull integration between Solr and ProcessMaker.</p>

<p><img alt="" src="../sites/default/files/3.1EnterSearchSOLRTarContent.png"></p>

<p>Between them, an instance named <b>workflow</b> already configured to be integrated with any ProcessMaker workspace and a template named <b>workflow.solr.tar.gz</b> to create <a href="Solr_Implementation_in_ProcessMaker.html#Multiple_Solr_Instances">new instances</a> easily. Note that each Solr instance refers only to <b>one</b> ProcessMaker Workspace and a server can have more than one Solr instance running.</p>

<p>Finally, restart the Tomcat service.<br>
<codeblock>/usr/share/tomcat7/bin/shutdown.sh
/usr/share/tomcat7/bin/startup.sh</codeblock></p>

<p>The Solr server is ready now to work with ProcessMaker.<br>
To access the Solr interface, open your favorite browser and go to: <b><tt>http://<font color="blue">ip-server</font>:8080/solr/#/</tt></b></p>

<p><img alt="" src="../sites/default/files/3.1EnterSearchSOLRInstalled.png"></p>

<h2><span id="Solr_Activation_in_ProcessMaker">Solr Activation in ProcessMaker</span></h2>

<p>Once the Solr installation is ready, it is necessary to configure ProcessMaker to use the Solr server. Since every workspace has it's own Solr instance, the ProcessMaker configuration must be done for every workspace in its own <b>env.ini</b> file located at: <tt><b>&lt;INSTALL-DIRECTORY&gt;/shared/sites/<font color="blue">workspace-name</font>/env.ini</b></tt></p>

<p>Add the following lines inside the <code><tt><b>env.ini</b></tt></code> file:</p>

<codeblock>solr_enabled=<b>1</b>
solr_host=<b>http://<font color="blue">ip_tomcat:port_tomcat</font>/solr/</b>
solr_instance=<b><font color="blue">instance_name</font></b>
</codeblock>

<p>Save and close the file.</p>

<h2><span id="Indexation_and_reindexation">Indexation and reindexation</span></h2>
<p>It is necessary to synchronize the Solr server with the ProcessMaker database in order to return updated information. Therefore, it is important to run the following commands to run a synchronization called indexation.</p>

<p>Go to: <tt>/opt/processmaker/workflow/engine/bin/</tt>:</p>
<codeblock>cd /opt/processmaker/workflow/engine/bin/</codeblock>

<p>Run the following command:</p>
<codeblock>php reindex_solr.php <font color="blue">Workspace-name</font> reindexall</codeblock>

<p>The <code>reindex_solr.php</code> script has the following possible actions:</p>   
<ul>
<li><code><b>reindexall:</b></code> Reindex all the database. This command has some additional options:

<ul>
    <li><code><b>-skip {record_number}:</b></code> Used to skip a specific number of records. For example, to skip the first 10000 records:
        <codeblock>php.exe -f reindex_solr.php <font color="blue">ProcessMaker-Workspace</font> reindexall -skip <font color="blue">10000</font> </codeblock> 
    </li>

    <li> <code><b>-reindextrunksize {trunk_size}:</b></code> Specify the number of records sent to index each time. If not included, the default value is 1000.
      <codeblock>php.exe -f reindex_solr.php <font color="blue">ProcessMaker-Workspace</font> reindexall -reindextrunksize <font color="blue">100</font> </codeblock> 
    </li>
  </ul>
</li>
<li><code><b>reindexmissing:</b></code> Reindex only the missing records stored in database. If for some reason the connection with the Solr Server is missing, the records created are stored in the <tt><b>wf_&lt;workspace&gt.APP_SOLR_QUEUE</b></tt> table. By executing this command, all missing records will be indexed.

<codeblock>php.exe -f reindex_solr.php <font color="blue">ProcessMaker-Workspace</font> reindexmissing</codeblock>

</li> 
<li><code><b>optimizeindex:</b></code> Optimize the changes in the search index.
<codeblock>php.exe -f reindex_solr.php <font color="blue">ProcessMaker-Workspace</font> optimizeindex</codeblock>
</li> 

<li><code><b>reindexone -appuid {APP_UID}:</b></code> Re-index a single case.</li>

<codeblock>php reindex_solr.php <font color="blue">ProcessMaker-Workspace</font> reindexone -appuid <font color="blue">APP_UID</font></codeblock>
</li>

</ul>
</p>

<p>All case changes will be automatically synchronized by the Solr server once ProcessMaker is configured and the first time synchronization is done.</p>

<p>The following events re-index an application:</p>

<ul>
<li>The first time that a database is indexed, all the application records are indexed.</li>
<li>A change in the application table.</li>
<li>A new delegation is created or modified, when a user delegates a case.</li>
<li>A user creates a new application.</li>
<li>A user finishes a case.</li>
<li>A user reads a case.</li>
<li>A user pauses a case.</li>
</ul>

<h2><span id="Multiple_Solr_Instances">Multiple Solr Instances</span></h2>

<p>Remember that each Solr instance refers to only one ProcessMaker workspace. Therefore, to add a new workspace to the Solr server read the following instructions:</p>

<p>Create a new folder inside <b><tt>/opt/solr</tt></b> with the name of the new instance. Remember that Solr instances can be named different from the ProcessMaker workspace.</p></p>

<codeblock>mkdir <font color="blue">new-folder-name</font></codeblock>

<p>Decompress the <b>workflow.solar.tar.gz</b> file located at <tt>/opt/solr</tt> inside the folder created.</p>

<codeblock>tar -xvzf workflow.solr.tar.gz -C /opt/solr/<font color="blue">new-folder-name</font>
</codeblock>

<p>A new folder named <b>workflow</b> will be created inside <tt>/opt/solr/<font color="blue">new-folder-name</font></tt>. Rename this <b>workflow</b> folder as desired. For example: <b>new-instance</b> and move it to <tt>/opt/solr/</tt></p>

<codeblock>mv workflow /opt/solr/<font color="blue">new-instance</font></codeblock>

<p>Make sure that the <font color="blue">new-instance</font> folder is placed inside the Solr root folder as shown in the image below.</p>

<p><img src="../sites/default/files/3.1EnterSearchSOLRNewInstanceCreated.png"></p>

<p>Now, it is necessary to declare the new instance in the Solr Core file: <b>solr.xml</b>. This file has the following content:</p>

<p><img src="../sites/default/files/3.1EnterSearchSOLRXML.png"></p>

<p>Add a new line inside the cores tag with the name of the new instance and the instance directory.</p>

<codeblock>&lt;cores adminPath="/admin/cores"&gt;
    &lt;core name="workflow" instanceDir="workflow" /&gt;
    <b>&lt;core name="<font color="blue">new-instance</font>" instanceDir="<font color="blue">new-instance</font>" /&gt;</b>
&lt;/cores&gt;
</codeblock>

<p>Finally, restart the tomcat services.</p>
<codeblock>/usr/share/tomcat7/bin/shutdown.sh
/usr/share/tomcat7/bin/startup.sh</codeblock>

<p>Do not forget to <a href="Solr_Implementation_in_ProcessMaker.html#Indexation_and_reindexation">index</a> the new instance in the ProcessMaker installation.</p>

<p>Repeat these instructions for each workspace. Remember that every instance must have it’s own folder and this folder must be declared in this xml file.</p>


<h2><span id="ProcessMaker_views_implemented_with_SOLR">ProcessMaker Search implemented with SOLR</span></h2>
<p>The new search functionality is available in all the views that include a search field.</p>

<p><img alt="" src="../sites/default/files/SOLR_Search_Functionality.png"></p>

<ul>
<li>Inbox</li>
<li>Draft</li>
<li>Participated</li>
<li>Unassigned</li>
<li>Advanced Search</li>
</ul>

<p>The search functionality can search in the fields of Process Title and Application Status. To search in those fields the user only has to write the text in the search field.</p>

<p><img alt="" src="../sites/default/files/3.1EnterSearchSearchImproveStatus.png"></p>

<p>Additionally the user can search in all the variables of the application data defined in the process and filled in the application. The following syntax must be used to search in a specific application variable.</p>

<codeblock>variable-name:search-text</codeblock>

<p>Where:<br>
<ul><li><b>variable-name:</b> The name of the variable defined inside the process.</li>
<li><b>search-text:</b> The text to be search in the variable.</li></ul>
</p>

<p>For example if a variable "lastNameCustomer" is defined, then the search syntax to search for all the applications where the customer name is "Travis" will be:</p>
<codeblock>lastNameCustomerName:Travis</codeblock>

<p><img alt="" src="../sites/default/files/3.1EnterSearchSearchImproveVariable.png"></p>

<ul>
<li><b>Wild-cards</b>: Use <code>*</code> as wild-card at the begin or end of word. Only lowercase, no accents and no special characters are admitted with wild-cards.


</li>
<li><b>Multiple conditions</b>: Separate multiple conditions by space. For example: <code>Materials year:20*</code>, means that the user is searching for the word "Materials" and the "year" variable that begins with 20.</li>
<li><b>Dates:</b>
  <ul>
    <li><b>Format:</b> <code>{variable}:[yyyy-mm-dd TO yyyy-mm-dd]</code>. For example:<br> 
    <code>RegistryDate:[2016-10-15 TO 2016-10-30]</code>
    </li>
    <li><b>Wildcard *</b>: For example: 
    <code>RegistryDate:[* TO 2011-04-30]</code> </li>
</ul>
</li>
</ul>


<h2><span id="Structure_of_the_APP_SOLR_QUEUE_table">Structure of the <tt>APP_SOLR_QUEUE</tt> table</span></h2>

<p>The <code>APP_SOLR_QUEUE</code> table was created as a warehouse to store all the cases that need to be re-indexed.</p>

<p>
<table>
<tbody>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>

<tr>
<td><span style="text-decoration: underline;">APP_UID</span></td>
<td>Varchar(32)</td>
<td>The application identifier UID.</td>
</tr>

<tr>
<td>APP_UPDATED</td>
<td>tinyint(1)</td>
<td>0: false not require update<br><p>1: true update required for application<br>2: deleted application</p></td>
</tr>

<tr>
<td>APP_CHANGE_DATE</td>
<td>datetime</td>
<td> </td>
</tr>

<tr>
<td>APP_CHANGE_TRACE</td>
<td>varchar(500)</td>
<td> </td>
</tr>
</tbody>
</table>
</p>

<p>If necessary, the following query can restablish the table structure.</p>

<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">DROP</span> <span style="color: #993333; font-weight: bold;">TABLE</span> APP_SOLR_QUEUE;<br />
<span style="color: #993333; font-weight: bold;">CREATE</span> <span style="color: #993333; font-weight: bold;">TABLE</span> APP_SOLR_QUEUE <span style="color: #66cc66;">&#40;</span>APP_UID <span style="color: #993333; font-weight: bold;">VARCHAR</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">32</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">,</span> APP_UPDATED TINYINT<span style="color: #66cc66;">,</span> APP_CHANGE_DATE DATETIME<span style="color: #66cc66;">,</span> APP_CHANGE_TRACE <span style="color: #993333; font-weight: bold;">VARCHAR</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">500</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span>;</div></div>

<h2><span id="Solr_Failover">Solr Failover</span></h2>
<p>To disable the use of Solr, it is necessary to delete the whole Solr configuration. The flag "solr_enabled" in the <b>env.ini</b> controls whether the server will use Solr for listings of cases. If it is off the list of cases consult the database, however the Solr server synchronization remains active.</p>

<p>The following table details the possible states for the Solr implementation and recovering the same in each case.</p>

<table>
<tbody>
<tr>
<th>Flag Solr_Enabled</th>
<th>Solr Server</th>
<th>Status</th>
<th>Recovery</th>
</tr>

<tr>
<td>solr_enabled=1</td>
<td>ON</td>
<td>Solr server synchronized and case lists are retrieved from solr server.</td>
<td>It is not necessary, the server is synchronized and responding to requests.</td>
</tr>

<tr>
<td>solr_enabled=1</td>
<td>OFF</td>
<td>As the Solr server is off, is not possible to pair, and lists of cases are consulted to the database automatically.<br>Cases to be synchronized are recorded with the Solr server once it becomes available</td>
<td>You must verify network communication with Solr server.<br>Once the server is available again, the same is automatically synchronized with the database server.<br>Synchronization is activated with the application of case listings. No need to do anything extra.</td>
</tr>

<tr>
<td>solr_enabled=0</td>
<td>ON</td>
<td>Solr Server synchronized, but the lists of cases are returned from the database.</td>
<td>No need for correction, when required to return the list of cases from the Solr server, should only be activated solr_enabled = 1</td>
</tr>

<tr>
<td>solr_enabled=0</td>
<td>OFF</td>
<td>Solr Server is out of sync, and case lists queries are being obtained from the database automatically.<br>The modified cases are occurring, to be synchronized when the Solr server is available.</td>
<td>You must verify network communication with Solr server.<br>Once the server is available again, you should run the script to re-indexing of pending cases.<br>php reindex_solr.php [workspace name] reindexmissing<br>After running the script, the Solr server is synchronized with the database.</td>
</tr>
</tbody>
</table>

<h2><span id="Case_Lists_Validation">Case Lists Validation</span></h2>
<p>A script was created to compare the cases indexed in the Solr server versus the cases in the ProcessMaker database. In other words, this script compares the cases list in every folder (Inbox, Draft, Participated, Unassigned). The <b>verify_solr.php</b> script is located at: <b><tt>&lt;INSTALL-DIRECTORY&gt;/workflow/engine/bin/</tt></b></p>

<p>To run this script, go to:</p>

<codeblock>cd /opt/processmaker/workflow/engine/bin/</codeblock>

<p>Then, run the following command:</p>
<codeblock>php verify_solr.php <font color="blue">workspace_name</font> -usruid <font color="blue">USR_UID</font>
</codeblock>

<p>Where:<br>
<ul>
<li><code><b>workspace-name</b></code><b>:</b> The workspace to verify.</li>
<li> <b>-usruid <code>USR_UID</code></b><b>:</b> The UID of the user whose cases will be verified.</li>
</ul>
</p>

<p>For example, to verify the cases list for the administrator user (USR_UID = 00000000000000000000000000000001) in the workspace "workflow".<br>
<codeblock>php.exe -f verify_solr.php <font color="blue">workflow</font> -usruid <font color="blue">00000000000000000000000000000001</font></codeblock>
</p>

<p>The outcome will be:</p>
<p><img alt="" src="../sites/default/files/3.1EnterSearchSOLRVerify_SOLR.png"></p>

<h2><span id="Not_supported">Not supported</span></h2>
<p>The search functionality is not included to:</p>
<ul>
<li>Search in grids.</li>
<li>Search in PM tables.</li>
</ul></div></div></div>  </div>

      <footer>
          </footer>
  
    </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
      </section>
    </div>
  
      
    </div>

      
</div>

 <!---add diego--->
  <div id="download-app-section" class="download-app mobile-none">
			<div class="row">
				<div class="col-md-12">
					<div class="text_app">Download our app</div>
							<a href="https://itunes.apple.com/us/app/processmaker/id992576284?ls=1&mt=8" target="_blank">
								<img src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/images/appstore.png">
							<a href="https://play.google.com/store/apps/details?id=com.colosa.processmaker" target="_blank">
								<img src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/images/playstore.png">				
				</div>
			</div>
  </div>
  <!---end diego--->
<!----add diego----->    
		<div class="logo_processmaker"><a href="http://www.processmaker.com">
		<img src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/images/logo_processmaker.png"></div>
<!----end diego----->
<div id="footer">
  <div id="footer_wrapper">
      </div>

  <div class="social-media-wrapper">
         <div id="social-media-icons">
       <ul>
       	<div class="text_contact">Contact us</div>
				<div class="text_number">+1-617-340-3377</div>
        <!--<li><a class="rss" href="/rss.xml">rss</a></li> <!--edit diego-->
        <li><a class="facebook" href="http://facebook.com/processmaker/" target="_blank" rel="me">facebook</a></li>
        <li><a class="twitter" href="https://twitter.com/processmaker" target="_blank" rel="me">twitter</a></li>
        <li><a class="gplus" href="https://www.google.com/+ProcessMakerOpenSource" target="_blank" rel="me">Gplus</a></li>
        <li><a class="linkedin" href="https://www.linkedin.com/groups?mostRecent=&gid=3970335&trk=my_groups-tile-flipgrp" target="_blank" rel="me">Linked in</a></li>
        <!--<li><a class="dribbble" href="http://dribbble.com" target="_blank" rel="me">Dribbble</a></li>
        <li><a class="vimeo" href="http://vimeo.com" target="_blank" rel="me">Vimeo</a></li>-->
        <li><a class="youtube" href="https://www.youtube.com/user/processmaker" target="_blank" rel="me">Youtube</a></li>
       </ul>
      </div>
      </div>
  
  <div class="footer_credit">
    <div class="footer_inner_credit">
           <div id="foot"><div class="region region-footer">
  <div id="block-block-2" class="block block-block">

      
  <div class="content">
    <p><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF">Automate your Workflow with Business Process Management<br>Software licensed under the <a 1px="" class="external text" href="http://www.gnu.org/licenses/agpl.html" rel="nofollow" style="padding-right: 13px; color:white;">GNU Affero General Public License version 3</a><br>Contact us:&nbsp;<a class="external free" href="mailto:community@processmaker.com" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">community@processmaker.com</a><br><a class="external free" href="https://www.processmaker.com/privacy-statement" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">Privacy Statement</a></font><br><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF">© Copyright 2000-2024 ProcessMaker Inc. All rights reserved.</font></p>
  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
</div>
         
   <!-- <div id="copyright">
      <p class="copyright">Copyright &copy; 2024, Documentation@ProcessMaker </p>
      <!--<p class="credits"> Developed by  <a href="http://www.zymphonies.com">Zymphonies</a></p>
      <div class="clear"></div>
    </div>-->
  </div>
  
  </div>
</div>

</div>

<script type="text/javascript">
  /* <![CDATA[ */
  document.write (
    '<img src="https://marketing.processmaker.com/acton/bn/3812/visitor.gif?ts='+ new Date().getTime()+ '&ref='+escape(document.referrer) + '">'
  );
  /* ]]> */
</script>
  
</div>
    <style>
    .center-div{
        width: 100%;        
        margin: 0 auto;
        z-index:10000;
        position:fixed;
        bottom: 0px;
        cursor:pointer;
    }
    .round-popup{
        margin:0 auto;
        font-family: 'Montserrat', sans-serif;
        font-size: 15px;
        font-weight: lighter;
        width: 412px;
        height: 50px;
        padding-top: 7px;
        text-align: center;
        position:relative;
    }
    .round-popup-button{
        position:absolute;
        top: 11px;
        right: 15px;
        background: transparent;
        border:none;
        font-size:15px;
        font-weight:normal;
        line-height:20px;
        width:20px;
        height:20px;
        padding:0;
    }
    .round-background-blue{
        background: url('http://www.processmaker.com/uploads/blue.png')no-repeat;
        color:white;
        
    }
    #box-pm31-button-blue{
        color: rgba(255, 255, 255, 0.5);
    }
    
    #box-pm31-button-blue:active,#box-pm31-button-blue:focus{
        border:none;
        outline:none;
    }
    .round-background-blue a{
        color: white!important;
        text-decoration: none;
        font-size: 15px;
        line-height:45px;
        font-family:Montserrat, sans-serif;
    }
    .round-background-blue span{
        font-weight: bold;
    }
    /*WHITE background*/
    .round-background-white{
        background: url('http://www.processmaker.com/uploads/white.png')no-repeat;
        background-position-x: -9px;        
        color: #3397E1;
    }
    .round-background-white a:hover{
        color: #3397E1!important;
        text-decoration: none;
        font-size: 15px;
    }
    #box-pm31-button-white{
        color: rgba(51, 151, 225, 0.7);
    }
</style>
    <div id="box-pm31" class="center-div" style="display:none;">
        <div class="round-popup round-background-blue">
            <a onclick="ga('send', 'event', 'WikiBlueBanner','click','PM31Release');" href="http://www.processmaker.com/download-processmaker-landing-page">
                <span>ProcessMaker 3.1</span> is Here! Download Now <span style="font-size:20px;font-weigth:normal;">»</span>
            </a>
            <button id="box-pm31-button-blue" class="round-popup-button">&times;</button>
        </div>
    </div>
    <script>

function pmCreateCookie(name,value,days) {
    if (days) {
        var date = new Date();
        date.setTime(date.getTime()+(days*24*60*60*1000));
        var expires = "; expires="+date.toGMTString();
    }
    else var expires = "";
    document.cookie = name+"="+value+expires+"; path=/";
}

function pmReadCookie(name) {
    var nameEQ = name + "=";
    var ca = document.cookie.split(';');
    for(var i=0;i < ca.length;i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
    }
    return null;
}

function pmEraseCookie(name) {
    createCookie(name,"",-1);
}



     jQuery(document).ready(function( $ ) {
        $('#box-pm31-button-blue').click(function(e){
                e.stopPropagation();
                $('#box-pm31').slideUp('fast');
                pmCreateCookie('ppcookie','val',10);
            });
        });
        jQuery(window).load(function() {
            if(pmReadCookie('ppcookie') !== 'val'){
                //jQuery('#box-pm31').delay( 2000 ).slideDown('slow');
            }
        });
    </script>
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">

<script type="text/javascript">
  (function() {
    window._pa = window._pa || {};
    // _pa.orderId = "myOrderId"; // OPTIONAL: attach unique conversion identifier to conversions
    // _pa.revenue = "19.99"; // OPTIONAL: attach dynamic purchase values to conversions
    // _pa.productId = "myProductId"; // OPTIONAL: Include product ID for use with dynamic ads
    var pa = document.createElement('script'); pa.type = 'text/javascript'; pa.async = true;
    pa.src = ('https:' == document.location.protocol ? 'https:' : 'http:') + "//tag.marinsm.com/serve/586a7ec3a2ae6b728400003d.js";
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(pa, s);
  })();
</script>

</body>
</html>
