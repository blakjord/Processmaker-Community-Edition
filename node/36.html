<!DOCTYPE html>
<head>
<meta charset="utf-8" />
<meta name="keywords" content="BPM, business process management, workflow, processmaker, business, BPM Windows, BPM Linux, wiki, BPM documentation, BPM FAQ, task documentation, BPM PHP, BPM Open Source, BPM Variables, BPM Installation, BPM Programming, BPM Elements, BPM Concepts, BPM Frequently Asked Questions, BPM 3.0, BPM News, Release notes, DynaForms, BPM Community, BPM Enterprise, BPM Mobile, BPM Responsive Web Design, User Manual, BPM Resources" />
<link rel="alternate" hreflang="en" href="../index.html" />
<link rel="shortcut icon" href="https://wiki.processmaker.com/themes/thecompany_responsive_theme/favicon.ico" type="image/vnd.microsoft.icon" />
<meta name="description" content="ProcessMaker is commercial open source workflow and business process management software." />
<meta name="viewport" content="width=device-width" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="../3.0/Input_Documents.html" />
<link rel="shortlink" href="36.html" />
<title>3.0 - 3.1 - Input Documents | Documentation@ProcessMaker</title>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/modules/system/system.base.css?s743n7");
@import url("https://wiki.processmaker.com/modules/system/system.menus.css?s743n7");
@import url("https://wiki.processmaker.com/modules/system/system.messages.css?s743n7");
@import url("https://wiki.processmaker.com/modules/system/system.theme.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/modules/aggregator/aggregator.css?s743n7");
@import url("https://wiki.processmaker.com/modules/comment/comment.css?s743n7");
@import url("https://wiki.processmaker.com/modules/field/theme/field.css?s743n7");
@import url("https://wiki.processmaker.com/modules/node/node.css?s743n7");
@import url("https://wiki.processmaker.com/modules/search/search.css?s743n7");
@import url("https://wiki.processmaker.com/modules/toc_filter/toc_filter.css?s743n7");
@import url("https://wiki.processmaker.com/modules/user/user.css?s743n7");
@import url("https://wiki.processmaker.com/modules/views/css/views.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/sites/all/modules/colorbox/styles/default/colorbox_style.css?s743n7");
@import url("https://wiki.processmaker.com/modules/ctools/css/ctools.css?s743n7");
@import url("https://wiki.processmaker.com/sites/all/modules/geshifilter/geshifilter.css?s743n7");
@import url("https://wiki.processmaker.com/modules/panels/css/panels.css?s743n7");
@import url("https://wiki.processmaker.com/modules/nice_menus/css/nice_menus.css?s743n7");
@import url("https://wiki.processmaker.com/modules/nice_menus/css/nice_menus_default.css?s743n7");
@import url("https://wiki.processmaker.com/modules/fivestar/css/fivestar.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("https://wiki.processmaker.com/themes/thecompany_responsive_theme/css/style.css?s743n7");
@import url("https://wiki.processmaker.com/themes/thecompany_responsive_theme/css/media.css?s743n7");
</style>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/replace/jquery/1.9/jquery.min.js?v=1.9.1"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/jquery.once.js?v=1.2"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/drupal.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/jquery.bgiframe.js?v=2.1"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/jquery.hoverIntent.js?v=0.5"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/superfish.js?v=1.4.8"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/nice_menus/js/nice_menus.js?v=1.0"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/replace/ui/external/jquery.cookie.js?v=67fb34f6a866c40d0570"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/replace/misc/jquery.form.min.js?v=2.69"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/ajax.js?v=7.34"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/jquery_update/js/jquery_update.js?v=0.0.1"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/toc_filter/toc_filter.js?s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/colorbox/js/colorbox.js@s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/colorbox/styles/default/colorbox_style.js@s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/google_analytics/googleanalytics.js@s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create", "UA-3380652-1", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");
//--><!]]>
</script>
<script type="text/javascript" src="https://wiki.processmaker.com/misc/progress.js?v=7.34"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/fivestar/js/fivestar.ajax.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/modules/fivestar/js/fivestar.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/jquery-1.10.2.min.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/jquery-ui.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/jquery-ui.min.js?s743n7"></script>
<script type="text/javascript" src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/js/custom.js?s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"thecompany_responsive_theme","theme_token":"4hgyghRbP5MbMKleeyU1Oephv9tvFRCpaKt-NcIIRuU","jquery_version":"1.9","js":{"modules\/jquery_update\/replace\/jquery\/1.9\/jquery.min.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"modules\/nice_menus\/js\/jquery.bgiframe.js":1,"modules\/nice_menus\/js\/jquery.hoverIntent.js":1,"modules\/nice_menus\/js\/superfish.js":1,"modules\/nice_menus\/js\/nice_menus.js":1,"modules\/jquery_update\/replace\/ui\/external\/jquery.cookie.js":1,"modules\/jquery_update\/replace\/misc\/jquery.form.min.js":1,"misc\/ajax.js":1,"modules\/jquery_update\/js\/jquery_update.js":1,"modules\/toc_filter\/toc_filter.js":1,"sites\/all\/modules\/colorbox\/js\/colorbox.js":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.js":1,"sites\/all\/modules\/google_analytics\/googleanalytics.js":1,"0":1,"misc\/progress.js":1,"modules\/fivestar\/js\/fivestar.ajax.js":1,"modules\/fivestar\/js\/fivestar.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-1.10.2.min.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.min.js":1,"themes\/thecompany_responsive_theme\/js\/custom.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/aggregator\/aggregator.css":1,"modules\/comment\/comment.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/toc_filter\/toc_filter.css":1,"modules\/user\/user.css":1,"modules\/views\/css\/views.css":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.css":1,"modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/geshifilter\/geshifilter.css":1,"modules\/panels\/css\/panels.css":1,"modules\/nice_menus\/css\/nice_menus.css":1,"modules\/nice_menus\/css\/nice_menus_default.css":1,"modules\/fivestar\/css\/fivestar.css":1,"themes\/thecompany_responsive_theme\/css\/style.css":1,"themes\/thecompany_responsive_theme\/css\/media.css":1}},"colorbox":{"opacity":"0.85","current":"{current} of {total}","previous":"\u00ab Prev","next":"Next \u00bb","close":"Close","maxWidth":"98%","maxHeight":"98%","fixed":true,"mobiledetect":true,"mobiledevicewidth":"480px","specificPagesDefaultValue":"admin*\nimagebrowser*\nimg_assist*\nimce*\nnode\/add\/*\nnode\/*\/edit\nprint\/*\nprintpdf\/*\nsystem\/ajax\nsystem\/ajax\/*"},"toc_filter_smooth_scroll_duration":"","googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip","trackColorbox":1},"nice_menus_options":{"delay":"800","speed":"slow"},"ajax":{"edit-vote--2":{"callback":"fivestar_ajax_submit","event":"change","url":"\/system\/ajax","submit":{"_triggering_element_name":"vote"}}}});
//--><!]]>
</script>
<!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

<!-- Facebook Pixel Code -->
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','//connect.facebook.net/en_US/fbevents.js');
// Insert Your Facebook Pixel ID below.
fbq('init', '735235999992228');
fbq('track', 'PageView');
</script>
<!-- Insert Your Facebook Pixel ID below. -->
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=735235999992228&amp;ev=PageView&amp;noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->

</head>
<body class="html not-front not-logged-in no-sidebars page-node page-node- page-node-36 node-type-community-edition">
    
<div class="wrap">

<div id="header_wrapper">
  <div id="inner_header_wrapper">

    <header id="header" role="banner">
      
      <div class="header_inner_wrapper">
        <div class="header_left">
                      <div id="logo">
              <a href="../index.html" title="Home"><img src="../sites/default/files/full-logo.png"/></a>
            </div>
                    	  <div class="menu_wrapper">
            <nav id="main-menu"  role="navigation">
              <a class="nav-toggle" href="36.html#">Navigation</a>
              <div class="menu-navigation-container">
                <ul class="menu"><li class="first leaf"><a href="../PM_Classic.html" title="Learn how to develop business solutions in ProcessMaker Platform while maintaining your existing ProcessMaker 3 solutions in PM Classic: the perfect bridge between your new and existing solutions with a state-of--the-art BPM platform.">PM Classic</a></li>
<li class="leaf"><a href="http://www.processmaker.com/tutorials" title="">Tutorials</a></li>
<li class="leaf"><a href="../3.1/user_guide.html">User Guide</a></li>
<li class="leaf"><a href="../3.1/developer_info.html">Developer Info</a></li>
<li class="leaf"><a href="../3.2/sys_administration.html">Sys Administration</a></li>
<li class="leaf"><a href="../3.1/resources.html">Helpful Resources</a></li>
<li class="leaf"><a href="../Sitemap.html">Sitemap</a></li>
<li class="last leaf"><a href="https://processmaker.gitbook.io/processmaker/" title="Read ProcessMaker Platform Spring 2023 documentation to learn more about the next generation of BPM.">ProcessMaker Platform</a></li>
</ul>              </div>
              <div class="clear"></div>
            </nav>
          </div>
                  <!--  <h1 id="site-title">
            <a href="/" title="Home">Documentation@ProcessMaker</a>
            <div id="site-description"></div>
          </h1> -->
            
        </div>
      </div>
      <div class="header_right">
          <div class="region region-search">
  <div id="block-search-form" class="block block-search">

        <h2 >_</h2>
    
  <div class="content">
    <form action="36.html" method="post" id="search-block-form" accept-charset="UTF-8"><div><div class="container-inline">
    <div class="form-item form-type-textfield form-item-search-block-form">
  <label class="element-invisible" for="edit-search-block-form--2">Search </label>
 <input title="Enter the terms you wish to search for." placeholder="Search" type="text" id="edit-search-block-form--2" name="search_block_form" value="" size="15" maxlength="128" class="form-text" />
</div>
<div class="form-actions form-wrapper" id="edit-actions"><input type="submit" id="edit-submit" name="op" value="Search" class="form-submit" /></div><input type="hidden" name="form_build_id" value="form-r5ajIBnuNqq1AIZr46dOpOqbAKrbA58j9kiX7zyVrdk" />
<input type="hidden" name="form_id" value="search_block_form" />
</div>
</div></form>  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
                  <h1 class="page-title">3.0 - 3.1 - Input Documents</h1>                <p class="page-title-suffix"></p>
                 <div style="margin-top: 5px;"></div>
      </div>
    </header>
    <div class="region-version">
      <span>Version: </span><ul><li><a href="../3.2/Input_Documents.html" class="">3.8</a></li><li><a href="../3.2/Input_Documents.html" class="">3.7</a></li><li><a href="../3.2/Input_Documents.html" class="">3.6</a></li><li><a href="../3.2/Input_Documents.html" class="">3.5</a></li><li><a href="../3.2/Input_Documents.html" class="">3.4</a></li><li><a href="../3.2/Input_Documents.html" class="">3.3</a></li><li><a href="../3.2/Input_Documents.html" class="">3.2</a></li><li><a  class="active-version">3.1</a></li><li><a  class="active-version">3.0</a></li><li><a href="../index.php/2.0/Input_Documents.html" class="">2.x</a></li></ul>    </div>
  </div>
</div>
<!-- <ul class="nice-menu nice-menu-down nice-menu-main-menu" id="nice-menu-0"><li class="menu-506 menu-path-node-1078 first odd "><a href="/PM_Classic" title="Learn how to develop business solutions in ProcessMaker Platform while maintaining your existing ProcessMaker 3 solutions in PM Classic: the perfect bridge between your new and existing solutions with a state-of--the-art BPM platform.">PM Classic</a></li>
<li class="menu-319 menu-path-processmakercom-tutorials  even "><a href="http://www.processmaker.com/tutorials" title="">Tutorials</a></li>
<li class="menu-320 menu-path-node-571  odd "><a href="/3.1/user_guide">User Guide</a></li>
<li class="menu-1138 menu-path-node-572  even "><a href="/3.1/developer_info">Developer Info</a></li>
<li class="menu-1197 menu-path-node-876  odd "><a href="/3.2/sys_administration">Sys Administration</a></li>
<li class="menu-1140 menu-path-node-236  even "><a href="/3.1/resources">Helpful Resources</a></li>
<li class="menu-1141 menu-path-node-554  odd "><a href="/Sitemap">Sitemap</a></li>
<li class="menu-1213 menu-path-sprocessmakergitbookio-processmaker-  even last"><a href="https://processmaker.gitbook.io/processmaker/" title="Read ProcessMaker Platform Spring 2023 documentation to learn more about the next generation of BPM.">ProcessMaker Platform</a></li>
</ul>
-->
  
  <div id="container">
    
    <div class="content-sidebar-wrap">

    <div id="content">

              <!-- <div id="breadcrumbs">
        <h2 class="element-invisible">You are here</h2><div class="breadcrumb"><a href="/">Home</a></div></div> -->
      
      <section id="post-content" role="main">
                                        <div class="region region-content">
  <div id="block-system-main" class="block block-system">

      
  <div class="content">
                          <span property="dc:title" content="3.0 - 3.1 - Input Documents" class="rdf-meta element-hidden"></span>  
      
    
  <div class="content node-community-edition">
    <div class="field field-name-field-how-useful field-type-fivestar field-label-above"><div class="field-label">Please rate how useful you found this document:&nbsp;</div><div class="field-items"><div class="field-item even"><form class="fivestar-widget" action="36.html" method="post" id="fivestar-custom-widget" accept-charset="UTF-8"><div><div  class="clearfix fivestar-average-text fivestar-average-stars fivestar-form-item fivestar-default"><div class="form-item form-type-fivestar form-item-vote">
 <div class="form-item form-type-select form-item-vote">
 <select id="edit-vote--2" name="vote" class="form-select"><option value="-">Select rating</option><option value="20">Give 3.0 - 3.1 - Input Documents 1/5</option><option value="40">Give 3.0 - 3.1 - Input Documents 2/5</option><option value="60">Give 3.0 - 3.1 - Input Documents 3/5</option><option value="80" selected="selected">Give 3.0 - 3.1 - Input Documents 4/5</option><option value="100">Give 3.0 - 3.1 - Input Documents 5/5</option></select>
<div class="description"><div class="fivestar-summary fivestar-summary-average-count"><span class="average-rating">Average: <span >3.1</span></span> <span class="total-votes">(<span >8</span> votes)</span></div></div>
</div>

</div>
</div><input class="fivestar-submit form-submit" type="submit" id="edit-fivestar-submit" name="op" value="Rate" /><input type="hidden" name="form_build_id" value="form-UAgifCLnuZpyRLCGg2IUfOoeX4xMwlHTaaJpTij9zQI" />
<input type="hidden" name="form_id" value="fivestar_custom_widget" />
</div></form></div></div></div><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><p><div style="float: right; margin-left: 5px; background-color: #f9f9f9; border: 1px solid #aaaaaa; padding: 5px;"><center><strong>Contents:</strong> [<a href="36.html#" onclick="var el = document.getElementById('toc');
        var txt = ('innerText' in el)? 'innerText' : 'textContent';
        if (el.style.display=='none') { 
           el.style.display = '';
           document.getElementById('hideLabel')[txt] = 'hide';
        }
        else {
	        el.style.display = 'none';
           document.getElementById('hideLabel')[txt] = 'show';
        }"><span id="hideLabel">hide</span></a>]</b></center><div id="toc" ><ol class="toc">
<li class="toc"><a href="36.html#Overview">Overview</a></li>
<li class="toc"><a href="36.html#Creating_Input_Documents">Creating Input Documents</a></li>
<li class="toc"><a href="36.html#Configuring_Input_Document_Maximum_Size">Configuring the Maximum Size of an Input Document</a></li>
<li class="toc"><a href="36.html#Input_Documents_Management">Input Document Management</a></li>
<li class="toc"><a href="36.html#Inserting_Input_Documents_into_the_Process">Inserting Input Documents into a Process</a></li>
<ol class="toc">
<li class="toc"><a href="36.html#As_a_step">As a Step</a></li>
<li class="toc"><a href="36.html#In_a_dynaform">In a Dynaform</a></li>
</ol>
<li class="toc"><a href="36.html#Submitting_Input_Documents">Submitting Input Documents</a></li>
<li class="toc"><a href="36.html#Accessing_Input_Documents">Accessing Input Documents</a></li>
<li class="toc"><a href="36.html#Deleting_Input_Documents">Deleting Input Documents</a></li>
<li class="toc"><a href="36.html#Input_Document_Storage">Input Document Storage</a></li>
<ol class="toc">
<li class="toc"><a href="36.html#Changing_the_File_Location">Changing the File Location</a></li>
</ol>
<li class="toc"><a href="36.html#Input_Documents_in_Triggers">Input Documents in Triggers</a></li>
<ol class="toc">
<li class="toc"><a href="36.html#email_attachments">Send Input Document Files as Email Attachments</a></li>
<li class="toc"><a href="36.html#Links_to_Input_Documents">Links to Input Documents</a></li>
<ol class="toc">
<li class="toc"><a href="36.html#Links_to_Input_Document_Files">Links to Input Document Files</a></li>
<li class="toc"><a href="36.html#Searching_for_Input_Documents">Searching for Input Documents</a></li>
<li class="toc"><a href="36.html#Link_to_an_Input_Document_file_in_a_DynaForm">Link to an Input Document File in a Dynaform</a></li>
</ol>
</div></div>
</p>

<h2><strong><span id="Overview">Overview</span></strong></h2>
<p>Input Document is a feature that allows the user to upload a file or files to attach them to a particular case. These files can be text documents, spreadsheets, images or any other kind of file. An Input Document can be a hard copy (which has been printed out and stored in a filing cabinet), a digital file that is uploaded to the case, or both.<br>

An Input Document can also be related to a <a href="../3.0/File_control.html" title="3.0/File">file</a> object in a Dynaform.</p>

<h2><strong><span id="Creating_Input_Documents">Creating Input Documents</span></strong></h2>
<p>To create a new input document go to the main toolbox of the Process Map. Hover the pointer of the mouse over the <b>+</b> symbol next to Input Documents and click on <strong>Create</strong>. Take into account that input documents created inside a project can be used only by elements related to the same project and can not be invoked from other projects or processes.</p>
<p><img src="../sites/default/files/InputDocumentsCreateOptionBPMN.png" alt=""></p>
<p>A new popup window will allow you to configure the new input document's characteristics.</p>
<p><img src="../sites/default/files/CreateInputDocumentWindowBPMN.png" alt=""></p>
<p>Here, the following properties can be defined:</p>
<ul>
    <li><strong>Title</strong>: Enter a title to identify the input document.</li>
    <li><strong>Document Type</strong>: Select whether the uploaded document will be digital, printed, or both. This option is only a reference to the process designer to indicate that a printed file may also exist outside ProcessMaker.</li>
    <li><strong>Description</strong>: Enter a description of the input document, which will help the user better understand its purpose and what type of document should be submitted.</li>
    <li><span id="versioning"><strong>Enable Versioning</strong>: Select Yes to keep multiple versions of the input document. Versioning is useful if the same input document will be submitted multiple times over the course of a case or to maintain an audit trail.</span></li>
    <li><strong>Destination Path</strong>: Create the name of a folder where this input document will be placed in <strong>CASES &gt; Documents</strong>. To use a variable in the folder name, click on the <strong>[@@]</strong> button to select a variable.<br>For example: <strong><tt>Receipts_@@USR_USERNAME</tt></strong><br>To place the input document inside a subfolder inside other folders, enter a path to that folder, separating each folder with a / (forward slash).<br>For example: <strong><tt>Receipts/@@USR_USERNAME/@@subject_@@date</tt></strong><br>To see a list of input documents, output documents and attached files found in each folder, go to <strong>CASES &gt; Documents</strong> and click on the folder.<br><span style="color: green;"><strong>Note:</strong></span> <span style="color: dimgrey;">The <strong>Destination Path</strong> only effects where the files are found in the graphical interface. It does not effect <a href="36.html#Input_Document_Storage">where input documents are stored</a> in the file system.</span></li>
    <li><strong>Tags</strong>: Enter the name of the identifying tag(s), that will be associated with this input document. To specify more than one tag name, separate each tag name with commas. Click on the <strong>[@@]</strong> button to select the variable that will be used in the tag name. Tags are really useful when <a href="36.html#Searching_for_Input_Documents">looking for input documents in the ProcessMaker database.</a></li>
    <li><p><strong>Allowed file extensions</strong>: A required field that defines which file extensions are allowed to be uploaded as an input document. When uploading a file as an input document, ProcessMaker will verify that only files with the specified extension(s) are uploaded. The following format is used to define allowed file extensions:</p>
<p><strong>*.*</strong> Allows any type of file.</p>
<p><strong>*.pdf, *.jpg, *.docx</strong> Specific types of files. To specify more than one type, separate them using commas.</p>
<p><span style="color: green;"><strong>Note:</strong></span> <span style="color: #696969;">This feature can only be used to verify the file extension, not to specify the allowed file name of an input document. For example: <tt>Student_*.pdf</tt> does not validate that all input document file names should start with "<tt>Student_</tt>".</span></p>
<p>Also, see the hint below for help defining the extensions:</p>
<p>To use this feature, the <a href="../3.0/Additional_Configuration.html#Verification_of_files_using_the_fileinfo_extension" title="Additional Server Configuration">fileinfo extension must be enabled</a>. This extension not only verifies the extension of the file, but also ensures that the extension matches the file's contents so that the user cannot upload a dangerous file (for example, when an <tt>.exe</tt> file has been renamed with the <tt>.jpg</tt> extension).</p></li>
    <li><strong>Maximum file size:</strong> A required field that defines the maximum size in KB or MB of the file to be attached. If set to zero, then the file size is unlimited.
<p style="margin-left: 25px;"><strong><span style="color: green;">Note:</span></strong> <span style="color: dimgray;">This value can not be larger than the value configured in the <strong><em>php.ini</em></strong> file. For more information, please go to the&nbsp;<a href="36.html#Configuring_Input_Document_Maximum_Size">Configuring an Input Document Maximum Size</a> section.</span></p></li></ul>
<p>After filling in the fields with the necessary information, click on <b>Save</b>.</p>

<h2><span id="Configuring_Input_Document_Maximum_Size">Configuring the Maximum Size of an Input Document</span></h2>
<p>Since uploaded files are stored as files in the hard drive, their size can be as large as allowed by the server's operating system and hard drive.Nonetheless, PHP is configured to allow the upload of files no larger than 2MB by default. To increase the maximum size of uploaded files, <a href="../3.0/Changing_the_ProcessMaker_Configuration.html#Editing_the_PHP_configuration" title="Changing the ProcessMaker Configuration">edit your <strong><tt>php.ini</tt></strong> file</a> to allow for larger file uploads.</p>
<p>Look for the "File Uploads" section and set <code>file_uploads = On</code> and increase the size of <code>upload_max_filesize</code>:</p>
<div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">;;;;;;;;;;;;;;;;<br />
; File Uploads ;<br />
;;;;;;;;;;;;;;;;<br />
; Whether to allow HTTP file uploads.<br />
file_uploads = On<br />
; Temporary directory for HTTP uploaded files (will use system default if not specified).<br />
;upload_tmp_dir =<br />
; Maximum allowed size for uploaded files.<br />
upload_max_filesize = 2M</div></div>
<p>Uploaded files are passed to the ProcessMaker server as <a href="http://en.wikipedia.org/wiki/POST_%28HTTP%29" rel="nofollow">POST</a> data, whose default maximum size is 8MB. If larger files need to be uploaded, also increase the size of <code>post_max_size</code>:</p>
<div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">; The maximum size of POST data that PHP will accept.<br />
post_max_size = 32M</div></div>

<h2><strong><span id="Input_Documents_Management">Input Document Management</span></strong></h2>
<p>To see the list of input documents created in the project, click on the option Input Documents in the main toolbox.</p>
<p><img src="../sites/default/files/InputDocumentListBPMN.png" alt=""></p>
<p>Where:</p>
<ol>
    <li>
<p><strong>Text to Search:</strong> Enter the title of the input document in this field. As text is entered, all coincidences are shown in the list below.</p>
<p><img src="../sites/default/files/InputDocumentSearchCoincidences.png" alt=""></p></li>
    <li>
<p><strong>Create:</strong> This option opens the input document creation window. It is possible to use this option to create an input document, or <a href="36.html#Creating_Input_Documents">this option</a>.</p></li>
    <li>
<p><strong>Show ID:</strong> Click on this option to obtain the Unique Identification of the input document. For instance, use this ID to create an input document using the <a href="../3.0/ProcessMaker_Functions.html#PMFAddInputDocument.28.29" title="ProcessMaker Functions">PMFAddInputDocument()</a> function.</p></li>
    <li>
<p><strong>Title:</strong> This column shows the title of the input documents created inside the project. This list is sorted in ascending order. To sort the list of input documents in descending order click on the down triangle next to "Title".</p></li>
    <li>
<p><strong>Edit:</strong> Click on this option to edit the information of the input document.</p></li>
    <li>
<p><strong>Delete:</strong> This option deletes the input document, and the following confirmation message will be shown:</p>
<p><img src="../sites/default/files/DeleteInputDocumentDeleteMessageVersion3.png" alt=""></p>
<p>Select Yes to delete the input document, and the flash message "Input document deleted successfully" will be shown in the upper part of the Process Map.</p></li>
    <li>
<p><strong>Pagination:</strong> When there are more than 10 documents created in the project, a new page is added to this window. To navigate through these pages use the &gt; or &lt; options. To view a specific page, click on the number of the page of this control.</p></li></ol>

<h2><strong><span id="Inserting_Input_Documents_into_the_Process">Inserting Input Documents into a Process</span></strong></h2>
<p>After creating an input document, decide if the input document will be submitted to one or more processes of the project. Remember that users have the option to upload multiple files for each input document.</p>

<p>If an input document will change over the course of a case, it may be a good idea to have multiple points in the process where the same input document can be submitted so that new versions of the document can be submitted. If versioning is enabled, then each version will be preserved, allowing an auditor to see how the document changed over the course of the case.</p>

<h3><strong><span id="As_a_step">As a Step</span></strong></h3>
<p>To insert an input document as a step inside a task, the input document must be already created in the process. Then, right click on the task where the input document will be assigned, and select the Steps option from the dropdown menu. A modal window opens where the list of elements available within the process are listed in the Available Elements panel. These elements are organized according to their category: Triggers, Dynaforms, Input Documents, Output Documents and Externals. On the other hand, the elements already assigned to the task are listed inside the Assigned Elements panel.</p>
<p>To add an input document to the task, go to the list of Available Elements, grab the input document by its name, and take it to the Assigned Elements list without releasing the button of the mouse. If the element is the first to be added, a gray section is immediately marked and the input document will be added regardless of where it is dropped.

A flash message is shown at the top of the panel indicating that the step was assigned correctly.</p>
<p><img src="../sites/default/files/ProcessMaker3_InputDocuments_AssignInputDocument.png" alt=""></p>

<h3><strong><span id="In_a_dynaform">In a Dynaform</span></strong></h3>
<p>After creating an input document, use a <a href="../3.0/File_control.html">File</a> control in a Dynaform to allow the user to submit the input document (this option is available as of version 3.0.1.5). Remember that users have the option to upload multiple files for each input document.</p>

<h2><span id="Submitting_Input_Documents">Submitting Input Documents</span></h2>
<p>When a case comes to an Input Document step, a form will appear prompting the user to submit the document.</p>
<p><img src="../sites/default/files/ProcessMaker3_InputDocuments_UserPromptInCase.png" alt=""></p>
<p>If it is a digital document, click on the <b>Attach</b> link and then browse for the file to upload. A comment about the input document can be added in the Comments field. Then click on <b>Save</b> to add the new input document.</p>
<p><img src="../sites/default/files/ProcessMaker3_InputDocuments_AttachAndSavet.png" alt=""></p>
<p>If it is a printed document, then simply enter the description of the document in the Comments field without uploading a file.</p>
<p>Additional input documents can be added by clicking on the Attach link. All the added input documents will be displayed in the list.</p>
<p>If versioning is enabled, new versions of an existing input document can be uploaded by clicking on the <b>New Version</b> button. To see a list of all the versions for an input document, click on its <b>Version History</b> button.</p>
<p><img src="../sites/default/files/ProcessMaker3_InputDocuments_Versioning.png" alt=""></p>
<p style="margin-left: 25px;"><strong><span style="color: green;">Note:</span></strong> <span style="color: dimgray;">When an input document file is deleted, the file remains in the server's file system and a record of the file is kept in the <strong><tt>APP_DOCUMENT</tt></strong>. The only change is that its status in the <strong><tt>APP_DOCUMENT.APP_DOC_STATUS</tt></strong> field is changed from <code>'ACTIVE'</code> to <code>'DELETED'</code>.</span></p>

<h2><span id="Accessing_Input_Documents">Accessing Input Documents</span></h2>
<p>To view an input document of a particular case, go to the <strong>HOME</strong> menu and open the case. Then go to the <strong>Information</strong> submenu and select the <strong>Uploaded Documents</strong> option to a see a list of available input document files.</p>

<p>Remember that if the logged-in user is not the user currently assigned to work on the case, then <a href="../3.0/Process_Permissions.html">Process Permissions</a> will need to be granted so the user can view the case, or the user will need to be assigned as a <a href="../3.0/Process_Permissions.html#Accessing_Input_Documents">Process Supervisor</a> and granted read/write access to the input document in the permissions.</p>
<p><img src="../sites/default/files/ProcessMaker3_Cases_Uploaded_Documents.png" alt=""></p>

<p>A dialog box will appear with a list of the input documents and attached files of the case.
To view a document, select it and click on the <strong>Download</strong> button at the top menu to download and open it on the local computer.</p>
<p><img src="../sites/default/files/UploadedDocument.png" alt=""></p>

<p>Uploaded documents can be seen by going to <strong>HOME</strong> and clicking on <a href="../3.0/Cases.html#Documents">Documents</a> at the end of the left menu. All uploaded or generated documents will be placed there:</p>
<p><img src="../sites/default/files/PanelDocuments.png" alt=""></p>
<p>Remember that only users who have the <a href="../3.0/Roles.html#PM_FOLDERS_VIEW">PM_FOLDERS_VIEW</a> in their <a href="../3.0/Roles.html#PM_FOLDERS_VIEW" title="3.0/Roles">role</a> will have the access to the Documents option. Additionally, a <strong>View</strong> <a href="../3.0/Process_Permissions.html#Accessing_Input_Documents">Process Permission</a> needs to be assigned to the user to see the input documents.</p>

<h2><span id="Deleting_Input_Documents">Deleting Input Documents</span></h2>
<p>To delete input documents, first assign the <a href="../3.0/Roles.html#PM_FOLDERS_VIEW">PM_FOLDERS_VIEW</a> and the <a href="../3.0/Roles.html#PM_FOLDER_DELETE">PM_FOLDER_DELETE</a>  permissions to the user's role to be able to access the file's folders and delete them.</p>

<p>Then, go to <strong>HOME</strong> and at the end of the left menu, select the <a href="../3.0/Cases.html#Documents">Documents</a> option. Navigate through the directory tree until the desired file is found. Right click on it and select the <b>Delete</b> option.</p>
<p><img src="../sites/default/files/PM3.0InputDocDeleteStep.png" alt=""></p>
<p>It is possible to delete one or more files at a time by selecting them using the SHIFT or CTRL keys.</p>
<p><img src="../sites/default/files/PM3.0InputDocDeleteStepTwo.png" alt=""></p>
<p>A confirmation box is displayed before deleting the files. Click on <b>Yes</b> to delete the file or click on <b>No</b> to close the box without deleting the file.</p>
<p><img src="../sites/default/files/PM3.0InputDocHomeDeleteConfirm.png" alt=""></p>
<p>Moreover, it is possible to delete an input document of a particular case when the input document is assigned as a <a href="../3.0/Tasks.html#Steps">step</a> of a <a href="../3.0/Tasks.html">task</a>.</p>
<p><img src="../sites/default/files/PM3.0InputDocStepDeleteFile.png" alt=""></p>
<p>To delete an input document, assign a <strong>Delete</strong> <a href="../3.2/Process_Permissions.html">Process Permission</a> to the user:</p>
<p><img src="../sites/default/files/PM3.0InputDocStepDeletePermission.png" alt=""></p>
<p>Then, open the case, click on the Steps button and select the input document in the list of steps. The input document file will be listed with a Delete button to remove it.</p>
<p><img src="../sites/default/files/PM3.0InputDocStepDeleteButton.png" alt=""></p>
<p>Click the <b>Delete</b> button and a confirmation message will be displayed before deleting the file.</p>
<p><img src="../sites/default/files/PM3.0InputDocStepDeleteButtonConfirm.png" alt=""></p>
<p>Finally, click on <b>Yes</b> to delete the file or click on <b>No</b> to close the message without taking any action. If Yes is chosen, the file will be deleted and the case window will refreshed displaying a "No records found" message.</p>
<p><img src="../sites/default/files/PM3.0InputDocStepDelete.png" alt=""></p>

<h2><span id="Input_Document_Storage">Input Document Storage</span></h2>
<p>Information about input document files and any other files uploaded while running cases is stored in the <code>wf_&lt;WORKSPACE&gt;.APP_DOCUMENT</code> table. The filenames of input document files is stored in the <code>wf_&lt;WORKSPACE&gt;.CONTENT</code> table where the <code>CON_CATEGORY</code> field equals 'APP_DOC_FILENAME'.</p>

<p>To search for all the input document files of a particular case, first find the case's unique ID and then use it in the following SQL query:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> D<span style="color: #66cc66;">.*,</span> C<span style="color: #66cc66;">.</span>CON_VALUE <span style="color: #993333; font-weight: bold;">FROM</span> CONTENT C<span style="color: #66cc66;">,</span> APP_DOCUMENT D<br />
&nbsp; &nbsp;<span style="color: #993333; font-weight: bold;">WHERE</span> D<span style="color: #66cc66;">.</span>APP_DOC_UID<span style="color: #66cc66;">=</span>C<span style="color: #66cc66;">.</span>CON_ID <span style="color: #993333; font-weight: bold;">AND</span> D<span style="color: #66cc66;">.</span>APP_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'</span><br />
&nbsp; &nbsp;<span style="color: #993333; font-weight: bold;">AND</span> C<span style="color: #66cc66;">.</span>CON_CATEGORY<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'APP_DOC_FILENAME'</span> <span style="color: #993333; font-weight: bold;">AND</span> D<span style="color: #66cc66;">.</span>APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span></div></div>
<p>When an input document file is uploaded while running a case, it is stored in the file system of the ProcessMaker server. It is renamed with its unique ID, but it retains its original file extension, such as <strong><tt>.xls</tt></strong>, <strong><tt>.doc</tt></strong>, <strong><tt>.pdf</tt></strong>, etc.</p>

<p>Input document files are stored at the following location on the ProcessMaker server:<br> &nbsp; &nbsp; <tt><a href="../3.0/File_Locations.html#Installation_Directory">INSTALL-DIRECTORY</a>/processmaker/shared/sites/<code><span style="color: blue;"><em>WORKSPACE</em></span></code>/files/<code><span style="color: blue;"><em>XXX</em></span>/<span style="color: blue;"><em>XXX</em></span>/<span style="color: blue;"><em>XXX</em></span>/<span style="color: blue;"><em>XXXXXXXXXXXXXXXXXXXXXXX</em></span></code>/<code><span style="color: blue;"><em>CASE-DOCUMENT-ID</em></span></code>_<code><span style="color: blue;"><em>VERSION</em></span></code>.<code><span style="color: blue;"><em>EXTENSION</em></span></code></tt></p>
<p><em>Where:</em></p>
<ul>
    <li><code><span style="color: blue;"><em>WORKSPACE</em></span></code> is the <a href="../3.0/Workspaces.html">workspace</a> name, which is <code>workflow</code> by default in ProcessMaker.</li>
    <li><code><span style="color: blue;"><em>XXX</em></span>/<span style="color: blue;"><em>XXX</em></span>/<span style="color: blue;"><em>XXX</em></span>/<span style="color: blue;"><em>XXXXXXXXXXXXXXXXXXXXXXX</em></span></code> represents a series of 4 subdirectories created from the case's unique ID to avoid the <a href="../3.0/Managing_32K_Folders.html">32KB file limits</a> of Linux's ext3 file system. If using a workspace that has been imported from ProcessMaker version 2.X, then the case's unique ID probably hasn't been broken into 4 subdirectories. The <a href="../3.0/Internal_Functions_and_Classes.html#G::getPathFromUID.28.29">G::getPathFromUID()</a> method can be used to produce the correct path to the case's files by automatically detecting whether to break the case ID into 4 subdirectories or not. The unique ID of the current case can be found in the <code>@@APPLICATION</code> system variable.</li>
    <li><code><span style="color: blue;"><em>CASE-DOCUMENT-ID</em></span></code> is the unique ID of the file, which is stored in the <strong><tt>wf_<span style="color: blue;"><em>WORKSPACE</em></span>.APP_DOCUMENT.APP_DOC_UID</tt></strong> field in the database, where the case's ID is in the <strong><tt>APP_UID</tt></strong> column.</li>
    <li><code><span style="color: blue;"><em>VERSION</em></span></code> is the file's version number, which can be found in the <strong><tt>wf_<span style="color: blue;"><em>WORKSPACE</em></span>.APP_DOCUMENT.DOC_VERSION</tt></strong> field in the database. The version numbers start counting from <code>1</code>. If the versioning option is not enabled in the properties of the input document, then the version number will always be <code>1</code>.</li>
    <li><code><span style="color: blue;"><em>EXTENSION</em></span></code> is the file extension of the input document file, such as <code>doc</code>, <code>pdf</code>, <code>xls</code>, etc. The file extension can be found by querying the <strong><tt>wf_<span style="color: blue;"><em>WORKSPACE</em></span>.CONTENT.CON_VALUE</tt></strong> field in the database where <strong><tt>CON_ID</tt></strong> is equal to the file's unique ID and <code>CON_CATEGORY='APP_DOC_FILENAME'</code>.</li></ul>
<p style="margin-left: 25px;"><span style="color: green;"><strong>Note:</strong></span> <span style="color: dimgrey;">All this information about the file can also be found by using the <a href="../3.0/Internal_Functions_and_Classes.html#AppDocument::Load.28.29">AppDocument::Load()</a> method.</span></p>
<p align="left"><strong>Example in Linux/UNIX:</strong><br> <tt>/opt/processmaker/shared/sites/<code>workflow</code>/files<code>/953/410/836/56f478db365c17079559272</code>/<code>70178872256ec84a7a2eb59060003782</code>_<code>1</code>.<code>pdf</code></tt></p>
<p align="left"><strong>Example in Windows:</strong><br> <tt>C:\Users\Admin\AppData\Roaming\ProcessMaker-3_0_1_7\processmaker\shared\sites\<code>workflow</code>\files\<code>953\410\836\56f478db365c17079559272</code>\<code>70178872256ec84a7a2eb59060003782</code>_<code>1</code>.<code>pdf</code></tt></p>
<p style="margin-left: 25px;"><em>Where</em> <code>95341083656f478db365c17079559272</code> is the case's unique ID, <code>70178872256ec84a7a2eb59060003782</code> is the file's unique ID, <code>1</code> is the version number of the file, and <code>.pdf</code> is the file's extension.</p>
<p>In a trigger, the path to an input document file can be determined using the defined constants <code>PATH_DOCUMENT</code> (which would contain a path such as <code>"/opt/processmaker/shared/sites/workflow/files/"</code>) and <code>PATH_SEP</code> (which is <code>"/"</code> or <code>"\"</code> depending on the operating system):</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$caseId</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;95341083656f478db365c17079559272&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> G<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$inputDocPath</span> <span style="color: #339933;">=</span> PATH_DOCUMENT <span style="color: #339933;">.</span> <span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getPathFromUID</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$caseId</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">.</span> PATH_SEP <span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;70178872256ec84a7a2eb59060003782_1.pdf&quot;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="Changing_the_File_Location">Changing the File Location</span></h3>
<p>To store input and output Document files in a different location, such as a NAS, then copy the contents of the file directory to the new location and then edit the source code in <code>workflow/public_html/sysGeneric.php</code> and change the location of PATH_DOCUMENT, which is defined at line 619.</p>
<p style="margin-left:25px"><strong><font color="red">Warning:</font></strong> <font color="dimgray"> Do not make any other changes to the sysGeneric.php file, or functionality will break. ProcessMaker does not recommend changing ProcessMaker core files. Proceed at your own risk. </font></p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><a href="http://php.net/define"><span style="color: #990000;">define</span></a><span style="color: #009900;">&#40;</span> <span style="color: #0000ff;">'PATH_DOCUMENT'</span><span style="color: #339933;">,</span> PATH_DATA_SITE <span style="color: #339933;">.</span> <span style="color: #0000ff;">'files/'</span> <span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
<p>For example, to store files on a NAS mounted drive at <code>/media/nas/processmaker</code>:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><a href="http://php.net/define"><span style="color: #990000;">define</span></a><span style="color: #009900;">&#40;</span> <span style="color: #0000ff;">'PATH_DOCUMENT'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'/media/nas/processmaker/'</span> <span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
<p>Make sure to include the forward slash in Linux/UNIX or the backward slash in Windows at the end of the path.</p>

<h2><span id="Input_Documents_in_Triggers">Input Documents in Triggers</span></h2>
<p>It is possible to create triggers to manipulate input document files. Take into account that when a trigger is assigned to be executed <strong>after</strong> an input document step, the trigger is executed <strong>before</strong> the file is saved and processed.</p>

<p>Once the UID for the input document definition is known, then the following code can be used in a trigger to look up the unique ID of the first input document that has been uploaded to the current case:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$docDef</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'XXXXXXXXXXXXXX'</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//UID for the input document definition</span><br />
<span style="color: #000088;">$case</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">;</span> &nbsp; &nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//UID for the current case</span><br />
<span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;SELECT APP_DOC_UID, DOC_VERSION FROM APP_DOCUMENT WHERE APP_UID='<span style="color: #006699; font-weight: bold;">$case</span>'<br />
&nbsp; &nbsp;AND DOC_UID='<span style="color: #006699; font-weight: bold;">$docDef</span>' AND APP_DOC_STATUS='ACTIVE'&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;">//check if document found</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #339933;">@@</span>DocUid <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_UID'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #339933;">@@</span>DocUid <span style="color: #339933;">=</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>
<p>To create an array of the unique IDs of all the input document files of the current case:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$docDef</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'XXXXXXXXXXXXXX'</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//UID for the input document definition</span><br />
<span style="color: #000088;">$case</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">;</span> &nbsp; &nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//UID for the current case</span><br />
<span style="color: #339933;">@=</span>DocUids <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;SELECT APP_DOC_UID FROM APP_DOCUMENT WHERE APP_UID='<span style="color: #006699; font-weight: bold;">$case</span>' AND<br />
&nbsp; &nbsp;DOC_UID='<span style="color: #006699; font-weight: bold;">$docDef</span>' AND APP_DOC_STATUS='ACTIVE' ORDER BY APP_DOC_INDEX &quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> <span style="color: #666666; font-style: italic;">//check if document found</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">foreach</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$doc</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #339933;">@=</span>DocUids<span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$doc</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_UID'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span></div></div>
<p>Once the unique ID of the case, the unique ID for the input document file, its version number, and its original file extension is known, then the file can be opened with PHP's <a href="http://php.net/manual/en/function.file-get-contents.php">file_get_contents()</a> or <a href="http://php.net/manual/en/function.file.php">file()</a> function.</p>

<h3><span id="email_attachments">Send Input Document Files as Email Attachments</span></h3>
<p>Input document files can be sent as attachments in an email with the <a href="../3.0/ProcessMaker_Functions.html#PMFSendMessage.28.29">PMFSendMessage()</a>function.
The following trigger example shows how to look up the files in the <b><tt>APP_DOCUMENT</tt></b> for a specified input document in the current case. Using the file's ID and version number that were obtained from the database, the <a href="../3.0/Internal_Functions_and_Classes.html#AppDocument::Load.28.29">AppDocument::Load()</a>method is then called to obtain the filename and file extension for each file. The path where the files are stored on the ProcessMaker server is constructed, using the defined constants <code>PATH_DOCUMENT</code> and <code>PATH_SEP</code>, and the <a href="../3.0/Internal_Functions_and_Classes.html#G::getPathFromUID.28.29">G::getPathFromUID()</a> method. Then, the
filename and path for each file is added to the associative array with the <a href="36.html">PMFAddAttachmentToArray()</a>function, which will be passed as the last parameter to <code>PMFSendMessage()</code>. The <a href="../3.0/Internal_Functions_and_Classes.html#Cases::getUsersParticipatedInCase.28.29">Cases::getUsersParticipatedInCase()</a>method is used to get a list of users who have participated in the case. Finally, <code>PMFSendMessage()</code>is called
to send out the email. Note that the email is only added to the queue in the <b><tt>APP_MESSAGE</tt></b>table and
it will not be sent until the <a href="../3.0/Executing_cron.php.html"><tt>cron.php</tt> file</a> is executed.
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$inputDocId</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'8145302265845d4b6db1721089633669'</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//set to Input Document ID</span><br />
<span style="color: #000088;">$caseId</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;">//find the UID and version for the uploaded Input Document file(s):</span><br />
<span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;SELECT APP_DOC_UID, DOC_VERSION FROM APP_DOCUMENT<br />
&nbsp; &nbsp;WHERE APP_UID='<span style="color: #006699; font-weight: bold;">$caseId</span>' AND DOC_UID='<span style="color: #006699; font-weight: bold;">$inputDocId</span>' AND<br />
&nbsp; &nbsp;APP_DOC_STATUS='ACTIVE' ORDER BY APP_DOC_INDEX&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aFiles</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aFiles</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aFiles</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$aAttached</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp;<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$aFiles</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$aFile</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$d</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> AppDocument<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$aDoc</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$d</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">Load</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aFile</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_UID'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aFile</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'DOC_VERSION'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$filename</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$aDoc</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_FILENAME'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$ext</span> <span style="color: #339933;">=</span> <a href="http://php.net/pathinfo"><span style="color: #990000;">pathinfo</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$filename</span><span style="color: #339933;">,</span> PATHINFO_EXTENSION<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> G<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$filePath</span> <span style="color: #339933;">=</span> PATH_DOCUMENT <span style="color: #339933;">.</span> <span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getPathFromUID</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$caseId</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">.</span> PATH_SEP <span style="color: #339933;">.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #000088;">$aFile</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_UID'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">.</span><span style="color: #0000ff;">'_'</span><span style="color: #339933;">.</span> <span style="color: #000088;">$aFile</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'DOC_VERSION'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">.</span><span style="color: #0000ff;">'.'</span><span style="color: #339933;">.</span> <span style="color: #000088;">$ext</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$aAttached</span> <span style="color: #339933;">=</span> PMFAddAttachmentToArray<span style="color: #009900;">&#40;</span><span style="color: #000088;">$aAttached</span><span style="color: #339933;">,</span> <span style="color: #000088;">$filename</span><span style="color: #339933;">,</span> <span style="color: #000088;">$filePath</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//get users who have participated in case:</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$c</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Cases<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$aUsers</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$c</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getUsersParticipatedInCase</span><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$to</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$aUsers</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'array'</span><span style="color: #009900;">&#93;</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$userUID</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$userInfo</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$to</span> <span style="color: #339933;">=</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/empty"><span style="color: #990000;">empty</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$to</span><span style="color: #009900;">&#41;</span> ? <span style="color: #0000ff;">''</span> <span style="color: #339933;">:</span> <span style="color: #0000ff;">', '</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$userInfo</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'USR_EMAIL'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp;PMFSendMessage<span style="color: #009900;">&#40;</span><span style="color: #000088;">$caseId</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'amos@processmaker.com'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$to</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">'Invoices for case #'</span><span style="color: #339933;">.@@</span>APP_NUMBER<span style="color: #339933;">,</span> <span style="color: #0000ff;">'invoiceTemplate.html'</span><span style="color: #339933;">,</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aAttached</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>
<p>Set the above trigger to execute <i>before</i> the next step after the input document (or Dynaform that contains a File control associated with the input document. If the input document is the last step in the task, then set the above trigger to execute <i>before assignment</i>. Do NOT set this trigger to fire <i>directly after</i> the input document or the Dynaform with a File control, because at that point, the Input Document files have not yet been saved in the server's file system.</p>

<h3><span id="Links_to_Input_Documents">Links to Input Documents</span></h3>
<p>An input document (and its list of files) that has been assigned as a step in a task can be attached and reviewed with the following URL. Remember that this URL only works with the current task of the current case, as long as the currently logged-in user has the proper privileges to open the case.</p>
<p>
<dd><dl><code>http://<span style="color: #ff8800;"><strong>&lt;IP-ADDRESS&gt;</strong></span>/sys<span style="color: #ff8800;"><strong>&lt;WORKSPACE&gt;</strong></span>/<span style="color: #ff8800;"><strong>&lt;LANG&gt;</strong></span>/<span style="color: #ff8800;"><strong>&lt;SKIN&gt;</strong></span>/cases/cases_Step?TYPE=INPUT_DOCUMENT&amp;UID=<span style="color: #ff8800;"><strong>&lt;OBJECT-UID&gt;</strong></span>&amp;POSITION=<span style="color: #ff8800;"><strong>&lt;STEP-NUMBER&gt;</strong></span>&amp;ACTION=ATTACH</code></dl></dd></p>

<p>The <span style="color: #ff8800;"><strong><tt>&lt;OBJECT-UID&gt;</tt></strong></span> is the unique ID of the input document and the <span style="color: #ff8800;"><strong><tt>&lt;POSITION&gt;</tt></strong></span> is the positive integer for the step in the task, which starts counting from 1. The UID can be <a href="../3.0/Consulting_the_ProcessMaker_databases.html#Finding_ProcessMaker_objects" title="Consulting the ProcessMaker databases">looked up</a> at <strong><tt>ProcessMaker Designer &gt; Input Documents &gt; Show ID</tt></strong>.</p>
<p><img src="../sites/default/files/PM3.0InputDocLinkContentShowID.png" alt=""></p>
<p>Or in the <strong><tt>wf_&lt;WORKSPACE&gt;.CONTENT.CON_ID</tt></strong> table.</p>
<p><img src="../sites/default/files/PM3.0InputDocLinkContentTable.png" alt=""></p>
<p>The POSITION can be looked up in the <strong><tt>wf_&lt;WORKSPACE&gt;.STEP.STEP_POSITION</tt></strong> field.</p>
<p><img src="../sites/default/files/PM3.0InputDocLinkStepTable.png" alt=""></p>
<p>The easiest way to find the right URL is to turn on <a href="../3.0/Configuration_File_env.ini.html#MySQL_Logging" title="Configuration File env.ini">MySQL Logging</a> and run a case while looking at the output in the log file.</p>
<p>For example, to attach and view the input document(s) with the UID "8391723635788ef7ae441a2069809778" and is the second step in the first task:<br>  &nbsp; <code>http://example.com/sysworkflow/en/neoclassic/cases/cases_Step?TYPE=INPUT_DOCUMENT&amp;UID=<strong>8391723635788ef7ae441a2069809778</strong>&amp;POSITION=<strong>2</strong>&amp;ACTION=ATTACH</code></p>

<p>If this URL is entered in a web browser without an open session of ProcessMaker or a case, then the user will lose her/his session and will be redirected to the login screen. Remember that the logged-in user will not be able to access the input document and its files if the current task of the opened case is not the one containing the Input Document step. Also, the user will need to have been assigned <a href="../3.0/Process_Permissions.html" title="Process Permissions">Process Permissions</a> to view the input document and/or be a <a href="../3.0/Process_Supervisors.html" title="Process Supervisors">Process Supervisor</a> to change the files in the Input Document.</p>
<p><img src="../sites/default/files/PM3.0InputDocLinkExample.png" alt=""></p>

<h4><span id="Links_to_Input_Document_Files">Links to Input Document Files</span></h4>
<p>Each input document can contain a variable number of files. Input documents files (or attached files) can be accessed with the URL:<br> &nbsp; <code>http://<span style="color: #ff8800;"><strong>&lt;IP-ADDRESS&gt;</strong></span>/sys<span style="color: #ff8800;"><strong>&lt;WORKSPACE&gt;</strong></span>/<span style="color: #ff8800;"><strong>&lt;LANG&gt;</strong></span>/<span style="color: #ff8800;"><strong>&lt;SKIN&gt;</strong></span>/cases/cases_ShowDocument?a=<span style="color: #ff8800;"><strong>&lt;CASE-DOCUMENT-UID&gt;</strong></span></code></p>
<p>Where <tt>CASE-DOCUMENT-UID</tt> can be found at <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DOCUMENT.APP_DOC_UID</tt></strong>.</p>
<p>For example:<br> &nbsp; <code>http://mycompany.com/sysworkflow/en/neoclassic/cases/cases_ShowDocument?a=4699401854d8262f569e9a1070221206</code></p>
<p>If versioning has been enabled, the version number (which starts counting from the number 1) can also be included in the URL:<br> &nbsp; <code>http://<span style="color: #ff8800;"><strong>&lt;IP-ADDRESS&gt;</strong></span>/sys<span style="color: #ff8800;"><strong>&lt;WORKSPACE&gt;</strong></span>/<span style="color: #ff8800;"><strong>&lt;LANG&gt;</strong></span>/<span style="color: #ff8800;"><strong>&lt;SKIN&gt;</strong></span>/cases/cases_ShowDocument?a=<span style="color: #ff8800;"><strong>&lt;CASE-DOCUMENT-UID&gt;</strong></span>&amp;v=<span style="color: #ff8800;"><strong>&lt;VERSION&gt;</strong></span></code></p>

<h4><span id="Searching_for_Input_Documents">Searching for Input Documents</span></h4>
<p>If using an external application or script, the unique ID of the case document can be found with the <a href="../3.0/ProcessMaker_WSDL_Web_Services.html#Input_Document_List">inputDocumentList()</a> web service. Inside a trigger or a Dynaform, the unique IDs of input document files can be looked up with the following SQL query:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> APP_DOC_UID <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT <span style="color: #993333; font-weight: bold;">WHERE</span> APP_DOC_TYPE<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'INPUT'</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span></div></div>
<p>To find the input document files of a specified case:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> APP_DOC_UID <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT <span style="color: #993333; font-weight: bold;">WHERE</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">''</span> <span style="color: #993333; font-weight: bold;">AND</span><br />
&nbsp; APP_DOC_TYPE<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'INPUT'</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span></div></div>
<p>To find the files of a specified input document and a specified case that was uploaded by a specified user:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> APP_DOC_UID <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT <span style="color: #993333; font-weight: bold;">WHERE</span> APP_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">''</span> <span style="color: #993333; font-weight: bold;">AND</span><br />
&nbsp; DOC_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'&lt;input_doc_uid&gt;'</span> <span style="color: #993333; font-weight: bold;">AND</span> USR_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'&lt;user_uid&gt;'</span> <span style="color: #993333; font-weight: bold;">AND</span><br />
&nbsp; APP_DOC_TYPE<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'INPUT'</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span></div></div>
<p>Input documents can be marked by <em>tags</em>, which provide an easy way to find related Input Documents under <strong>HOME &gt; Documents</strong>. The tags are stored in the <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DOCUMENT.APP_DOC_TAGS</tt></strong> field for each input document file and multiple tags are separated by commas. To find all input document files of a case with a specified tag:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> APP_DOC_UID <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT <span style="color: #993333; font-weight: bold;">WHERE</span> APP_DOC_TYPE<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'INPUT'</span> <span style="color: #993333; font-weight: bold;">AND</span><br />
&nbsp; &nbsp;APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_TAGS <span style="color: #993333; font-weight: bold;">LIKE</span> <span style="color: #ff0000;">'%%'</span></div></div>
<p>To find all input document files created between a certain date range:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> APP_DOC_UID <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT <span style="color: #993333; font-weight: bold;">WHERE</span> APP_DOC_TYPE<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'INPUT'</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span> <span style="color: #993333; font-weight: bold;">AND</span><br />
&nbsp; &nbsp;APP_DOC_CREATE_DATE<span style="color: #66cc66;">&gt;=</span><span style="color: #ff0000;">''</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_CREATE_DATE<span style="color: #66cc66;">&lt;=</span><span style="color: #ff0000;">''</span></div></div>
<p>To find both the UID of the case document and its original filename, query the <strong><tt>CONTENT</tt></strong> table:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> C<span style="color: #66cc66;">.</span>CON_ID<span style="color: #66cc66;">,</span> C<span style="color: #66cc66;">.</span>CON_VALUE <span style="color: #993333; font-weight: bold;">AS</span> FILENAME <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT AD<span style="color: #66cc66;">,</span> CONTENT C<br />
&nbsp; <span style="color: #993333; font-weight: bold;">WHERE</span> AD<span style="color: #66cc66;">.</span>APP_DOC_TYPE<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ATTACHED'</span> <span style="color: #993333; font-weight: bold;">AND</span> AD<span style="color: #66cc66;">.</span>APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span> <span style="color: #993333; font-weight: bold;">AND</span><br />
&nbsp; AD<span style="color: #66cc66;">.</span>APP_DOC_UID<span style="color: #66cc66;">=</span>C<span style="color: #66cc66;">.</span>CON_ID <span style="color: #993333; font-weight: bold;">AND</span> C<span style="color: #66cc66;">.</span>CON_CATEGORY<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'APP_DOC_FILENAME'</span></div></div>
<p>To find the UID of the case document and the comment entered when the file was uploaded, query the <strong><tt>CONTENT</tt></strong> table:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> C<span style="color: #66cc66;">.</span>CON_ID<span style="color: #66cc66;">,</span> C<span style="color: #66cc66;">.</span>CON_VALUE <span style="color: #993333; font-weight: bold;">AS</span> COMMENT <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT AD<span style="color: #66cc66;">,</span> CONTENT C<br />
&nbsp; <span style="color: #993333; font-weight: bold;">WHERE</span> AD<span style="color: #66cc66;">.</span>APP_DOC_TYPE<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'INPUT'</span> <span style="color: #993333; font-weight: bold;">AND</span> AD<span style="color: #66cc66;">.</span>APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span> <span style="color: #993333; font-weight: bold;">AND</span><br />
&nbsp; AD<span style="color: #66cc66;">.</span>APP_DOC_UID<span style="color: #66cc66;">=</span>C<span style="color: #66cc66;">.</span>CON_ID <span style="color: #993333; font-weight: bold;">AND</span> C<span style="color: #66cc66;">.</span>CON_CATEGORY<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'APP_DOC_COMMENT'</span></div></div>
<p>Remember that multiple files can be uploaded to an input document, so queries may return multiple records. If reading the result of a query in a trigger, then write code to loop through all the returned records in the result.</p>
<p>If the input document is configured to allow multiple versions of the same input document file, then also look for the record with the highest positive integer in the <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DOCUMENT.DOC_VERSION</tt></strong> field. (The counting starts from the number 1.)</p>
<p>To find the most recent version(s) of input document file(s) of a specified case:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> APP_DOC_UID <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT <span style="color: #993333; font-weight: bold;">WHERE</span> APP_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">''</span> <span style="color: #993333; font-weight: bold;">AND</span><br />
&nbsp; DOC_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'&lt;input_doc_uid&gt;'</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_TYPE<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'INPUT'</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span><br />
&nbsp; <span style="color: #993333; font-weight: bold;">AND</span> DOC_VERSION <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#40;</span><span style="color: #993333; font-weight: bold;">SELECT</span> <span style="color: #993333; font-weight: bold;">MAX</span><span style="color: #66cc66;">&#40;</span>DOC_VERSION<span style="color: #66cc66;">&#41;</span> <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT <span style="color: #993333; font-weight: bold;">WHERE</span> APP_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">''</span> <span style="color: #993333; font-weight: bold;">AND</span><br />
&nbsp; DOC_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'&lt;input_doc_uid&gt;'</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_TYPE<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'INPUT'</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span><span style="color: #66cc66;">&#41;</span></div></div>

<h4><span id="Link_to_an_Input_Document_file_in_a_DynaForm">Link to an Input Document File in a Dynaform</span></h4>

<p>To insert a link into a single input document file inside a Dynaform, create a trigger that uses <a href="../3.2/ProcessMaker_Functions.html#executeQuery.28.29" title="ProcessMaker Functions">executeQuery()</a> to look up the unique ID of the uploaded file in the <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DOCUMENT.APP_DOC_UID</tt></strong> field. Then, the filename can be found in the <strong><tt>wf_&lt;WORKSPACE&gt;.CONTENT.CON_VALUE</tt></strong> field by searching for the file's unique ID in the <strong><tt>wf_&lt;WORKSPACE&gt;.CONTENT.CON_ID</tt></strong> field and when <tt>CONTENT.CON_CATEGORY='APP_DOC_FILENAME'</tt>. Use the file's unique ID to construct the URL to access the document and assign that URL to a case variable that can be passed to the Dynaform holding the link field. Also assign the filename to another case variable that can be passed to the Dynaform.</p>
<p>The link field can automatically be set to the URL of the input document file and display its label by creating two case variables named <tt>@@<em><strong>link-field-name</strong></em></tt> and <tt>@@<em><strong>link-field-name</strong></em>_label</tt>.</p>
</div></div></div>  </div>

      <footer>
          </footer>
  
    </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
      </section>
    </div>
  
      
    </div>

      
</div>

 <!---add diego--->
  <div id="download-app-section" class="download-app mobile-none">
			<div class="row">
				<div class="col-md-12">
					<div class="text_app">Download our app</div>
							<a href="https://itunes.apple.com/us/app/processmaker/id992576284?ls=1&mt=8" target="_blank">
								<img src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/images/appstore.png">
							<a href="https://play.google.com/store/apps/details?id=com.colosa.processmaker" target="_blank">
								<img src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/images/playstore.png">				
				</div>
			</div>
  </div>
  <!---end diego--->
<!----add diego----->    
		<div class="logo_processmaker"><a href="http://www.processmaker.com">
		<img src="https://wiki.processmaker.com/themes/thecompany_responsive_theme/images/logo_processmaker.png"></div>
<!----end diego----->
<div id="footer">
  <div id="footer_wrapper">
      </div>

  <div class="social-media-wrapper">
         <div id="social-media-icons">
       <ul>
       	<div class="text_contact">Contact us</div>
				<div class="text_number">+1-617-340-3377</div>
        <!--<li><a class="rss" href="/rss.xml">rss</a></li> <!--edit diego-->
        <li><a class="facebook" href="http://facebook.com/processmaker/" target="_blank" rel="me">facebook</a></li>
        <li><a class="twitter" href="https://twitter.com/processmaker" target="_blank" rel="me">twitter</a></li>
        <li><a class="gplus" href="https://www.google.com/+ProcessMakerOpenSource" target="_blank" rel="me">Gplus</a></li>
        <li><a class="linkedin" href="https://www.linkedin.com/groups?mostRecent=&gid=3970335&trk=my_groups-tile-flipgrp" target="_blank" rel="me">Linked in</a></li>
        <!--<li><a class="dribbble" href="http://dribbble.com" target="_blank" rel="me">Dribbble</a></li>
        <li><a class="vimeo" href="http://vimeo.com" target="_blank" rel="me">Vimeo</a></li>-->
        <li><a class="youtube" href="https://www.youtube.com/user/processmaker" target="_blank" rel="me">Youtube</a></li>
       </ul>
      </div>
      </div>
  
  <div class="footer_credit">
    <div class="footer_inner_credit">
           <div id="foot"><div class="region region-footer">
  <div id="block-block-2" class="block block-block">

      
  <div class="content">
    <p><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF">Automate your Workflow with Business Process Management<br>Software licensed under the <a 1px="" class="external text" href="http://www.gnu.org/licenses/agpl.html" rel="nofollow" style="padding-right: 13px; color:white;">GNU Affero General Public License version 3</a><br>Contact us:&nbsp;<a class="external free" href="mailto:community@processmaker.com" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">community@processmaker.com</a><br><a class="external free" href="https://www.processmaker.com/privacy-statement" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">Privacy Statement</a></font><br><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF"> Copyright 2000-2024 ProcessMaker Inc. All rights reserved.</font></p>
  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
</div>
         
   <!-- <div id="copyright">
      <p class="copyright">Copyright &copy; 2024, Documentation@ProcessMaker </p>
      <!--<p class="credits"> Developed by  <a href="http://www.zymphonies.com">Zymphonies</a></p>
      <div class="clear"></div>
    </div>-->
  </div>
  
  </div>
</div>

</div>

<script type="text/javascript">
  /* <![CDATA[ */
  document.write (
    '<img src="https://marketing.processmaker.com/acton/bn/3812/visitor.gif?ts='+ new Date().getTime()+ '&ref='+escape(document.referrer) + '">'
  );
  /* ]]> */
</script>
  
</div>
    <style>
    .center-div{
        width: 100%;        
        margin: 0 auto;
        z-index:10000;
        position:fixed;
        bottom: 0px;
        cursor:pointer;
    }
    .round-popup{
        margin:0 auto;
        font-family: 'Montserrat', sans-serif;
        font-size: 15px;
        font-weight: lighter;
        width: 412px;
        height: 50px;
        padding-top: 7px;
        text-align: center;
        position:relative;
    }
    .round-popup-button{
        position:absolute;
        top: 11px;
        right: 15px;
        background: transparent;
        border:none;
        font-size:15px;
        font-weight:normal;
        line-height:20px;
        width:20px;
        height:20px;
        padding:0;
    }
    .round-background-blue{
        background: url('http://www.processmaker.com/uploads/blue.png')no-repeat;
        color:white;
        
    }
    #box-pm31-button-blue{
        color: rgba(255, 255, 255, 0.5);
    }
    
    #box-pm31-button-blue:active,#box-pm31-button-blue:focus{
        border:none;
        outline:none;
    }
    .round-background-blue a{
        color: white!important;
        text-decoration: none;
        font-size: 15px;
        line-height:45px;
        font-family:Montserrat, sans-serif;
    }
    .round-background-blue span{
        font-weight: bold;
    }
    /*WHITE background*/
    .round-background-white{
        background: url('http://www.processmaker.com/uploads/white.png')no-repeat;
        background-position-x: -9px;        
        color: #3397E1;
    }
    .round-background-white a:hover{
        color: #3397E1!important;
        text-decoration: none;
        font-size: 15px;
    }
    #box-pm31-button-white{
        color: rgba(51, 151, 225, 0.7);
    }
</style>
    <div id="box-pm31" class="center-div" style="display:none;">
        <div class="round-popup round-background-blue">
            <a onclick="ga('send', 'event', 'WikiBlueBanner','click','PM31Release');" href="http://www.processmaker.com/download-processmaker-landing-page">
                <span>ProcessMaker 3.1</span> is Here! Download Now <span style="font-size:20px;font-weigth:normal;"></span>
            </a>
            <button id="box-pm31-button-blue" class="round-popup-button">&times;</button>
        </div>
    </div>
    <script>

function pmCreateCookie(name,value,days) {
    if (days) {
        var date = new Date();
        date.setTime(date.getTime()+(days*24*60*60*1000));
        var expires = "; expires="+date.toGMTString();
    }
    else var expires = "";
    document.cookie = name+"="+value+expires+"; path=/";
}

function pmReadCookie(name) {
    var nameEQ = name + "=";
    var ca = document.cookie.split(';');
    for(var i=0;i < ca.length;i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
    }
    return null;
}

function pmEraseCookie(name) {
    createCookie(name,"",-1);
}



     jQuery(document).ready(function( $ ) {
        $('#box-pm31-button-blue').click(function(e){
                e.stopPropagation();
                $('#box-pm31').slideUp('fast');
                pmCreateCookie('ppcookie','val',10);
            });
        });
        jQuery(window).load(function() {
            if(pmReadCookie('ppcookie') !== 'val'){
                //jQuery('#box-pm31').delay( 2000 ).slideDown('slow');
            }
        });
    </script>
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">

<script type="text/javascript">
  (function() {
    window._pa = window._pa || {};
    // _pa.orderId = "myOrderId"; // OPTIONAL: attach unique conversion identifier to conversions
    // _pa.revenue = "19.99"; // OPTIONAL: attach dynamic purchase values to conversions
    // _pa.productId = "myProductId"; // OPTIONAL: Include product ID for use with dynamic ads
    var pa = document.createElement('script'); pa.type = 'text/javascript'; pa.async = true;
    pa.src = ('https:' == document.location.protocol ? 'https:' : 'http:') + "//tag.marinsm.com/serve/586a7ec3a2ae6b728400003d.js";
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(pa, s);
  })();
</script>

</body>
</html>
